{"version":3,"sources":["webpack:///./src/components/helpers/ZeitPromiseSolver.vue?8db3","webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./node_modules/core-js/modules/es.array.for-each.js","webpack:///./node_modules/core-js/modules/es.array.filter.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///./src/components/ui/ZeitForm.vue?a292","webpack:///./src/components/ui/ZeitForm.vue","webpack:///./src/components/ui/ZeitForm.vue?ba9e","webpack:///./src/components/ui/ZeitDetail.vue","webpack:///./src/components/ui/ZeitDetail.vue?d52e","webpack:///./src/components/ui/ZeitDetail.vue?92e1","webpack:///./src/components/helpers/ZeitPromiseSolver.vue","webpack:///./src/components/helpers/ZeitPromiseSolver.vue?248f","webpack:///./src/components/helpers/ZeitPromiseSolver.vue?d90d","webpack:///./node_modules/core-js/modules/es.object.keys.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptors.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptor.js","webpack:///./src/globals/colors.ts"],"names":["global","DOMIterables","forEach","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","prototype","error","$forEach","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","module","exports","callbackfn","this","arguments","length","undefined","$","target","proto","forced","$filter","filter","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","i","source","getOwnPropertyDescriptors","defineProperties","class","slot","getFields","field","idx","lines","lastLine","errors","name","position","color","mobileType","label","isReadOnly","disabled","localResource","renderer","promise","default","choicesByField","interface-options","interface","placeholder","cancel-text","choice","id","$display","colors","code","style","getColorStyle","updateLocalResource","components","IonItem","IonInput","IonLabel","IonSelect","IonToggle","IonSelectOption","IonSpinner","ZeitPromiseSolver","props","resource","service","formFields","type","Boolean","String","data","mode","methods","fieldVisibility","showEdit","showCreate","showField","background","copyRemoteResource","JSON","parse","stringify","watch","deep","handler","newResource","$emit","mounted","choiceFunc","remoteSourceService","remoteSourceListMethod","call","then","response","nullValues","allowNull","choices","appendCurrentEntry","results","map","indexOf","remoteSourceAttribute","console","warn","render","__scopeId","isInitialised","translucent","default-href","text","getActions","showMoreMenu","ios","ellipsisHorizontalCircle","md","ellipsisHorizontal","remoteResource","hasEditPermissions","strong","hasChanges","updateRemoteResource","hasCreatePermissions","createRemoteResource","fullscreen","ref","$event","formErrors","role","IonPage","IonHeader","IonToolbar","IonIcon","IonButton","IonButtons","IonBackButton","IonTitle","IonContent","ZeitForm","extraQueryParams","extraActions","Array","isEditable","editPermission","accountService","account","titleAttribute","newResourceTitle","newResourceConfirmation","deleteResourceMethod","deleteResourceTitle","deleteResourceConfirmation","getTitle","$route","params","reloadRemoteResource","retrieve","update","$router","go","create","message","duration","toast","present","catch","status","hasPermission","permission","meta","permissionSpace","permissions","hasDeletePermissions","actions","action","buttons","concat","actionSheet","beforeMount","resourceId","promises","list","v","Promise","all","isSolved","getPlaceholderStyle","animated","IonSkeletonText","width","display","result","toObject","nativeKeys","fails","FAILS_ON_PRIMITIVES","stat","it","DESCRIPTORS","toIndexedObject","getOwnPropertyDescriptorModule","createProperty","sham","descriptor","O","f","index","nativeGetOwnPropertyDescriptor","FORCED"],"mappings":"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","file":"js/chunk-c68e6aac.05539c38.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ZeitPromiseSolver.vue?vue&type=style&index=0&id=edc77cd2&scoped=true&lang=css\"","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\nmodule.exports = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n// Edge 14- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.es/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ZeitForm.vue?vue&type=style&index=0&id=f3eec298&scoped=true&lang=css\"","<template>\n  <div>\n    <ion-item v-for=\"(field, idx) of getFields()\" :key=\"idx\" :lines=\"idx + 1 == getFields().length ? lastLine : undefined\">\n      <ion-label position=\"stacked\" class=\"w-full\" color=\"danger\" v-if=\"errors && errors[field.name]\">{{ errors[field.name][0] }}</ion-label>\n\n      <div class=\"w-full flex items-center\" v-if=\"field.mobileType == 'text'\">\n        <ion-label>{{ field.label }}</ion-label>\n        <ion-input\n          v-if=\"!field.isReadOnly && !disabled\"\n          slot=\"end\"\n          class=\"text-right\"\n          v-model=\"localResource[field.name]\"\n        ></ion-input>\n        <ion-input v-if=\"(field.isReadOnly || disabled) && !field.renderer\" disabled slot=\"end\" class=\"text-right\" :value=\"localResource[field.name] || field.default\" />\n        <div v-else slot=\"end\" class=\"text-right flex-grow\">\n            <zeit-promise-solver :promise=\"field.renderer(localResource)\" :key=\"localResource[field.name]\" />\n        </div>\n      </div>\n      <template v-else-if=\"field.mobileType == 'stacked'\">\n        <ion-label position=\"stacked\">{{ field.label }}</ion-label>\n        <ion-input\n          :disabled=\"field.isReadOnly || disabled\"\n          v-model=\"localResource[field.name]\"\n        ></ion-input>\n      </template>\n      <template v-else-if=\"field.mobileType == 'select'\">\n        <ion-label position=\"stacked\">{{ field.label }}</ion-label>\n        <ion-spinner name=\"dots\" v-if=\"!choicesByField[field.name]\" />\n        <ion-select\n          v-if=\"choicesByField[field.name]\"\n          :disabled=\"field.isReadOnly || disabled\"\n          :interface-options=\"{ header: field.label }\"\n          interface=\"action-sheet\"\n          placeholder=\"Foo\"\n          cancel-text=\"Abbrechen\"\n          v-model=\"localResource[field.name]\"\n        >\n          <ion-select-option\n            v-for=\"choice of choicesByField[field.name]\"\n            :key=\"choice.id\"\n            :value=\"choice.id\"\n          >\n            {{ choice.$display }}\n          </ion-select-option>\n        </ion-select>\n      </template>\n      <div class=\"w-full flex items-center\" v-else-if=\"field.mobileType == 'bool'\">\n        <ion-label class=\"flex-grow\">{{ field.label }}</ion-label>\n        <ion-toggle\n          class=\"flex-none\"\n          :disabled=\"field.isReadOnly || disabled\"\n          v-model=\"localResource[field.name]\"\n        ></ion-toggle>\n      </div>\n      <template v-else-if=\"field.mobileType == 'color'\">\n        <ion-label position=\"stacked\">{{ field.label }}</ion-label>\n        <div class=\"flex flex-wrap pb-1\">\n            <div\n                v-for=\"color of colors\"\n                :key=\"color.code\"\n                class=\"color-box rounded my-2 mr-4\"\n                :class=\"{active: localResource[field.name] == color.code}\"\n                :style=\"getColorStyle(color)\"\n                @click=\"updateLocalResource(field, color.code)\"></div>\n        </div>\n      </template>\n      <template v-else>\n        {{ field.mobileType }}\n      </template>\n    </ion-item>\n  </div>\n</template>\n\n<style scoped>\n    .color-box {\n        width: 53px;\n        height: 25px;\n    }\n    .color-box.active {\n        box-shadow: 0px 0px 5px 3px rgba(var(--ion-color-primary-rgb), .6);\n    }\n    .color-box:not(.active):hover {\n        box-shadow: 0px 0px 3px 2px rgba(var(--ion-color-medium-rgb), .2);\n    }\n    ion-item {\n        overflow: initial !important;\n    }\n</style>\n\n<script>\nimport { IonItem, IonInput, IonLabel, IonSelect, IonToggle, IonSelectOption, IonSpinner } from '@ionic/vue';\nimport { defineComponent } from 'vue';\nimport { colors } from '@/globals/colors.ts';\nimport ZeitPromiseSolver from '../helpers/ZeitPromiseSolver.vue';\n\nexport default defineComponent({\n  components: { IonItem, IonInput, IonLabel, IonSelect, IonToggle, IonSelectOption, IonSpinner, ZeitPromiseSolver, },\n  props: {\n    resource: Object,\n    service: Object,\n    formFields: Object,\n    errors: Object,\n    disabled: {\n        type: Boolean,\n        default: false,\n    },\n    lastLine: String,\n  },\n  data() {\n    return {\n      colors,\n      localResource: {},\n      mode: 'create',\n      choicesByField: {},\n    }\n  },\n  methods: {\n    getFields() {\n      return (this.formFields || this.service.formFields).filter(field => {\n        const fieldVisibility = (\n          this.mode == \"edit\" && field.showEdit ||\n          this.mode == \"create\" && field.showCreate\n        );\n        if (!fieldVisibility) return false;\n\n        if (!field.showField(this.resource)) return false;\n\n        return true;\n      });\n    },\n    getColorStyle(color) {\n        return {\n            background: '#' + color.code,\n        }\n    },\n    updateLocalResource(field, value) {\n        if (this.disabled || field.isReadOnly) return;\n        this.localResource[field.name] = value;\n    },\n    copyRemoteResource() {\n        // Copy prop resource and set mode to `create` or `edit`\n        if (this.resource.id) {\n            this.localResource = JSON.parse(JSON.stringify(this.resource));\n            this.mode = \"edit\";\n        }\n    },\n  },\n\n  watch: {\n    localResource: {\n        deep: true,\n        handler(newResource) {\n          this.$emit('update:resource', newResource);\n        },\n    },\n  },\n\n  mounted() {\n    this.copyRemoteResource();\n\n    // Load choices for select fields\n    for (const field of this.getFields()) {\n      if (field.type != 'select') continue;\n\n      const choiceFunc = field.remoteSourceService[field.remoteSourceListMethod];\n      choiceFunc.call(field.remoteSourceService).then(response => {\n\n        // Add null value if allowed\n        const nullValues = [];\n        if (field.allowNull) nullValues.push({id: undefined, $display: \"Keine Auswahl\"});\n\n\n        // Validate if the current value is within the results,\n        // otherwise load it, and add it as the first option\n        let choices = [];\n\n        const appendCurrentEntry = (\n          this.localResource[field.name] &&\n          response.data.results.map(choice => choice.id).indexOf(this.localResource[field.name]) == -1\n        );\n        if (appendCurrentEntry) {\n          if (field.remoteSourceAttribute == \"id\") {\n            choices.push({id: this.localResource[field.name]});\n          } else {\n            // TODO: Load external resource with this id\n            console.warn(\"Field not loaded\");\n          }\n        }\n\n        // Add remote results\n        choices = [...choices, ...response.data.results];\n\n        // Add display attribute\n        choices = choices.map(choice => {return {$display: choice[field.remoteSourceAttribute], ...choice}});\n\n        this.choicesByField[field.name] = [...nullValues, ...choices];\n      });\n    }\n  },\n});\n</script>\n","import { render } from \"./ZeitForm.vue?vue&type=template&id=f3eec298&scoped=true\"\nimport script from \"./ZeitForm.vue?vue&type=script&lang=js\"\nexport * from \"./ZeitForm.vue?vue&type=script&lang=js\"\n\nimport \"./ZeitForm.vue?vue&type=style&index=0&id=f3eec298&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-f3eec298\"\n\nexport default script","<template>\n  <ion-page v-if=\"isInitialised\">\n    <ion-header :translucent=\"true\">\n      <ion-toolbar>\n        <ion-buttons slot=\"start\">\n          <ion-back-button default-href=\"/\" text=\"Zurück\"></ion-back-button>\n        </ion-buttons>\n        <ion-title v-if=\"false\">{{ getTitle() }}</ion-title>\n        <ion-buttons slot=\"primary\">\n            <ion-button color=\"primary\" @click=\"showMoreMenu\" v-if=\"getActions().length > 0\">\n                <ion-icon slot=\"icon-only\" :ios=\"ellipsisHorizontalCircle\" :md=\"ellipsisHorizontal\"></ion-icon>\n            </ion-button>\n            <ion-button\n                v-if=\"remoteResource.id && hasEditPermissions()\"\n                color=\"primary\"\n                :strong=\"true\"\n                :disabled=\"!hasChanges()\"\n                @click=\"updateRemoteResource()\"\n            >Speichern</ion-button>\n            <ion-button\n                v-if=\"!remoteResource.id && hasCreatePermissions()\"\n                color=\"primary\"\n                :strong=\"true\"\n                :disabled=\"!hasChanges()\"\n                @click=\"createRemoteResource()\"\n            >Hinzufügen</ion-button>\n        </ion-buttons>\n      </ion-toolbar>\n    </ion-header>\n\n    <ion-content :fullscreen=\"true\">\n      <slot name=\"before-form\" />\n      <zeit-form\n        ref=\"form\"\n        :resource=\"localResource\"\n        :service=\"service\"\n        :formFields=\"formFields\"\n        @update:resource=\"updateLocalResource($event)\"\n        :errors=\"formErrors\"\n        :disabled=\"!hasEditPermissions()\"\n      />\n      <slot name=\"after-form\"></slot>\n    </ion-content>\n  </ion-page>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport {\n    IonPage, IonHeader, IonToolbar, IonIcon, IonButton,\n    IonButtons, IonBackButton, IonTitle, IonContent, toastController,\n    actionSheetController,\n} from '@ionic/vue';\n\nimport { ellipsisHorizontalCircle, ellipsisHorizontal } from 'ionicons/icons';\n\nimport ZeitForm from './ZeitForm.vue';\nimport { AxiosResponse } from \"axios\";\n\nimport { Account, accountService } from '../../services/accounts';\n\ninterface DetailActionHandler {\n    (resource: any): void;\n}\n\nexport class DetailAction {\n    text: string;\n    handler: DetailActionHandler;\n    role?: string;\n\n    constructor(text: string, handler: DetailActionHandler, role?: string) {\n        this.text = text;\n        this.handler = handler;\n        this.role = role;\n    }\n}\n\nexport default defineComponent({\n    components: {\n        IonPage, IonHeader, IonToolbar, IonIcon, IonButton, IonButtons, IonBackButton, IonTitle, IonContent,\n        ZeitForm,\n    },\n    props: {\n        service: Object,\n        extraQueryParams: Object,\n\n        formFields: Object,\n\n        extraActions: {\n            type: Array as () => Array<DetailAction>,\n            default: () => new Array<DetailAction>(),\n        },\n        isEditable: {\n            type: Boolean,\n            default: true,\n        },\n        editPermission: {\n            type: String,\n            default: \"edit\",\n        }\n    },\n    data() {\n        return {\n            isInitialised: false,\n\n            ellipsisHorizontalCircle,\n            ellipsisHorizontal,\n\n            remoteResource: undefined as any,\n            localResource: undefined as any,\n            formErrors: undefined,\n\n            accountService,\n            account: undefined as Account | undefined,\n\n            titleAttribute: (resource: any) => resource.id,\n            newResourceTitle: '',\n            newResourceConfirmation: '',\n            deleteResourceMethod: '',\n            deleteResourceTitle: '',\n            deleteResourceConfirmation: '',\n        }\n    },\n    methods: {\n        getTitle() {\n            if (!this.$route.params.id) return this.newResourceTitle\n            return  this.titleAttribute(this.remoteResource);\n        },\n        reloadRemoteResource() {\n            return this.service!\n                .retrieve(this.$route.params.id as string, this.extraQueryParams)\n                .then((response: AxiosResponse<any>) => {\n                    this.remoteResource = response.data;\n                    this.localResource = JSON.parse(JSON.stringify(response.data)) as unknown as any;\n                });\n        },\n        hasChanges() {\n            return JSON.stringify(this.remoteResource) != JSON.stringify(this.localResource);\n        },\n        updateLocalResource(newResource: any) {\n            this.localResource = newResource;\n        },\n        updateRemoteResource() {\n            this.formErrors = undefined;\n            this.service!.update(this.localResource!.id, this.localResource!).then(() => {\n              this.$router.go(-1);\n              const toast = toastController\n                .create({\n                  message: 'Deine Änderungen wurden gespeichert.',\n                  duration: 2000\n                }).then(toast => toast.present());\n            }).catch((error: any) => {\n              if (error.response.status == 400) {\n                this.formErrors = error.response.data;\n              }\n            });\n        },\n        createRemoteResource() {\n          this.formErrors = undefined;\n          this.service!.create(this.localResource!).then(() => {\n            this.$router.go(-1);\n            toastController\n              .create({\n                message: this.newResourceConfirmation,\n                duration: 2000\n              }).then(toast => toast.present());\n          }).catch((error: any) => {\n            if (error.response.status == 400) {\n              this.formErrors = error.response.data;\n            }\n          });\n        },\n        hasPermission(name: string) {\n            if (!this.account) return false;\n\n            // TODO: Some resources have the permission `archive`, which we might need to consider here…\n            const permission = this.$route.meta.permissionSpace + ':' + name;\n            return this.account.permissions.indexOf(permission) > -1;\n        },\n        hasCreatePermissions() { return this.hasPermission(\"add\") },\n        hasEditPermissions() {\n            return this.hasPermission(this.editPermission) && this.isEditable;\n        },\n        hasDeletePermissions() { return this.hasPermission(\"delete\") },\n        getActions(): Array<any> {\n            const actions = [];\n\n            // Add extra actions\n            for (const action of this.extraActions) {\n                actions.push({\n                    text: action.text,\n                    role: action.role,\n                    handler: () => action.handler(this.remoteResource),\n                });\n            }\n\n            // Add destructive action\n            if (this.localResource.id && this.hasDeletePermissions() && this.deleteResourceMethod) actions.push({\n                text: this.deleteResourceTitle,\n                role: 'destructive',\n                handler: () => {\n                    this.service![this.deleteResourceMethod](this.localResource!.id).then(() => {\n                        this.$router.go(-1);\n                        const toast = toastController\n                        .create({\n                            message: this.deleteResourceConfirmation,\n                            duration: 2000\n                        }).then(toast => toast.present());\n                    });\n                },\n            });\n\n            return actions\n        },\n        async showMoreMenu() {\n            const actionSheet = await actionSheetController\n                .create({\n                    buttons: this.getActions().concat([\n                        {\n                            text: 'Zurück',\n                            role: 'cancel',\n                        },\n                    ]),\n                });\n            return actionSheet.present();\n        },\n    },\n    beforeMount() {\n        const resourceId = this.$route.params.id;\n        let promises = [];\n\n        // Load account\n        promises.push(this.accountService.list().then(response => {\n            this.account = response.data.results[0];\n        }));\n\n        // Load resource\n        if (resourceId) {\n            promises.push(this.reloadRemoteResource());\n        } else {\n            this.localResource = {};\n            this.remoteResource = {};\n        }\n\n        // Load labels\n        promises = promises.concat([\n            this.service!.titleAttribute(resourceId).then((v: any) => { this.titleAttribute = v }),\n            this.service!.newResourceTitle(resourceId).then((v: string) => { this.newResourceTitle = v }),\n            this.service!.newResourceConfirmation(resourceId).then((v: string) => { this.newResourceConfirmation = v }),\n            this.service!.deleteResourceMethod(resourceId).then((v: string) => { this.deleteResourceMethod = v }),\n            this.service!.deleteResourceTitle(resourceId).then((v: string) => { this.deleteResourceTitle = v }),\n            this.service!.deleteResourceConfirmation(resourceId).then((v: string) => { this.deleteResourceConfirmation = v }),\n        ]);\n\n        // Wait for all promises to finish\n        Promise.all(promises).then(() => { this.isInitialised = true });\n\n    },\n});\n</script>\n","\nimport { defineComponent } from \"vue\";\nimport {\n    IonPage, IonHeader, IonToolbar, IonIcon, IonButton,\n    IonButtons, IonBackButton, IonTitle, IonContent, toastController,\n    actionSheetController,\n} from '@ionic/vue';\n\nimport { ellipsisHorizontalCircle, ellipsisHorizontal } from 'ionicons/icons';\n\nimport ZeitForm from './ZeitForm.vue';\nimport { AxiosResponse } from \"axios\";\n\nimport { Account, accountService } from '../../services/accounts';\n\ninterface DetailActionHandler {\n    (resource: any): void;\n}\n\nexport class DetailAction {\n    text: string;\n    handler: DetailActionHandler;\n    role?: string;\n\n    constructor(text: string, handler: DetailActionHandler, role?: string) {\n        this.text = text;\n        this.handler = handler;\n        this.role = role;\n    }\n}\n\nexport default defineComponent({\n    components: {\n        IonPage, IonHeader, IonToolbar, IonIcon, IonButton, IonButtons, IonBackButton, IonTitle, IonContent,\n        ZeitForm,\n    },\n    props: {\n        service: Object,\n        extraQueryParams: Object,\n\n        formFields: Object,\n\n        extraActions: {\n            type: Array as () => Array<DetailAction>,\n            default: () => new Array<DetailAction>(),\n        },\n        isEditable: {\n            type: Boolean,\n            default: true,\n        },\n        editPermission: {\n            type: String,\n            default: \"edit\",\n        }\n    },\n    data() {\n        return {\n            isInitialised: false,\n\n            ellipsisHorizontalCircle,\n            ellipsisHorizontal,\n\n            remoteResource: undefined as any,\n            localResource: undefined as any,\n            formErrors: undefined,\n\n            accountService,\n            account: undefined as Account | undefined,\n\n            titleAttribute: (resource: any) => resource.id,\n            newResourceTitle: '',\n            newResourceConfirmation: '',\n            deleteResourceMethod: '',\n            deleteResourceTitle: '',\n            deleteResourceConfirmation: '',\n        }\n    },\n    methods: {\n        getTitle() {\n            if (!this.$route.params.id) return this.newResourceTitle\n            return  this.titleAttribute(this.remoteResource);\n        },\n        reloadRemoteResource() {\n            return this.service!\n                .retrieve(this.$route.params.id as string, this.extraQueryParams)\n                .then((response: AxiosResponse<any>) => {\n                    this.remoteResource = response.data;\n                    this.localResource = JSON.parse(JSON.stringify(response.data)) as unknown as any;\n                });\n        },\n        hasChanges() {\n            return JSON.stringify(this.remoteResource) != JSON.stringify(this.localResource);\n        },\n        updateLocalResource(newResource: any) {\n            this.localResource = newResource;\n        },\n        updateRemoteResource() {\n            this.formErrors = undefined;\n            this.service!.update(this.localResource!.id, this.localResource!).then(() => {\n              this.$router.go(-1);\n              const toast = toastController\n                .create({\n                  message: 'Deine Änderungen wurden gespeichert.',\n                  duration: 2000\n                }).then(toast => toast.present());\n            }).catch((error: any) => {\n              if (error.response.status == 400) {\n                this.formErrors = error.response.data;\n              }\n            });\n        },\n        createRemoteResource() {\n          this.formErrors = undefined;\n          this.service!.create(this.localResource!).then(() => {\n            this.$router.go(-1);\n            toastController\n              .create({\n                message: this.newResourceConfirmation,\n                duration: 2000\n              }).then(toast => toast.present());\n          }).catch((error: any) => {\n            if (error.response.status == 400) {\n              this.formErrors = error.response.data;\n            }\n          });\n        },\n        hasPermission(name: string) {\n            if (!this.account) return false;\n\n            // TODO: Some resources have the permission `archive`, which we might need to consider here…\n            const permission = this.$route.meta.permissionSpace + ':' + name;\n            return this.account.permissions.indexOf(permission) > -1;\n        },\n        hasCreatePermissions() { return this.hasPermission(\"add\") },\n        hasEditPermissions() {\n            return this.hasPermission(this.editPermission) && this.isEditable;\n        },\n        hasDeletePermissions() { return this.hasPermission(\"delete\") },\n        getActions(): Array<any> {\n            const actions = [];\n\n            // Add extra actions\n            for (const action of this.extraActions) {\n                actions.push({\n                    text: action.text,\n                    role: action.role,\n                    handler: () => action.handler(this.remoteResource),\n                });\n            }\n\n            // Add destructive action\n            if (this.localResource.id && this.hasDeletePermissions() && this.deleteResourceMethod) actions.push({\n                text: this.deleteResourceTitle,\n                role: 'destructive',\n                handler: () => {\n                    this.service![this.deleteResourceMethod](this.localResource!.id).then(() => {\n                        this.$router.go(-1);\n                        const toast = toastController\n                        .create({\n                            message: this.deleteResourceConfirmation,\n                            duration: 2000\n                        }).then(toast => toast.present());\n                    });\n                },\n            });\n\n            return actions\n        },\n        async showMoreMenu() {\n            const actionSheet = await actionSheetController\n                .create({\n                    buttons: this.getActions().concat([\n                        {\n                            text: 'Zurück',\n                            role: 'cancel',\n                        },\n                    ]),\n                });\n            return actionSheet.present();\n        },\n    },\n    beforeMount() {\n        const resourceId = this.$route.params.id;\n        let promises = [];\n\n        // Load account\n        promises.push(this.accountService.list().then(response => {\n            this.account = response.data.results[0];\n        }));\n\n        // Load resource\n        if (resourceId) {\n            promises.push(this.reloadRemoteResource());\n        } else {\n            this.localResource = {};\n            this.remoteResource = {};\n        }\n\n        // Load labels\n        promises = promises.concat([\n            this.service!.titleAttribute(resourceId).then((v: any) => { this.titleAttribute = v }),\n            this.service!.newResourceTitle(resourceId).then((v: string) => { this.newResourceTitle = v }),\n            this.service!.newResourceConfirmation(resourceId).then((v: string) => { this.newResourceConfirmation = v }),\n            this.service!.deleteResourceMethod(resourceId).then((v: string) => { this.deleteResourceMethod = v }),\n            this.service!.deleteResourceTitle(resourceId).then((v: string) => { this.deleteResourceTitle = v }),\n            this.service!.deleteResourceConfirmation(resourceId).then((v: string) => { this.deleteResourceConfirmation = v }),\n        ]);\n\n        // Wait for all promises to finish\n        Promise.all(promises).then(() => { this.isInitialised = true });\n\n    },\n});\n","import { render } from \"./ZeitDetail.vue?vue&type=template&id=207bdaf3\"\nimport script from \"./ZeitDetail.vue?vue&type=script&lang=ts\"\nexport * from \"./ZeitDetail.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n    <span>\n        <ion-skeleton-text v-if=\"!isSolved\" :style=\"getPlaceholderStyle()\" animated></ion-skeleton-text>\n        {{ value }}\n    </span>\n</template>\n\n<style scoped>\n    ion-skeleton-text {\n        margin: 0 !important;\n        padding: 2px 0;\n    }\n</style>\n\n<script lang=\"ts\">\n    import { defineComponent } from 'vue';\n\n    import { IonSkeletonText } from '@ionic/vue';\n\n    export default defineComponent({\n        components: {\n            IonSkeletonText,\n        },\n        props: {\n            promise: Object,\n            width: {\n                type: String,\n                default: '40px',\n            },\n        },\n        data() {\n            return {\n                isSolved: false,\n                value: undefined,\n            }\n        },\n        methods: {\n            getPlaceholderStyle() {\n                return {\n                    width: this.width,\n                    display: 'inline-block',\n                }\n            },\n        },\n        mounted() {\n            this.promise!.then((result: any) => {\n                this.value = result;\n                this.isSolved = true;\n            });\n        }\n    });\n</script>\n","\n    import { defineComponent } from 'vue';\n\n    import { IonSkeletonText } from '@ionic/vue';\n\n    export default defineComponent({\n        components: {\n            IonSkeletonText,\n        },\n        props: {\n            promise: Object,\n            width: {\n                type: String,\n                default: '40px',\n            },\n        },\n        data() {\n            return {\n                isSolved: false,\n                value: undefined,\n            }\n        },\n        methods: {\n            getPlaceholderStyle() {\n                return {\n                    width: this.width,\n                    display: 'inline-block',\n                }\n            },\n        },\n        mounted() {\n            this.promise!.then((result: any) => {\n                this.value = result;\n                this.isSolved = true;\n            });\n        }\n    });\n","import { render } from \"./ZeitPromiseSolver.vue?vue&type=template&id=edc77cd2&scoped=true\"\nimport script from \"./ZeitPromiseSolver.vue?vue&type=script&lang=ts\"\nexport * from \"./ZeitPromiseSolver.vue?vue&type=script&lang=ts\"\n\nimport \"./ZeitPromiseSolver.vue?vue&type=style&index=0&id=edc77cd2&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-edc77cd2\"\n\nexport default script","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar ownKeys = require('../internals/own-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar createProperty = require('../internals/create-property');\n\n// `Object.getOwnPropertyDescriptors` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptors\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIndexedObject(object);\n    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var index = 0;\n    var key, descriptor;\n    while (keys.length > index) {\n      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n      if (descriptor !== undefined) createProperty(result, key, descriptor);\n    }\n    return result;\n  }\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor(1); });\nvar FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\n$({ target: 'Object', stat: true, forced: FORCED, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n    return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);\n  }\n});\n","const colors = [\n    { code: '4e79a7', text: 'f9f9f9' },\n    { code: '59a14f', text: 'f9f9f9' },\n    { code: '9c755f', text: 'f9f9f9' },\n    { code: 'f28e2b', text: 'f9f9f9' },\n    { code: 'edc948', text: '222222' },\n    { code: 'bab0ac', text: '222222' },\n    { code: 'e15759', text: 'f9f9f9' },\n    { code: 'b07aa1', text: 'f9f9f9' },\n    { code: '76b7b2', text: 'f9f9f9' },\n    { code: 'ff9da7', text: '222222' },\n    { code: 'eeeeee', text: '222222' },\n]\n\nexport { colors };\n"],"sourceRoot":""}