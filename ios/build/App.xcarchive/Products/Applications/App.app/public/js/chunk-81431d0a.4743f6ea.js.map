{"version":3,"sources":["webpack:///./src/components/helpers/ZeitPromiseSolver.vue?8db3","webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./src/views/TimespansDetail.vue","webpack:///./src/views/TimespansDetail.vue?4937","webpack:///./src/views/TimespansDetail.vue?f192","webpack:///./node_modules/core-js/modules/es.array.for-each.js","webpack:///./node_modules/core-js/modules/es.array.filter.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///./src/components/ui/ZeitForm.vue?a292","webpack:///./src/components/ui/ZeitForm.vue","webpack:///./src/components/ui/ZeitForm.vue?ba9e","webpack:///./src/services/timespans.ts","webpack:///./src/components/helpers/ZeitPromiseSolver.vue","webpack:///./src/components/helpers/ZeitPromiseSolver.vue?248f","webpack:///./src/components/helpers/ZeitPromiseSolver.vue?d90d","webpack:///./node_modules/core-js/modules/es.object.keys.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptors.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptor.js","webpack:///./src/services/projects.ts","webpack:///./src/globals/colors.ts","webpack:///./src/views/TimespansDetail.vue?2c96"],"names":["global","DOMIterables","forEach","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","prototype","error","$forEach","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","module","exports","callbackfn","this","arguments","length","undefined","isInitialised","translucent","slot","default-href","text","color","strong","disabled","hasChanges","updateRemoteTimespan","fullscreen","showProjectSelection","resource","remoteTimespan","service","timespanService","formFields","projectFields","updateLocalTimespan","$event","commentFields","lastLine","lines","class","formatTime","checkin","time","checkout","duration","promise","formatDuration","components","IonPage","IonHeader","IonTitle","IonToolbar","IonButtons","IonBackButton","IonButton","IonContent","IonList","IonItem","IonListHeader","IonLabel","IonNote","ZeitForm","ZeitPromiseSolver","data","projectService","type","remoteSourceService","remoteSourceListMethod","remoteSourceAttribute","listPageSize","mobileType","localTimespan","methods","JSON","stringify","promises","employee_comment","push","updateEmployeeComment","id","project_id","assignProject","Promise","all","then","$router","go","create","message","toast","present","newTimespan","loadRemoteTimespan","retrieve","$route","params","Map","response","parse","intialiseProjectVisibility","list","count","mounted","render","$","target","proto","forced","$filter","filter","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","apply","_objectSpread2","i","source","getOwnPropertyDescriptors","defineProperties","getFields","field","idx","errors","name","position","label","isReadOnly","localResource","renderer","default","choicesByField","interface-options","interface","placeholder","cancel-text","choice","$display","colors","code","style","getColorStyle","updateLocalResource","IonInput","IonSelect","IonToggle","IonSelectOption","IonSpinner","props","Boolean","String","mode","fieldVisibility","showEdit","showCreate","showField","background","copyRemoteResource","watch","deep","handler","newResource","$emit","choiceFunc","call","nullValues","allowNull","choices","appendCurrentEntry","results","map","indexOf","console","warn","__scopeId","TimespanService","cacheTimeout","page","pagesize","query","employeeIds","join","workmonthIds","workdayIds","verbosity","isoDateFrom","isoDateTo","_get","resourceId","body","_patch","_post","employeeComment","payload","projectId","timespanGroup","newTimespans","timespans","ts","originalTimespanIds","result","isSolved","getPlaceholderStyle","animated","IonSkeletonText","width","display","toObject","nativeKeys","fails","FAILS_ON_PRIMITIVES","stat","it","DESCRIPTORS","toIndexedObject","getOwnPropertyDescriptorModule","createProperty","sham","descriptor","O","f","index","nativeGetOwnPropertyDescriptor","FORCED","ProjectService","autofocus","description","archivedFormFields","resolve","url","encodeURIComponent","ids","includeArchived","highlighted","clearCache"],"mappings":"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","file":"js/chunk-81431d0a.4743f6ea.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ZeitPromiseSolver.vue?vue&type=style&index=0&id=edc77cd2&scoped=true&lang=css\"","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\nmodule.exports = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","<template>\n <ion-page v-if=\"isInitialised\">\n    <ion-header :translucent=\"true\">\n      <ion-toolbar>\n        <ion-buttons slot=\"start\">\n          <ion-back-button default-href=\"/\" text=\"Zurück\"></ion-back-button>\n        </ion-buttons>\n        <ion-title v-if=\"false\">{{ getTitle() }}</ion-title>\n        <ion-buttons slot=\"primary\">\n          <ion-button\n            color=\"primary\"\n            :strong=\"true\"\n            :disabled=\"!hasChanges()\"\n            @click=\"updateRemoteTimespan()\"\n          >Speichern</ion-button>\n        </ion-buttons>\n      </ion-toolbar>\n    </ion-header>\n\n    <ion-content :fullscreen=\"true\">\n      <zeit-form\n        :resource=\"remoteTimespan\"\n        :service=\"timespanService\"\n        :formFields=\"projectFields\"\n        @update:resource=\"updateLocalTimespan($event)\"\n        v-if=\"showProjectSelection\"\n      />\n      <zeit-form\n        :resource=\"remoteTimespan\"\n        :service=\"timespanService\"\n        :formFields=\"commentFields\"\n        @update:resource=\"updateLocalTimespan($event)\"\n        lastLine=\"full\"\n      />\n\n      <ion-list-header lines=\"full\">\n        <ion-label>Arbeitszeiten</ion-label>\n      </ion-list-header>\n\n      <ion-list>\n        <ion-item>\n          Anmeldung\n          <ion-note slot=\"end\" class=\"text-sm\">\n            {{ formatTime(remoteTimespan.checkin.time, 'seconds') }}\n          </ion-note>\n        </ion-item>\n        <ion-item>\n          Abmeldung\n          <ion-note slot=\"end\" class=\"text-sm\" v-if=\"remoteTimespan.checkout\">{{ formatTime(remoteTimespan.checkout.time, 'seconds') }}</ion-note>\n          <ion-note slot=\"end\" class=\"text-sm\" v-else>??</ion-note>\n        </ion-item>\n        <ion-item lines=\"full\">\n          Erfasste Zeit\n          <ion-note slot=\"end\" class=\"text-sm\" v-if=\"remoteTimespan.duration\">\n            <zeit-promise-solver :promise=\"formatDuration(remoteTimespan.duration)\" /> h\n          </ion-note>\n          <ion-note slot=\"end\" class=\"text-sm\" v-else>??</ion-note>\n        </ion-item>\n      </ion-list>\n\n\n    </ion-content>\n  </ion-page>\n</template>\n\n<style>\n  ion-toolbar.transparent-bg,\n  ion-item.transparent-bg {\n    --background: transparent;\n  }\n</style>\n\n<script lang=\"ts\">\n  import { defineComponent } from 'vue'\n  import {\n      IonPage, IonHeader, IonTitle, IonToolbar, IonButtons, IonBackButton, IonButton, IonContent,\n      IonList, IonItem, IonListHeader, IonLabel, IonNote,\n\n      toastController,\n  } from '@ionic/vue';\n\n  import { Timespan, timespanService } from '../services/timespans';\n  import { FormField, PaginatedResponse } from '../services/_base';\n  import projectService, { Project } from '../services/projects';\n  import { formatDuration, formatTime } from '../globals/helpers';\n\n  import ZeitForm from '../components/ui/ZeitForm.vue';\n  import { AxiosResponse } from 'axios';\n  import ZeitPromiseSolver from '../components/helpers/ZeitPromiseSolver.vue';\n\n  export default defineComponent({\n    components: {\n      IonPage, IonHeader, IonTitle, IonToolbar, IonButtons, IonBackButton, IonButton, IonContent,\n      IonList, IonItem, IonListHeader, IonLabel, IonNote,\n\n      ZeitForm,\n      ZeitPromiseSolver,\n    },\n    data() {\n      return {\n        isInitialised: false,\n\n        timespanService,\n        projectService,\n        formatTime,\n        formatDuration,\n\n        projectFields: [\n          new FormField(\"project_id\", \"Projekt\", {\n              type: 'select',\n              remoteSourceService: projectService,\n              remoteSourceListMethod: \"listParams\",\n              remoteSourceAttribute: 'name',\n              listPageSize: 1000,\n          }),\n        ],\n        commentFields: [\n          new FormField(\"employee_comment\", \"Tätigkeitsbeschreibung\", {\n              mobileType: \"stacked\",\n          }),\n        ],\n\n        showProjectSelection: false,\n\n        remoteTimespan: undefined as Timespan|undefined,\n        localTimespan: undefined as Timespan|undefined,\n      }\n    },\n    methods: {\n      hasChanges() {\n        return JSON.stringify(this.remoteTimespan) != JSON.stringify(this.localTimespan);\n      },\n      updateRemoteTimespan() {\n        if (!this.localTimespan || !this.remoteTimespan) return;\n\n        const promises = [];\n        if (this.localTimespan.employee_comment != this.remoteTimespan.employee_comment) {\n          promises.push(\n            this.timespanService\n            .updateEmployeeComment(this.localTimespan.id, this.localTimespan.employee_comment)\n          );\n        }\n        if (this.localTimespan.project_id != this.remoteTimespan.project_id) {\n          promises.push(\n            this.timespanService\n            .assignProject(this.localTimespan.id, this.localTimespan.project_id)\n          );\n        }\n\n        Promise.all(promises).then(() => {\n          this.$router.go(-1);\n          toastController\n            .create({\n              message: 'Deine Änderungen wurden gespeichert.',\n              duration: 2000\n            }).then(toast => toast.present());\n        })\n      },\n      updateLocalTimespan(newTimespan: Timespan) {\n        this.localTimespan = newTimespan;\n      },\n      loadRemoteTimespan() {\n        return this.timespanService\n          .retrieve(this.$route.params.id as string, new Map([['verbosity', 'detail']]))\n          .then((response: AxiosResponse<Timespan>) => {\n            this.remoteTimespan = response.data;\n            this.localTimespan = JSON.parse(JSON.stringify(this.remoteTimespan));\n          });\n      },\n      intialiseProjectVisibility() {\n          return this.projectService.list().then((response: AxiosResponse<PaginatedResponse<Project>>) => {\n            this.showProjectSelection = response.data.count > 0;\n          });\n      },\n    },\n    mounted() {\n      Promise.all([\n        this.loadRemoteTimespan(),\n        this.intialiseProjectVisibility(),\n      ]).then(() => {\n        this.isInitialised = true;\n      });\n    },\n  })\n</script>\n","\n  import { defineComponent } from 'vue'\n  import {\n      IonPage, IonHeader, IonTitle, IonToolbar, IonButtons, IonBackButton, IonButton, IonContent,\n      IonList, IonItem, IonListHeader, IonLabel, IonNote,\n\n      toastController,\n  } from '@ionic/vue';\n\n  import { Timespan, timespanService } from '../services/timespans';\n  import { FormField, PaginatedResponse } from '../services/_base';\n  import projectService, { Project } from '../services/projects';\n  import { formatDuration, formatTime } from '../globals/helpers';\n\n  import ZeitForm from '../components/ui/ZeitForm.vue';\n  import { AxiosResponse } from 'axios';\n  import ZeitPromiseSolver from '../components/helpers/ZeitPromiseSolver.vue';\n\n  export default defineComponent({\n    components: {\n      IonPage, IonHeader, IonTitle, IonToolbar, IonButtons, IonBackButton, IonButton, IonContent,\n      IonList, IonItem, IonListHeader, IonLabel, IonNote,\n\n      ZeitForm,\n      ZeitPromiseSolver,\n    },\n    data() {\n      return {\n        isInitialised: false,\n\n        timespanService,\n        projectService,\n        formatTime,\n        formatDuration,\n\n        projectFields: [\n          new FormField(\"project_id\", \"Projekt\", {\n              type: 'select',\n              remoteSourceService: projectService,\n              remoteSourceListMethod: \"listParams\",\n              remoteSourceAttribute: 'name',\n              listPageSize: 1000,\n          }),\n        ],\n        commentFields: [\n          new FormField(\"employee_comment\", \"Tätigkeitsbeschreibung\", {\n              mobileType: \"stacked\",\n          }),\n        ],\n\n        showProjectSelection: false,\n\n        remoteTimespan: undefined as Timespan|undefined,\n        localTimespan: undefined as Timespan|undefined,\n      }\n    },\n    methods: {\n      hasChanges() {\n        return JSON.stringify(this.remoteTimespan) != JSON.stringify(this.localTimespan);\n      },\n      updateRemoteTimespan() {\n        if (!this.localTimespan || !this.remoteTimespan) return;\n\n        const promises = [];\n        if (this.localTimespan.employee_comment != this.remoteTimespan.employee_comment) {\n          promises.push(\n            this.timespanService\n            .updateEmployeeComment(this.localTimespan.id, this.localTimespan.employee_comment)\n          );\n        }\n        if (this.localTimespan.project_id != this.remoteTimespan.project_id) {\n          promises.push(\n            this.timespanService\n            .assignProject(this.localTimespan.id, this.localTimespan.project_id)\n          );\n        }\n\n        Promise.all(promises).then(() => {\n          this.$router.go(-1);\n          toastController\n            .create({\n              message: 'Deine Änderungen wurden gespeichert.',\n              duration: 2000\n            }).then(toast => toast.present());\n        })\n      },\n      updateLocalTimespan(newTimespan: Timespan) {\n        this.localTimespan = newTimespan;\n      },\n      loadRemoteTimespan() {\n        return this.timespanService\n          .retrieve(this.$route.params.id as string, new Map([['verbosity', 'detail']]))\n          .then((response: AxiosResponse<Timespan>) => {\n            this.remoteTimespan = response.data;\n            this.localTimespan = JSON.parse(JSON.stringify(this.remoteTimespan));\n          });\n      },\n      intialiseProjectVisibility() {\n          return this.projectService.list().then((response: AxiosResponse<PaginatedResponse<Project>>) => {\n            this.showProjectSelection = response.data.count > 0;\n          });\n      },\n    },\n    mounted() {\n      Promise.all([\n        this.loadRemoteTimespan(),\n        this.intialiseProjectVisibility(),\n      ]).then(() => {\n        this.isInitialised = true;\n      });\n    },\n  })\n","import { render } from \"./TimespansDetail.vue?vue&type=template&id=5db73952\"\nimport script from \"./TimespansDetail.vue?vue&type=script&lang=ts\"\nexport * from \"./TimespansDetail.vue?vue&type=script&lang=ts\"\n\nimport \"./TimespansDetail.vue?vue&type=style&index=0&id=5db73952&lang=css\"\nscript.render = render\n\nexport default script","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n// Edge 14- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.es/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ZeitForm.vue?vue&type=style&index=0&id=f3eec298&scoped=true&lang=css\"","<template>\n  <div>\n    <ion-item v-for=\"(field, idx) of getFields()\" :key=\"idx\" :lines=\"idx + 1 == getFields().length ? lastLine : undefined\">\n      <ion-label position=\"stacked\" class=\"w-full\" color=\"danger\" v-if=\"errors && errors[field.name]\">{{ errors[field.name][0] }}</ion-label>\n\n      <div class=\"w-full flex items-center\" v-if=\"field.mobileType == 'text'\">\n        <ion-label>{{ field.label }}</ion-label>\n        <ion-input\n          v-if=\"!field.isReadOnly && !disabled\"\n          slot=\"end\"\n          class=\"text-right\"\n          v-model=\"localResource[field.name]\"\n        ></ion-input>\n        <ion-input v-if=\"(field.isReadOnly || disabled) && !field.renderer\" disabled slot=\"end\" class=\"text-right\" :value=\"localResource[field.name] || field.default\" />\n        <div v-else slot=\"end\" class=\"text-right flex-grow\">\n            <zeit-promise-solver :promise=\"field.renderer(localResource)\" :key=\"localResource[field.name]\" />\n        </div>\n      </div>\n      <template v-else-if=\"field.mobileType == 'stacked'\">\n        <ion-label position=\"stacked\">{{ field.label }}</ion-label>\n        <ion-input\n          :disabled=\"field.isReadOnly || disabled\"\n          v-model=\"localResource[field.name]\"\n        ></ion-input>\n      </template>\n      <template v-else-if=\"field.mobileType == 'select'\">\n        <ion-label position=\"stacked\">{{ field.label }}</ion-label>\n        <ion-spinner name=\"dots\" v-if=\"!choicesByField[field.name]\" />\n        <ion-select\n          v-if=\"choicesByField[field.name]\"\n          :disabled=\"field.isReadOnly || disabled\"\n          :interface-options=\"{ header: field.label }\"\n          interface=\"action-sheet\"\n          placeholder=\"Foo\"\n          cancel-text=\"Abbrechen\"\n          v-model=\"localResource[field.name]\"\n        >\n          <ion-select-option\n            v-for=\"choice of choicesByField[field.name]\"\n            :key=\"choice.id\"\n            :value=\"choice.id\"\n          >\n            {{ choice.$display }}\n          </ion-select-option>\n        </ion-select>\n      </template>\n      <div class=\"w-full flex items-center\" v-else-if=\"field.mobileType == 'bool'\">\n        <ion-label class=\"flex-grow\">{{ field.label }}</ion-label>\n        <ion-toggle\n          class=\"flex-none\"\n          :disabled=\"field.isReadOnly || disabled\"\n          v-model=\"localResource[field.name]\"\n        ></ion-toggle>\n      </div>\n      <template v-else-if=\"field.mobileType == 'color'\">\n        <ion-label position=\"stacked\">{{ field.label }}</ion-label>\n        <div class=\"flex flex-wrap pb-1\">\n            <div\n                v-for=\"color of colors\"\n                :key=\"color.code\"\n                class=\"color-box rounded my-2 mr-4\"\n                :class=\"{active: localResource[field.name] == color.code}\"\n                :style=\"getColorStyle(color)\"\n                @click=\"updateLocalResource(field, color.code)\"></div>\n        </div>\n      </template>\n      <template v-else>\n        {{ field.mobileType }}\n      </template>\n    </ion-item>\n  </div>\n</template>\n\n<style scoped>\n    .color-box {\n        width: 53px;\n        height: 25px;\n    }\n    .color-box.active {\n        box-shadow: 0px 0px 5px 3px rgba(var(--ion-color-primary-rgb), .6);\n    }\n    .color-box:not(.active):hover {\n        box-shadow: 0px 0px 3px 2px rgba(var(--ion-color-medium-rgb), .2);\n    }\n    ion-item {\n        overflow: initial !important;\n    }\n</style>\n\n<script>\nimport { IonItem, IonInput, IonLabel, IonSelect, IonToggle, IonSelectOption, IonSpinner } from '@ionic/vue';\nimport { defineComponent } from 'vue';\nimport { colors } from '@/globals/colors.ts';\nimport ZeitPromiseSolver from '../helpers/ZeitPromiseSolver.vue';\n\nexport default defineComponent({\n  components: { IonItem, IonInput, IonLabel, IonSelect, IonToggle, IonSelectOption, IonSpinner, ZeitPromiseSolver, },\n  props: {\n    resource: Object,\n    service: Object,\n    formFields: Object,\n    errors: Object,\n    disabled: {\n        type: Boolean,\n        default: false,\n    },\n    lastLine: String,\n  },\n  data() {\n    return {\n      colors,\n      localResource: {},\n      mode: 'create',\n      choicesByField: {},\n    }\n  },\n  methods: {\n    getFields() {\n      return (this.formFields || this.service.formFields).filter(field => {\n        const fieldVisibility = (\n          this.mode == \"edit\" && field.showEdit ||\n          this.mode == \"create\" && field.showCreate\n        );\n        if (!fieldVisibility) return false;\n\n        if (!field.showField(this.resource)) return false;\n\n        return true;\n      });\n    },\n    getColorStyle(color) {\n        return {\n            background: '#' + color.code,\n        }\n    },\n    updateLocalResource(field, value) {\n        if (this.disabled || field.isReadOnly) return;\n        this.localResource[field.name] = value;\n    },\n    copyRemoteResource() {\n        // Copy prop resource and set mode to `create` or `edit`\n        if (this.resource.id) {\n            this.localResource = JSON.parse(JSON.stringify(this.resource));\n            this.mode = \"edit\";\n        }\n    },\n  },\n\n  watch: {\n    localResource: {\n        deep: true,\n        handler(newResource) {\n          this.$emit('update:resource', newResource);\n        },\n    },\n  },\n\n  mounted() {\n    this.copyRemoteResource();\n\n    // Load choices for select fields\n    for (const field of this.getFields()) {\n      if (field.type != 'select') continue;\n\n      const choiceFunc = field.remoteSourceService[field.remoteSourceListMethod];\n      choiceFunc.call(field.remoteSourceService).then(response => {\n\n        // Add null value if allowed\n        const nullValues = [];\n        if (field.allowNull) nullValues.push({id: undefined, $display: \"Keine Auswahl\"});\n\n\n        // Validate if the current value is within the results,\n        // otherwise load it, and add it as the first option\n        let choices = [];\n\n        const appendCurrentEntry = (\n          this.localResource[field.name] &&\n          response.data.results.map(choice => choice.id).indexOf(this.localResource[field.name]) == -1\n        );\n        if (appendCurrentEntry) {\n          if (field.remoteSourceAttribute == \"id\") {\n            choices.push({id: this.localResource[field.name]});\n          } else {\n            // TODO: Load external resource with this id\n            console.warn(\"Field not loaded\");\n          }\n        }\n\n        // Add remote results\n        choices = [...choices, ...response.data.results];\n\n        // Add display attribute\n        choices = choices.map(choice => {return {$display: choice[field.remoteSourceAttribute], ...choice}});\n\n        this.choicesByField[field.name] = [...nullValues, ...choices];\n      });\n    }\n  },\n});\n</script>\n","import { render } from \"./ZeitForm.vue?vue&type=template&id=f3eec298&scoped=true\"\nimport script from \"./ZeitForm.vue?vue&type=script&lang=js\"\nexport * from \"./ZeitForm.vue?vue&type=script&lang=js\"\n\nimport \"./ZeitForm.vue?vue&type=style&index=0&id=f3eec298&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-f3eec298\"\n\nexport default script","import BaseService, { FormField, PaginatedResponse } from './_base';\n\nimport { Timestamp } from \"./timestamps\";\n\n\ninterface Timespan {\n    id: string;\n    checkin: Timestamp;\n\n    checkout?: Timestamp;\n    employee_comment?: string;\n    project_id?: string;\n\n    duration?: number;\n}\n\ninterface TimespanListParams {\n    employeeIds?: Array<string>;\n    workmonthIds?: Array<string>;\n    workdayIds?: Array<string>;\n    isoDateFrom?: string;\n    isoDateTo?: string;\n    page?: number;\n    pagesize?: number;\n    verbosity?: string;\n}\n\ninterface TimespanHistoryParams {\n    page?: number;\n    pagesize?: number;\n}\n\nclass TimespanGroup {\n    originalTimespanIds: Array<string>;\n    timespans: Array<Timespan>;\n\n    constructor() {\n        this.timespans = [];\n        this.originalTimespanIds = [];\n    }\n\n    checkin(): string { return this.timespans[0].checkin.time }\n\n    checkout(): string { return this.timespans[this.timespans.length - 1].checkout!.time }\n\n    stampTimespanIds() {\n        this.originalTimespanIds = [];\n        for (const ts of this.timespans) {\n            this.originalTimespanIds.push(ts.id);\n        }\n    }\n}\n\ninterface TimespanSetTimesBody {\n    checkin: string;\n    checkout?: string;\n    project_id?: string;\n}\n\ninterface TimespanAddTimesBody {\n    workday_id: string;\n    checkin: string;\n    checkout?: string;\n    project_id?: string;\n}\n\nclass TimespanService extends BaseService<Timespan> {\n    constructor() {\n        super(\"/api/v2/timestamps/timespans/\");\n\n        this.cacheTimeout = 60;\n    }\n\n    listParams(params: TimespanListParams): PaginatedResponse<Timespan> {\n        params = params || {};\n        const page = params.page || 1;\n        const pagesize = params.pagesize || 50;\n\n        let query =\n            '?limit=' + String(pagesize) +\n            '&offset=' + String((page - 1) * pagesize);\n\n        if (params.employeeIds) query += \"&employee_ids=\" + params.employeeIds.join(\"|\");\n        if (params.workmonthIds) query += \"&workmonth_ids=\" + params.workmonthIds.join(\"|\");\n        if (params.workdayIds) query += \"&workday_ids=\" + params.workdayIds.join(\"|\");\n        if (params.verbosity) query += '&verbosity=' + params.verbosity;\n        if (params.isoDateFrom) query += '&datetime_from=' + params.isoDateFrom;\n        if (params.isoDateTo) query += '&datetime_to=' + params.isoDateTo;\n\n        return this._get(query) as unknown as PaginatedResponse<Timespan>;\n    }\n\n    history(resourceId: string, params: TimespanHistoryParams) {\n        params = params || {};\n        const page = params.page || 1;\n        const pagesize = params.pagesize || 50;\n\n        const query =\n            resourceId + \"/history/\" +\n            '?limit=' + String(pagesize) +\n            '&offset=' + String((page - 1) * pagesize);\n\n        return this._get(query);\n    }\n\n    setTimes(resourceId: string, body: TimespanSetTimesBody): Promise<Timespan> {\n        const query = resourceId + \"/set-times/\";\n        return this._patch(query, body) as unknown as Promise<Timespan>;\n    }\n\n    addTimes(body: TimespanAddTimesBody): Promise<Timespan> {\n        const query = \"add-times/\";\n        return this._post(query, body) as unknown as Promise<Timespan>;\n    }\n\n    updateEmployeeComment(resourceId: string, employeeComment?: string): Promise<Timespan> {\n        const query = resourceId + \"/update-employee-comment/\";\n        const payload = {\n            'employee_comment': employeeComment,\n        }\n        return this._post(query, payload) as unknown as Promise<Timespan>;\n    }\n\n    assignProject(resourceId: string, projectId?: string): Promise<Timespan> {\n        const query = resourceId + \"/assign-project/\";\n        const payload = {\n            'project_id': projectId || undefined,\n        }\n        return this._post(query, payload) as unknown as Promise<Timespan>;\n    }\n\n    modifyConsecutiveTimespans(timespanGroup: TimespanGroup): Promise<TimespanGroup> {\n        const query = \"modify-consecutive-timespans/\";\n        const newTimespans = [];\n        for (const ts of timespanGroup.timespans) {\n            newTimespans.push({\n                'checkin': ts.checkin.time,\n                'checkout': ts.checkout?.time,\n                'employee_comment': ts.employee_comment,\n                'project_id': ts.project_id,\n            });\n        }\n\n        const payload = {\n            'source_timespan_ids': timespanGroup.originalTimespanIds,\n            'new_timespans': newTimespans,\n        };\n\n        const result = this._post(query, payload) as unknown as Promise<Array<Timespan>>;\n\n        return result.then(response => {\n            timespanGroup.originalTimespanIds = response.map(ts => ts.id);\n            timespanGroup.timespans = response;\n\n            return timespanGroup\n        })\n    }\n}\n\nconst timespanService = new TimespanService();\n\nexport { Timespan, timespanService }\n","<template>\n    <span>\n        <ion-skeleton-text v-if=\"!isSolved\" :style=\"getPlaceholderStyle()\" animated></ion-skeleton-text>\n        {{ value }}\n    </span>\n</template>\n\n<style scoped>\n    ion-skeleton-text {\n        margin: 0 !important;\n        padding: 2px 0;\n    }\n</style>\n\n<script lang=\"ts\">\n    import { defineComponent } from 'vue';\n\n    import { IonSkeletonText } from '@ionic/vue';\n\n    export default defineComponent({\n        components: {\n            IonSkeletonText,\n        },\n        props: {\n            promise: Object,\n            width: {\n                type: String,\n                default: '40px',\n            },\n        },\n        data() {\n            return {\n                isSolved: false,\n                value: undefined,\n            }\n        },\n        methods: {\n            getPlaceholderStyle() {\n                return {\n                    width: this.width,\n                    display: 'inline-block',\n                }\n            },\n        },\n        mounted() {\n            this.promise!.then((result: any) => {\n                this.value = result;\n                this.isSolved = true;\n            });\n        }\n    });\n</script>\n","\n    import { defineComponent } from 'vue';\n\n    import { IonSkeletonText } from '@ionic/vue';\n\n    export default defineComponent({\n        components: {\n            IonSkeletonText,\n        },\n        props: {\n            promise: Object,\n            width: {\n                type: String,\n                default: '40px',\n            },\n        },\n        data() {\n            return {\n                isSolved: false,\n                value: undefined,\n            }\n        },\n        methods: {\n            getPlaceholderStyle() {\n                return {\n                    width: this.width,\n                    display: 'inline-block',\n                }\n            },\n        },\n        mounted() {\n            this.promise!.then((result: any) => {\n                this.value = result;\n                this.isSolved = true;\n            });\n        }\n    });\n","import { render } from \"./ZeitPromiseSolver.vue?vue&type=template&id=edc77cd2&scoped=true\"\nimport script from \"./ZeitPromiseSolver.vue?vue&type=script&lang=ts\"\nexport * from \"./ZeitPromiseSolver.vue?vue&type=script&lang=ts\"\n\nimport \"./ZeitPromiseSolver.vue?vue&type=style&index=0&id=edc77cd2&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-edc77cd2\"\n\nexport default script","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar ownKeys = require('../internals/own-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar createProperty = require('../internals/create-property');\n\n// `Object.getOwnPropertyDescriptors` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptors\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIndexedObject(object);\n    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var index = 0;\n    var key, descriptor;\n    while (keys.length > index) {\n      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n      if (descriptor !== undefined) createProperty(result, key, descriptor);\n    }\n    return result;\n  }\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor(1); });\nvar FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\n$({ target: 'Object', stat: true, forced: FORCED, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n    return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);\n  }\n});\n","import { AxiosResponse } from 'axios';\nimport { BaseService, FormField, PaginatedResponse } from './_base';\n\ninterface ProjectListParams {\n    ids?: Array<string>;\n    includeArchived?: boolean;\n    highlighted?: boolean;\n}\n\ninterface Project {\n    id: string;\n    archived_at?: string;\n    name: string;\n    code: string;\n    color: string;\n    total_duration: number;\n}\n\nclass ProjectService extends BaseService<Project> {\n    archivedFormFields: Array<FormField<any>>;\n\n    constructor() {\n        super(\"/api/v2/projects/projects/\");\n        this.formFields = [\n            new FormField(\"name\", \"Name\", { autofocus: true }),\n            new FormField(\"code\", \"Code\", {}),\n            new FormField(\"highlighted\", \"Hervorgehoben\", {\n                type: 'bool',\n                description: \"Hervorgehobene Projekte können schneller durch Mitarbeiter ausgewählt werden. Es können maximal 3 Projekte hervorgehoben werden.\",\n            }),\n            new FormField(\"color\", \"Farbe\", { type: 'color' }),\n        ];\n\n        this.archivedFormFields = [\n            new FormField(\"name\", \"Name\", { isReadOnly: true }),\n            new FormField(\"code\", \"Code\", { isReadOnly: true }),\n            new FormField(\"highlighted\", \"Hervorgehoben\", {\n                type: 'bool',\n                isReadOnly: true,\n                description: \"Hervorgehobene Projekte können schneller durch Mitarbeiter ausgewählt werden. Es können maximal 3 Projekte hervorgehoben werden.\",\n            }),\n            new FormField(\"color\", \"Farbe\", { type: 'color', isReadOnly: true }),\n        ];\n\n        this.cacheTimeout = 60 * 5;\n    }\n\n    newResourceTitle(resourceId?: string): Promise<string> { return Promise.resolve(\"Projekt hinzufügen\") }\n    newResourceConfirmation(resourceId?: string): Promise<string> { return Promise.resolve(\"Projekt hinzugefügt\") }\n    deleteResourceMethod(resourceId?: string): Promise<string> { return Promise.resolve(\"archive\") }\n    deleteResourceTitle(resourceId?: string): Promise<string> { return Promise.resolve(\"Archivieren\") }\n    deleteResourceConfirmation(resourceId?: string): Promise<string> { return Promise.resolve(\"Projekt archiviert\") }\n\n    listParams(page=1, pagesize=50, query='', params: ProjectListParams): Promise<AxiosResponse<PaginatedResponse<Project>>> {\n        params = params || {};\n\n        let url =\n            '?limit=' + String(pagesize) +\n            '&offset=' + String((page - 1) * pagesize) +\n            '&q=' + encodeURIComponent(String(query));\n\n        if (params.ids && params.ids.length > 0) url += '&ids=' + params.ids.join(\"|\");\n        if ((params.ids && params.ids.length > 0) || params.includeArchived) url += '&include-archived';\n\n        if (params.highlighted) url += '&highlighted';\n\n        return this._get(url) as unknown as Promise<AxiosResponse<PaginatedResponse<Project>>>;\n    }\n\n    archive(resourceId: string): Promise<AxiosResponse<Project>> {\n        const promise = this._post(resourceId + \"/archive/\", {});\n\n        // Clean cache after archive request was successfull\n        promise.then(() => {\n            this.clearCache();\n        });\n\n        return promise as unknown as Promise<AxiosResponse<Project>>;\n    }\n}\n\nconst projectService = new ProjectService();\n\nexport { projectService, ProjectService, Project };\n\nexport default projectService;\n","const colors = [\n    { code: '4e79a7', text: 'f9f9f9' },\n    { code: '59a14f', text: 'f9f9f9' },\n    { code: '9c755f', text: 'f9f9f9' },\n    { code: 'f28e2b', text: 'f9f9f9' },\n    { code: 'edc948', text: '222222' },\n    { code: 'bab0ac', text: '222222' },\n    { code: 'e15759', text: 'f9f9f9' },\n    { code: 'b07aa1', text: 'f9f9f9' },\n    { code: '76b7b2', text: 'f9f9f9' },\n    { code: 'ff9da7', text: '222222' },\n    { code: 'eeeeee', text: '222222' },\n]\n\nexport { colors };\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./TimespansDetail.vue?vue&type=style&index=0&id=5db73952&lang=css\""],"sourceRoot":""}