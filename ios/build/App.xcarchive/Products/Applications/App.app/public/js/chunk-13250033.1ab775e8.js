(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13250033"],{3835:function(e,t,n){"use strict";function i(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return u}));n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0");function r(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(i=(o=u.next()).done);i=!0)if(n.push(o.value),t&&n.length===t)break}catch(c){r=!0,a=c}finally{try{i||null==u["return"]||u["return"]()}finally{if(r)throw a}}return n}}var a=n("06c5");function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){return i(e)||r(e,t)||Object(a["a"])(e,t)||o()}},5141:function(e,t,n){},"771a":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n("a15b"),n("d3b7");var i=n("d4ec"),r=n("bee2"),a=n("262e"),o=n("2caf"),u=n("df40"),c=function(e){Object(a["a"])(n,e);var t=Object(o["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.call(this,"/api/v2/employees/groups/"),e.formFields=[new u["c"]("name","Abteilungsname",{autofocus:!0,mobileType:"stacked"})],e.cacheTimeout=1209600,e}return Object(r["a"])(n,[{key:"newResourceTitle",value:function(e){return Promise.resolve("Abteilung hinzufügen")}},{key:"newResourceConfirmation",value:function(e){return Promise.resolve("Abteilung hinzugefügt")}},{key:"deleteResourceMethod",value:function(e){return Promise.resolve("delete")}},{key:"deleteResourceTitle",value:function(e){return Promise.resolve("Entfernen")}},{key:"deleteResourceConfirmation",value:function(e){return Promise.resolve("Abteilung entfernt")}},{key:"listParams",value:function(e){var t=e.pagesize||50,n=e.page||1,i=e.query||"",r="?limit="+String(t)+"&offset="+String((n-1)*t)+"&q="+encodeURIComponent(String(i));return e.ids&&(r+="&ids="+e.ids.join("|")),this._get(r)}}]),n}(u["a"]),l=new c},"9e52":function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));n("a15b");var i=n("d4ec"),r=n("bee2"),a=n("262e"),o=n("2caf"),u=n("df40"),c=function(e){Object(a["a"])(n,e);var t=Object(o["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.call(this,"/api/v2/devices/physical-tokens/"),e.cacheTimeout=1209600,e}return Object(r["a"])(n,[{key:"list",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i="?limit="+String(t)+"&offset="+String((e-1)*t)+"&q="+encodeURIComponent(String(n));return this._get(i)}},{key:"listParams",value:function(e){e=e||{},e.pagesize=e.pagesize||1e3,e.page=e.page||1,e.query=e.query||"",e.fields=e.fields||["id"],e.ids=e.ids||[];var t="?limit="+String(e.pagesize)+"&offset="+String((e.page-1)*e.pagesize)+"&q="+encodeURIComponent(String(e.query))+"&fields="+e.fields.join("|")+"&ids="+e.ids.join("|");return this._get(t)}},{key:"listCreate",value:function(e){return this._post("",{ids:e})}},{key:"listDelete",value:function(e){return this._post("delete/",{ids:e})}},{key:"listAvailable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r="?limit="+String(t)+"&offset="+String((e-1)*t)+"&type=available&q="+encodeURIComponent(String(n))+"&additional="+String(i);return this._get(r)}}]),n}(u["a"]),l=new c;t["a"]=l},ab31:function(e,t,n){"use strict";n.d(t,"b",(function(){return v}));n("99af"),n("a15b"),n("b0c0"),n("d3b7"),n("96cf");var i=n("1da1"),r=n("d4ec"),a=n("bee2"),o=n("262e"),u=n("2caf"),c=n("df40"),l=n("771a"),s=n("9e52"),d=n("d62b"),b=n("d0ac"),m=function(e){Object(o["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(r["a"])(this,n),e=t.call(this,"/api/v2/employees/employees/"),e.formFields=[new c["c"]("first_name","Vorname",{autofocus:!0}),new c["c"]("last_name","Nachname"),new c["c"]("email","E-Mail-Adresse",{mobileType:"stacked"}),new c["c"]("employee_group_id","Abteilung",{type:"select",remoteSourceService:l["a"],remoteSourceAttribute:"name"}),new c["c"]("physical_token_id","Token-Nummer",{type:"select",description:"Die ausgewählte Token-Nummer kann zur Authentifizierung am Zeiterfassungs-Terminal verwendet werden. Nur nicht bereits zugewiesene Nummern werden angezeigt. <a target='_blank' href='/tokens/'>Token verwalten</a>",remoteSourceService:s["b"],remoteSourceListMethod:"listAvailable",remoteSourceAttribute:"id",listPageSize:1e3}),new c["c"]("accounting_number","Personalnummer",{mobileType:"stacked",description:"Die Personalnummer wird verwendet, um den Mitarbeiter im Buchhaltungsexport zu identifizieren."})],"orange"==b["a"].id&&e.formFields.push(new c["c"]("external_id","aQrate Benutzername",{mobileType:"stacked",description:"Der Benutzername wird verwendet, um diesen Zeitblick Mitarbeiter einem aQrate Mitarbeiter bei Authentifizierung am MFP zuzuordnen."})),e.formFields=e.formFields.concat([new c["c"]("username",b["a"].name+" Benutzername",{mobileType:"stacked",description:"Der Benutzername wird vom Mitarbeiter benötigt, um sich gegenüber der "+b["a"].name+" Smartphone App und dem Web-Login (https://"+b["a"].url+"/) zu authentifizieren.",isReadOnly:!0,showCreate:!1}),new c["c"]("initial_password","Vorläufiges Passwort",{mobileType:"stacked",isReadOnly:!0,showCreate:!1})]),e.archivedFormFields=[new c["c"]("first_name","Vorname",{isReadOnly:!0}),new c["c"]("last_name","Nachname",{isReadOnly:!0}),new c["c"]("email","E-Mail-Adresse",{isReadOnly:!0}),new c["c"]("employee_group_id","Abteilung",{type:"select",remoteSourceService:l["a"],remoteSourceAttribute:"name",isReadOnly:!0}),new c["c"]("accounting_id","Personalnummer",{description:"Die Personalnummer wird verwendet, um den Mitarbeiter im Buchhaltungsexport zu identifizieren.",isReadOnly:!0})],"orange"==b["a"].id&&e.archivedFormFields.push(new c["c"]("external_id","aQrate Benutzername",{description:"Der Benutzername wird verwendet, um diesen Zeitblick Mitarbeiter einem aQrate Mitarbeiter bei Authentifizierung am MFP zuzuordnen.",isReadOnly:!0})),e.filterAttributes=[new c["b"]("showArchived","Archivierte Mitarbeiter anzeigen","boolean",!1,{visible:e.listParams({showArchived:!0}).then((function(e){return e.data.count>0}))}),new c["b"]("employeeGroups","Abteilungen","select",void 0,{multiple:!0,remoteSourceService:l["a"],visible:l["a"].listParams({}).then((function(e){return e.data.count>0}))})],e.cacheTimeout=1209600,e}return Object(a["a"])(n,[{key:"titleAttribute",value:function(){return Promise.resolve((function(e){return e.first_name+" "+e.last_name}))}},{key:"newResourceTitle",value:function(e){return Promise.resolve("Mitarbeiter hinzufügen")}},{key:"newResourceConfirmation",value:function(e){return Promise.resolve("Mitarbeiter hinzugefügt")}},{key:"deleteResourceMethod",value:function(e){return e?this.retrieve(e).then((function(e){return e.data.can_be_deleted?Promise.resolve("delete"):e.data.archived_at?Promise.resolve(""):Promise.resolve("archive")})):Promise.resolve("")}},{key:"deleteResourceTitle",value:function(e){return e?this.retrieve(e).then((function(e){return e.data.can_be_deleted?Promise.resolve("Entfernen"):e.data.archived_at?Promise.resolve(""):Promise.resolve("Archivieren")})):Promise.resolve("Entfernen")}},{key:"deleteResourceConfirmation",value:function(e){return e?this.retrieve(e).then((function(e){return e.data.can_be_deleted?Promise.resolve("Mitarbeiter entfernt"):e.data.archived_at?Promise.resolve(""):Promise.resolve("Mitarbeiter archiviert")})):Promise.resolve("Mitarbeiter entfernt")}},{key:"retrieveSettingValue",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,n,i){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.retrieveSettings(t);case 2:if(r=e.sent.data,!(n in r)||!(i in r[n])){e.next=5;break}return e.abrupt("return",r[n][i]);case 5:return e.abrupt("return",d["b"].retrieveSettingValue(n,i));case 6:case"end":return e.stop()}}),e,this)})));function t(t,n,i){return e.apply(this,arguments)}return t}()},{key:"retrieveSettings",value:function(e){return this._get(e+"/settings/")}},{key:"updateSettings",value:function(e,t){return this._post(e+"/settings/",t)}},{key:"resetPassword",value:function(e){return this._post(e+"/reset-password/",{})}},{key:"list",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,a="?limit="+String(t)+"&offset="+String((e-1)*t)+"&q="+encodeURIComponent(String(n));return void 0!=i&&(a=a+"&employee_groups="+i),!0===r&&(a+="&archived"),this._get(a)}},{key:"listParams",value:function(e){var t=e.pagesize||50,n=e.page||1,i=e.query||"",r="?limit="+String(t)+"&offset="+String((n-1)*t)+"&q="+encodeURIComponent(String(i));return e.verbosity&&(r+="&verbosity="+e.verbosity),e.ids&&(r+="&ids="+e.ids.join("|")),e.employeeGroups&&(r+="&employee_groups="+e.employeeGroups.join("|")),!0===e.showArchived&&(r+="&archived"),e.minimumAbsenceCount&&(r=r+"&absence_count__gte="+String(e.minimumAbsenceCount)),e.absenceDaterange&&(r=r+"&absence_daterange="+e.absenceDaterange),this._get(r,!1!==e.useCache)}},{key:"archive",value:function(e){return this._post(e+"/archive/",{})}}]),n}(c["a"]),v=new m;t["a"]=v},b95a:function(e,t,n){"use strict";n.r(t);n("b0c0");var i=n("7a23"),r=Object(i["F"])("data-v-a5872464");Object(i["u"])("data-v-a5872464");var a=Object(i["h"])("Dein Konto"),o=Object(i["h"])("Dein Konto"),u=Object(i["h"])(" Folgende Daten sind zu deiner Person gespeichert. Bitte kontaktiere für Änderungen deinen Vorgesetzten. "),c=Object(i["h"])("Benutzer abmelden");Object(i["s"])();var l=r((function(e,t,n,l,s,d){Object(i["z"])("ion-menu-button"),Object(i["z"])("ion-buttons");var b=Object(i["z"])("ion-title"),m=Object(i["z"])("ion-toolbar"),v=Object(i["z"])("ion-header"),f=Object(i["z"])("ion-text"),p=Object(i["z"])("zeit-simple-item"),h=Object(i["z"])("ion-list"),g=Object(i["z"])("ion-item"),_=Object(i["z"])("ion-label"),y=(Object(i["z"])("ion-icon"),Object(i["z"])("ion-spinner"),Object(i["z"])("ion-content")),O=Object(i["z"])("ion-page");return e.isLoaded?(Object(i["r"])(),Object(i["e"])(O,{key:0},{default:r((function(){return[Object(i["i"])(v,{translucent:!0},{default:r((function(){return[Object(i["i"])(m,null,{default:r((function(){return[Object(i["f"])("",!0),Object(i["i"])(b,null,{default:r((function(){return[a]})),_:1})]})),_:1})]})),_:1}),Object(i["i"])(y,{fullscreen:!0},{default:r((function(){return[Object(i["i"])(v,{collapse:"condense"},{default:r((function(){return[Object(i["i"])(m,null,{default:r((function(){return[Object(i["i"])(b,{size:"large"},{default:r((function(){return[o]})),_:1})]})),_:1}),Object(i["i"])(m,{class:"px-3 pb-4"},{default:r((function(){return[Object(i["i"])(f,{color:"medium"},{default:r((function(){return[u]})),_:1})]})),_:1})]})),_:1}),Object(i["i"])(h,null,{default:r((function(){return[Object(i["i"])(p,{label:"Vorname",value:e.employee.first_name},null,8,["value"]),Object(i["i"])(p,{label:"Nachname",value:e.employee.last_name},null,8,["value"]),Object(i["i"])(p,{label:"Unternehmen",value:e.institution.name},null,8,["value"]),Object(i["i"])(p,{label:"Email",value:e.employee.email,lines:"full"},null,8,["value"])]})),_:1}),Object(i["i"])(g,{lines:"full",class:"transparent-bg"}),Object(i["i"])(h,null,{default:r((function(){return[e.employee?(Object(i["r"])(),Object(i["e"])(p,{key:0,label:"Kartennummer",value:e.employee.physical_token_id},null,8,["value"])):Object(i["f"])("",!0),e.employeeGroup?(Object(i["r"])(),Object(i["e"])(p,{key:1,label:"Abteilung",value:e.employeeGroup.name},null,8,["value"])):Object(i["f"])("",!0),Object(i["i"])(p,{label:"Wochenarbeitszeit",value:e.weeklyWorkingTime+" Stunden"},null,8,["value"]),Object(i["i"])(p,{label:"Arbeitstage",value:e.workingDays,lines:"full"},null,8,["value"])]})),_:1}),Object(i["i"])(g,{lines:"full",class:"transparent-bg"}),Object(i["i"])(g,{lines:"full",button:"",onClick:t[1]||(t[1]=function(t){return e.logout()})},{default:r((function(){return[Object(i["i"])(_,{color:"danger"},{default:r((function(){return[c]})),_:1})]})),_:1}),Object(i["i"])(g,{lines:"none",class:"transparent-bg"}),Object(i["f"])("",!0)]})),_:1})]})),_:1})):Object(i["f"])("",!0)})),s=(n("a15b"),n("d3b7"),n("ac1f"),n("3ca3"),n("5319"),n("ddb0"),n("3835")),d=(n("96cf"),n("1da1")),b=n("8a30"),m=n("ba82"),v=n("d62b"),f=n("ab31"),p=n("d0ac"),h=n("771a");function g(e,t,n,r,a,o){var u=Object(i["z"])("ion-label"),c=Object(i["z"])("ion-input"),l=Object(i["z"])("ion-item");return Object(i["r"])(),Object(i["e"])(l,{lines:e.lines},{default:Object(i["E"])((function(){return[Object(i["i"])(u,{position:"stacked"},{default:Object(i["E"])((function(){return[Object(i["h"])(Object(i["B"])(e.label),1)]})),_:1}),Object(i["i"])(c,{disabled:""},{default:Object(i["E"])((function(){return[Object(i["h"])(Object(i["B"])(e.value),1)]})),_:1})]})),_:1},8,["lines"])}var _=Object(i["j"])({props:{label:String,value:String,lines:String},components:{IonItem:b["n"],IonLabel:b["o"],IonInput:b["m"]}});_.render=g;var y=_,O=Object(i["j"])({components:{IonPage:b["w"],IonHeader:b["i"],IonButtons:b["d"],IonMenuButton:b["s"],IonTitle:b["N"],IonIcon:b["j"],IonLabel:b["o"],IonContent:b["g"],IonToolbar:b["P"],IonItem:b["n"],IonText:b["L"],IonSpinner:b["G"],IonList:b["p"],ZeitSimpleItem:y},data:function(){return{now:void 0,isLoaded:!1,accountService:m["a"],employeeService:f["b"],institutionService:v["b"],employeeGroupService:h["a"],branding:p["a"],account:void 0,institution:void 0,employee:void 0,employeeGroup:void 0,weeklyWorkingTime:void 0,workingDays:void 0}},methods:{logout:function(){this.accountService.logout(),this.$router.replace({name:"authentication:login"})}},mounted:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var n,i,r,a,o,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e.accountService.list(),e.institutionService.list()]);case 2:if(n=t.sent,i=Object(s["a"])(n,2),r=i[0],a=i[1],e.account=r.data.results[0],e.institution=a.data.results[0],!e.account.employee_id){t.next=12;break}return t.next=11,e.employeeService.retrieve(e.account.employee_id);case 11:e.employee=t.sent.data;case 12:if(!e.employee||!e.employee.employee_group_id){t.next=16;break}return t.next=15,e.employeeGroupService.retrieve(e.employee.employee_group_id);case 15:e.employeeGroup=t.sent.data;case 16:if(!e.employee){t.next=24;break}return t.next=19,Promise.all([e.employeeService.retrieveSettingValue(e.employee.id,"working_session","weekly_working_time"),e.employeeService.retrieveSettingValue(e.employee.id,"working_session","working_days").then((function(e){var t=[];return e.Mon&&t.push("Mo"),e.Tue&&t.push("Di"),e.Wed&&t.push("Mi"),e.Thu&&t.push("Do"),e.Fri&&t.push("Fr"),e.Sat&&t.push("Sa"),e.Sun&&t.push("So"),t.join(", ")}))]);case 19:o=t.sent,u=Object(s["a"])(o,2),e.weeklyWorkingTime=u[0],e.workingDays=u[1],console.log([e.weeklyWorkingTime,e.workingDays]);case 24:e.isLoaded=!0;case 25:case"end":return t.stop()}}),t)})))()}});n("be96");O.render=l,O.__scopeId="data-v-a5872464";t["default"]=O},be96:function(e,t,n){"use strict";n("5141")},d0ac:function(e,t,n){"use strict";n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0");var i=Object({NODE_ENV:"production",VUE_APP_OAUTH_CLIENT_ID:"nyXOY94HtiiEgNCTaSJ8RSDjxXCc0kGJnPVBrPZi",VUE_APP_OAUTH_CLIENT_SECRET:"cZhCRsP1E2erEF6EJInRlWxBz6xu5ZiO2P5Fq5QUAZkYr99chWDmdWdZ2KDtUj8PuarEjyev9YoqR6NjUF6ZhAgu8YyMVZxna6pRbThLG0IyyleV6bkJgWYvIfJua2hR",VUE_APP_BASE_URL:"https://api.ta-zeitblick.de",VUE_APP_BASE_URL_HOME:"http://192.168.178.60:8000",VUE_APP_BASE_URL_OFFICE:"http://192.168.2.230:8000",VUE_APP_DEBUG:"true",BASE_URL:"/"}).VUE_APP_BRANDING,r=new Map;r.set("orange",{id:"orange",name:"TA Zeitblick",url:"ta-zeitblick.de",colors:{primary:"#FF8200",success:"#28C76F",danger:"#EA5455",warning:"#FF9F43",dark:"#1E1E1E"},isMobile:"true"==Object({NODE_ENV:"production",VUE_APP_OAUTH_CLIENT_ID:"nyXOY94HtiiEgNCTaSJ8RSDjxXCc0kGJnPVBrPZi",VUE_APP_OAUTH_CLIENT_SECRET:"cZhCRsP1E2erEF6EJInRlWxBz6xu5ZiO2P5Fq5QUAZkYr99chWDmdWdZ2KDtUj8PuarEjyev9YoqR6NjUF6ZhAgu8YyMVZxna6pRbThLG0IyyleV6bkJgWYvIfJua2hR",VUE_APP_BASE_URL:"https://api.ta-zeitblick.de",VUE_APP_BASE_URL_HOME:"http://192.168.178.60:8000",VUE_APP_BASE_URL_OFFICE:"http://192.168.2.230:8000",VUE_APP_DEBUG:"true",BASE_URL:"/"}).VUE_APP_IS_MOBILE,supportPhone:"+49 1806 456326",supportPhoneFootnote:"Mo-Do 7 – 17 Uhr, Fr 7 - 16 Uhr, 20 Cent aus dem deutschen Festnetz, Mobilfunkpreise können abweichen, maximal jedoch 60 Cent pro Anruf"}),r.set("red",{id:"red",name:"Zeitstrom",url:"app.zeitstrom.com",colors:{primary:"#DF4D44",success:"#28C76F",danger:"#EA5455",warning:"#FF9F43",dark:"#1E1E1E"},isMobile:"true"==Object({NODE_ENV:"production",VUE_APP_OAUTH_CLIENT_ID:"nyXOY94HtiiEgNCTaSJ8RSDjxXCc0kGJnPVBrPZi",VUE_APP_OAUTH_CLIENT_SECRET:"cZhCRsP1E2erEF6EJInRlWxBz6xu5ZiO2P5Fq5QUAZkYr99chWDmdWdZ2KDtUj8PuarEjyev9YoqR6NjUF6ZhAgu8YyMVZxna6pRbThLG0IyyleV6bkJgWYvIfJua2hR",VUE_APP_BASE_URL:"https://api.ta-zeitblick.de",VUE_APP_BASE_URL_HOME:"http://192.168.178.60:8000",VUE_APP_BASE_URL_OFFICE:"http://192.168.2.230:8000",VUE_APP_DEBUG:"true",BASE_URL:"/"}).VUE_APP_IS_MOBILE,supportPhone:void 0,supportPhoneFootnote:void 0}),t["a"]=r.get(i||"orange")}}]);
//# sourceMappingURL=chunk-13250033.1ab775e8.js.map