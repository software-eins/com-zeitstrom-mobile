(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-47f52a42"],{"02cf":function(e,t,i){"use strict";i("e05b")},2181:function(e,t,i){"use strict";i("70f0")},3835:function(e,t,i){"use strict";function n(e){if(Array.isArray(e))return e}i.d(t,"a",(function(){return s}));i("a4d3"),i("e01a"),i("d28b"),i("d3b7"),i("3ca3"),i("ddb0");function r(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0)if(i.push(a.value),t&&i.length===t)break}catch(c){r=!0,o=c}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw o}}return i}}var o=i("06c5");function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){return n(e)||r(e,t)||Object(o["a"])(e,t)||a()}},"45fc":function(e,t,i){"use strict";var n=i("23e7"),r=i("b727").some,o=i("a640"),a=i("ae40"),s=o("some"),c=a("some");n({target:"Array",proto:!0,forced:!s||!c},{some:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},"4de4":function(e,t,i){"use strict";var n=i("23e7"),r=i("b727").filter,o=i("1dde"),a=i("ae40"),s=o("filter"),c=a("filter");n({target:"Array",proto:!0,forced:!s||!c},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,i){var n=i("1d80"),r=i("5899"),o="["+r+"]",a=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),c=function(e){return function(t){var i=String(n(t));return 1&e&&(i=i.replace(a,"")),2&e&&(i=i.replace(s,"")),i}};e.exports={start:c(1),end:c(2),trim:c(3)}},"70f0":function(e,t,i){},"771a":function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));i("a15b"),i("d3b7");var n=i("d4ec"),r=i("bee2"),o=i("262e"),a=i("2caf"),s=i("df40"),c=function(e){Object(o["a"])(i,e);var t=Object(a["a"])(i);function i(){var e;return Object(n["a"])(this,i),e=t.call(this,"/api/v2/employees/groups/"),e.formFields=[new s["c"]("name","Abteilungsname",{autofocus:!0,mobileType:"stacked"})],e.cacheTimeout=1209600,e}return Object(r["a"])(i,[{key:"newResourceTitle",value:function(e){return Promise.resolve("Abteilung hinzufügen")}},{key:"newResourceConfirmation",value:function(e){return Promise.resolve("Abteilung hinzugefügt")}},{key:"deleteResourceMethod",value:function(e){return Promise.resolve("delete")}},{key:"deleteResourceTitle",value:function(e){return Promise.resolve("Entfernen")}},{key:"deleteResourceConfirmation",value:function(e){return Promise.resolve("Abteilung entfernt")}},{key:"listParams",value:function(e){var t=e.pagesize||50,i=e.page||1,n=e.query||"",r="?limit="+String(t)+"&offset="+String((i-1)*t)+"&q="+encodeURIComponent(String(n));return e.ids&&(r+="&ids="+e.ids.join("|")),this._get(r)}}]),i}(s["a"]),u=new c},"8def":function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));i("a15b"),i("d81d");var n=i("262e"),r=i("2caf"),o=i("b85c"),a=i("d4ec"),s=i("bee2"),c=i("df40"),u=function(e){Object(n["a"])(i,e);var t=Object(r["a"])(i);function i(){var e;return Object(a["a"])(this,i),e=t.call(this,"/api/v2/timestamps/timespans/"),e.cacheTimeout=60,e}return Object(s["a"])(i,[{key:"listParams",value:function(e){e=e||{};var t=e.page||1,i=e.pagesize||50,n="?limit="+String(i)+"&offset="+String((t-1)*i);return e.employeeIds&&(n+="&employee_ids="+e.employeeIds.join("|")),e.workmonthIds&&(n+="&workmonth_ids="+e.workmonthIds.join("|")),e.workdayIds&&(n+="&workday_ids="+e.workdayIds.join("|")),e.verbosity&&(n+="&verbosity="+e.verbosity),e.isoDateFrom&&(n+="&datetime_from="+e.isoDateFrom),e.isoDateTo&&(n+="&datetime_to="+e.isoDateTo),this._get(n)}},{key:"history",value:function(e,t){t=t||{};var i=t.page||1,n=t.pagesize||50,r=e+"/history/?limit="+String(n)+"&offset="+String((i-1)*n);return this._get(r)}},{key:"setTimes",value:function(e,t){var i=e+"/set-times/";return this._patch(i,t)}},{key:"addTimes",value:function(e){var t="add-times/";return this._post(t,e)}},{key:"updateEmployeeComment",value:function(e,t){var i=e+"/update-employee-comment/",n={employee_comment:t};return this._post(i,n)}},{key:"assignProject",value:function(e,t){var i=e+"/assign-project/",n={project_id:t||void 0};return this._post(i,n)}},{key:"modifyConsecutiveTimespans",value:function(e){var t,i="modify-consecutive-timespans/",n=[],r=Object(o["a"])(e.timespans);try{for(r.s();!(t=r.n()).done;){var a,s=t.value;n.push({checkin:s.checkin.time,checkout:null===(a=s.checkout)||void 0===a?void 0:a.time,employee_comment:s.employee_comment,project_id:s.project_id})}}catch(l){r.e(l)}finally{r.f()}var c={source_timespan_ids:e.originalTimespanIds,new_timespans:n},u=this._post(i,c);return u.then((function(t){return e.originalTimespanIds=t.map((function(e){return e.id})),e.timespans=t,e}))}}]),i}(c["e"]),l=new u},"9ba5":function(e,t,i){"use strict";var n=i("7a23"),r=Object(n["F"])("data-v-edc77cd2"),o=r((function(e,t,i,r,o,a){var s=Object(n["z"])("ion-skeleton-text");return Object(n["r"])(),Object(n["e"])("span",null,[e.isSolved?Object(n["f"])("",!0):(Object(n["r"])(),Object(n["e"])(s,{key:0,style:e.getPlaceholderStyle(),animated:""},null,8,["style"])),Object(n["h"])(" "+Object(n["B"])(e.value),1)])})),a=i("8a30"),s=Object(n["j"])({components:{IonSkeletonText:a["F"]},props:{promise:Object,width:{type:String,default:"40px"}},data:function(){return{isSolved:!1,value:void 0}},methods:{getPlaceholderStyle:function(){return{width:this.width,display:"inline-block"}}},mounted:function(){var e=this;this.promise.then((function(t){e.value=t,e.isSolved=!0}))}});i("02cf");s.render=o,s.__scopeId="data-v-edc77cd2";t["a"]=s},"9e52":function(e,t,i){"use strict";i.d(t,"b",(function(){return u}));i("a15b");var n=i("d4ec"),r=i("bee2"),o=i("262e"),a=i("2caf"),s=i("df40"),c=function(e){Object(o["a"])(i,e);var t=Object(a["a"])(i);function i(){var e;return Object(n["a"])(this,i),e=t.call(this,"/api/v2/devices/physical-tokens/"),e.cacheTimeout=1209600,e}return Object(r["a"])(i,[{key:"list",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n="?limit="+String(t)+"&offset="+String((e-1)*t)+"&q="+encodeURIComponent(String(i));return this._get(n)}},{key:"listParams",value:function(e){e=e||{},e.pagesize=e.pagesize||1e3,e.page=e.page||1,e.query=e.query||"",e.fields=e.fields||["id"],e.ids=e.ids||[];var t="?limit="+String(e.pagesize)+"&offset="+String((e.page-1)*e.pagesize)+"&q="+encodeURIComponent(String(e.query))+"&fields="+e.fields.join("|")+"&ids="+e.ids.join("|");return this._get(t)}},{key:"listCreate",value:function(e){return this._post("",{ids:e})}},{key:"listDelete",value:function(e){return this._post("delete/",{ids:e})}},{key:"listAvailable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r="?limit="+String(t)+"&offset="+String((e-1)*t)+"&type=available&q="+encodeURIComponent(String(i))+"&additional="+String(n);return this._get(r)}}]),i}(s["a"]),u=new c;t["a"]=u},a0d0:function(e,t,i){"use strict";i.r(t);var n=i("7a23"),r=Object(n["i"])("div",{class:"dot-active mr-2"},null,-1),o=Object(n["h"])(" Angemeldet "),a=Object(n["h"])("Abgemeldet"),s=Object(n["h"])("Du bist momentan nicht angemeldet. Deine Arbeitszeit wird nicht aufgezeichnet."),c=Object(n["h"])(" Erfassung beenden "),u=Object(n["i"])("div",{class:"dot-active"},null,-1),l={class:"text-sm"},d={key:0},f={key:1},p=Object(n["i"])("h2",null,"Erfassung starten",-1),b={key:0},h={key:1};function m(e,t,i,m,O,g){Object(n["z"])("ion-menu-button"),Object(n["z"])("ion-buttons");var v=Object(n["z"])("ion-title"),j=Object(n["z"])("ion-toolbar"),y=Object(n["z"])("ion-header"),A=Object(n["z"])("ion-text"),S=Object(n["z"])("zeit-permission-request"),_=Object(n["z"])("ion-label"),E=Object(n["z"])("ion-icon"),k=Object(n["z"])("ion-spinner"),w=Object(n["z"])("ion-item"),R=Object(n["z"])("zeit-workday-card"),C=Object(n["z"])("ion-content"),T=Object(n["z"])("ion-page");return e.isLoaded?(Object(n["r"])(),Object(n["e"])(T,{key:0},{default:Object(n["E"])((function(){return[Object(n["i"])(y,{translucent:!0},{default:Object(n["E"])((function(){return[Object(n["i"])(j,null,{default:Object(n["E"])((function(){return[Object(n["f"])("",!0),e.activeTimespan?(Object(n["r"])(),Object(n["e"])(v,{key:1},{default:Object(n["E"])((function(){return[r,o]})),_:1})):(Object(n["r"])(),Object(n["e"])(v,{key:2},{default:Object(n["E"])((function(){return[a]})),_:1}))]})),_:1})]})),_:1}),Object(n["i"])(C,{fullscreen:!0},{default:Object(n["E"])((function(){return[Object(n["i"])(y,{collapse:"condense"},{default:Object(n["E"])((function(){return[Object(n["i"])(j,null,{default:Object(n["E"])((function(){return[Object(n["i"])(v,{size:"large"},{default:Object(n["E"])((function(){return[Object(n["h"])("Hallo "+Object(n["B"])(e.getName()),1)]})),_:1})]})),_:1}),Object(n["i"])(j,{class:"px-3 pb-4"},{default:Object(n["E"])((function(){return[Object(n["i"])(A,{color:"medium"},{default:Object(n["E"])((function(){return[e.activeTimespan?(Object(n["r"])(),Object(n["e"])(n["a"],{key:0},[Object(n["h"])("Du bist seit "+Object(n["B"])(e.formatTime(e.activeTimespan.checkin.time))+" Uhr angemeldet. Deine Arbeitszeit wird aufgezeichnet.",1)],64)):(Object(n["r"])(),Object(n["e"])(n["a"],{key:1},[s],64))]})),_:1})]})),_:1})]})),_:1}),Object(n["i"])(S,{feature:"location",description:"Dein Arbeitgeber benötigt den genauen Standort zur Erfassung von Arbeitszeiten.",notEnabledDescription:"Leider unterstützt dein Gerät keine Standortfreigabe. Du kannst daher keine Zeiten erfassen.",cta:"Standort jetzt freigeben",onIsAvailable:t[1]||(t[1]=function(t){return e.handleLocationPermissionChange(t)})}),e.showTrackingButton()?(Object(n["r"])(),Object(n["e"])(w,{key:0,lines:"full",class:"hero-cta mb-4",onClick:t[2]||(t[2]=function(t){return e.addTimestamp()})},{default:Object(n["E"])((function(){return[e.activeTimespan?(Object(n["r"])(),Object(n["e"])(_,{key:0},{default:Object(n["E"])((function(){return[Object(n["i"])("h2",null,[c,u,Object(n["i"])(A,{color:"success",class:"ml-2",key:e.now},{default:Object(n["E"])((function(){return[Object(n["i"])("span",l,Object(n["B"])(e.timeAgo(e.activeTimespan.checkin.time)),1)]})),_:1})]),e.formattedAddress?(Object(n["r"])(),Object(n["e"])("p",f,Object(n["B"])(e.formattedAddress),1)):(Object(n["r"])(),Object(n["e"])("p",d,"Pausiere oder beende deinen Arbeitstag"))]})),_:1})):(Object(n["r"])(),Object(n["e"])(_,{key:1},{default:Object(n["E"])((function(){return[p,e.formattedAddress?(Object(n["r"])(),Object(n["e"])("p",h,Object(n["B"])(e.formattedAddress),1)):(Object(n["r"])(),Object(n["e"])("p",b,"Beginne einen neuen Arbeitstag"))]})),_:1})),!e.isLoadingAddTimestamp&&e.activeTimespan?(Object(n["r"])(),Object(n["e"])(E,{key:2,icon:e.logOutOutline,slot:"end",size:"large"},null,8,["icon"])):e.isLoadingAddTimestamp?(Object(n["r"])(),Object(n["e"])(k,{key:4,slot:"end",name:"dots"})):(Object(n["r"])(),Object(n["e"])(E,{key:3,icon:e.playOutline,slot:"end",size:"large"},null,8,["icon"]))]})),_:1})):Object(n["f"])("",!0),(Object(n["r"])(!0),Object(n["e"])(n["a"],null,Object(n["x"])(e.getWorkdays(),(function(t){return Object(n["r"])(),Object(n["e"])(R,{activeTimespanId:e.activeTimespan?e.activeTimespan.id:void 0,key:t.id,workday:t},null,8,["activeTimespanId","workday"])})),128))]})),_:1})]})),_:1})):Object(n["f"])("",!0)}i("4de4"),i("d3b7"),i("ac1f"),i("3ca3"),i("5319"),i("1276"),i("ddb0");var O=i("8a30"),g=i("6b70"),v=i("e9b9"),j=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return j(t,e),t.prototype.getCurrentPosition=function(e){return Object(g["b"])(this,"getCurrentPosition",{callbackOrder:"reverse"},arguments)},t.prototype.watchPosition=function(e){return new v["a"]((function(t){var i=navigator.geolocation.watchPosition(t.next.bind(t),t.next.bind(t),e);return function(){return navigator.geolocation.clearWatch(i)}}))},t.pluginName="Geolocation",t.plugin="cordova-plugin-geolocation",t.pluginRef="navigator.geolocation",t.repo="https://github.com/apache/cordova-plugin-geolocation",t.install='ionic cordova plugin add cordova-plugin-geolocation --variable GEOLOCATION_USAGE_DESCRIPTION="To locate you"',t.installVariables=["GEOLOCATION_USAGE_DESCRIPTION"],t.platforms=["Amazon Fire OS","Android","Browser","iOS","Windows"],t}(g["a"]),A=new y,S=i("ff79"),_=Object(n["h"])(" h"),E={key:0},k=Object(n["h"])(" - "),w=Object(n["h"])(" h "),R={key:0},C={key:1},T={key:0};function z(e,t,i,r,o,a){var s=Object(n["z"])("ion-label"),c=Object(n["z"])("zeit-promise-solver"),u=Object(n["z"])("ion-item"),l=Object(n["z"])("zeit-project-badge"),d=Object(n["z"])("ion-note"),f=Object(n["z"])("ion-spinner"),p=Object(n["z"])("ion-list"),b=Object(n["z"])("ion-card");return Object(n["r"])(),Object(n["e"])(b,null,{default:Object(n["E"])((function(){return[Object(n["i"])(p,{class:"transparent-bg"},{default:Object(n["E"])((function(){return[Object(n["i"])(u,{class:"flex items-center justify-center w-full transparent-bg",lines:"full"},{default:Object(n["E"])((function(){return[Object(n["i"])(s,{class:"flex-grow"},{default:Object(n["E"])((function(){return[Object(n["i"])("h3",null,Object(n["B"])(e.formatDatetime(e.workday.checkin,"dddd")),1),Object(n["i"])("p",null,Object(n["B"])(e.formatLongDate(e.workday.checkin)),1)]})),_:1}),e.hasOpenTimespans()?Object(n["f"])("",!0):(Object(n["r"])(),Object(n["e"])(s,{key:0,class:"text-right"},{default:Object(n["E"])((function(){return[Object(n["i"])("h3",null,[Object(n["i"])(c,{promise:e.formatDuration(e.workDuration()-e.automaticRestDuration())},null,8,["promise"]),_]),e.automaticRestDuration()>0?(Object(n["r"])(),Object(n["e"])("p",E,[k,Object(n["i"])(c,{promise:e.formatDuration(e.automaticRestDuration())},null,8,["promise"]),w])):Object(n["f"])("",!0)]})),_:1}))]})),_:1}),(Object(n["r"])(!0),Object(n["e"])(n["a"],null,Object(n["x"])(e.workday.timespans,(function(t,i){return Object(n["r"])(),Object(n["e"])(u,{key:t.id,class:"transparent-bg",button:"",lines:(e.workday.timespans.length,"none"),detail:e.isLoadingTimespan!=t.id,onClick:function(i){return e.showTimespanDetails(t)}},{default:Object(n["E"])((function(){return[Object(n["i"])(s,null,{default:Object(n["E"])((function(){return[Object(n["i"])("h3",null,[Object(n["h"])(Object(n["B"])(e.formatTime(t.checkin.time))+" – ",1),t.checkout?(Object(n["r"])(),Object(n["e"])("span",R,Object(n["B"])(e.formatTime(t.checkout.time)),1)):(Object(n["r"])(),Object(n["e"])("span",C,"??")),Object(n["i"])(l,{projectId:t.project_id,class:"ml-2"},null,8,["projectId"])]),t.employee_comment?(Object(n["r"])(),Object(n["e"])("p",T,Object(n["B"])(t.employee_comment),1)):Object(n["f"])("",!0)]})),_:2},1024),t.checkout&&e.isLoadingTimespan!=t.id?(Object(n["r"])(),Object(n["e"])(d,{key:0,slot:"end",class:"text-sm"},{default:Object(n["E"])((function(){return[Object(n["i"])(c,{promise:e.formatDifference(t.checkin.time,t.checkout.time,"seconds")},null,8,["promise"])]})),_:2},1024)):Object(n["f"])("",!0),e.isLoadingTimespan==t.id?(Object(n["r"])(),Object(n["e"])(f,{key:1,slot:"end",name:"dots"})):Object(n["f"])("",!0)]})),_:2},1032,["lines","detail","onClick"])})),128))]})),_:1})]})),_:1})}i("45fc"),i("4ec9");var P=i("3835"),I=i("b85c"),L=i("9ba5"),N=i("1e47"),D=i("c1df"),x=i.n(D),M=i("8def"),B=Object(n["F"])("data-v-10b4177d");Object(n["u"])("data-v-10b4177d");var W={key:0,class:"inline-block cursor-default"},F={class:"flex"},q={class:"text flex-initial"};Object(n["s"])();var G=B((function(e,t,i,r,o,a){return e.project?(Object(n["r"])(),Object(n["e"])("div",W,[Object(n["i"])("div",{style:e.getStyle(),class:"inline-block project-badge px-2 py-1"},[Object(n["i"])("div",F,[Object(n["i"])("div",q,Object(n["B"])(e.project.code),1),e.postfix?(Object(n["r"])(),Object(n["e"])("div",{key:0,class:"flex-initial postfix y-align-2 py-2 ml-3 pl-3",style:e.getPostfixStyle()},Object(n["B"])(e.postfix),5)):Object(n["f"])("",!0)])],4)])):Object(n["f"])("",!0)})),U=(i("a9e3"),i("ee82")),H=i("e7b7"),V=Object(n["j"])({props:{projectId:String,maxWidth:{type:Number,default:200},postfix:{type:String,default:void 0}},data:function(){return{projectService:H["b"],project:void 0,textByBackground:{}}},watch:{projectId:function(){this.loadProject()}},methods:{getStyle:function(){return{"background-color":"#"+this.project.color,color:"#"+(this.textByBackground[this.project.color]||"ffffff"),"max-width":String(this.maxWidth)+"px"}},getPostfixStyle:function(){return{color:"#"+(this.textByBackground[this.project.color]||"ffffff")+"aa","border-color":"#"+(this.textByBackground[this.project.color]||"ffffff")+"22","max-width":String(this.maxWidth)+"px"}},loadProject:function(){var e=this;if(this.projectId)return this.projectService.retrieve(this.projectId).then((function(t){e.project=t.data}));this.project=void 0}},mounted:function(){var e,t=Object(I["a"])(U["a"]);try{for(t.s();!(e=t.n()).done;){var i=e.value;this.textByBackground[i.code]=i.text}}catch(n){t.e(n)}finally{t.f()}this.loadProject()}});i("2181");V.render=G,V.__scopeId="data-v-10b4177d";var Z=V,Y=Object(n["j"])({components:{IonCard:O["e"],IonLabel:O["o"],IonList:O["p"],IonItem:O["n"],IonNote:O["v"],IonSpinner:O["G"],ZeitPromiseSolver:L["a"],ZeitProjectBadge:Z},props:{workday:Object,activeTimespanId:String},data:function(){return{timespanService:M["a"],isLoadingTimespan:void 0,formatTime:N["f"],formatDifference:N["c"],formatLongDate:N["e"],formatDatetime:N["b"],formatDuration:N["d"]}},methods:{workDuration:function(){var e,t=0,i=Object(I["a"])(this.workday.timespans);try{for(i.s();!(e=i.n()).done;){var n=e.value;n.checkout&&(t+=x()(n.checkout.time).diff(x()(n.checkin.time))/1e3)}}catch(r){i.e(r)}finally{i.f()}return t},physicalRestDuration:function(){if(!this.workday)return 0;var e,t=0,i="enabled_15min"==this.workday.short_break_policy,n=Object(I["a"])(this.workday.timespans.entries());try{for(n.s();!(e=n.n()).done;){var r=Object(P["a"])(e.value,2),o=r[0],a=r[1];if(o!=this.workday.timespans.length-1&&null!=this.workday.timespans[o+1].checkout){var s=x()(a.checkin.time).diff(x()(this.workday.timespans[o+1].checkout.time))/1e3;(s>=900||!i)&&(t+=s)}}}catch(c){n.e(c)}finally{n.f()}return t},computedRestDuration:function(){if(!this.workday)return 0;var e,t=this.workday.break_duration,i="enabled_15min"==this.workday.short_break_policy,n=Object(I["a"])(this.workday.timespans.entries());try{for(n.s();!(e=n.n()).done;){var r=Object(P["a"])(e.value,2),o=r[0],a=r[1];if(o!=this.workday.timespans.length-1&&null!=this.workday.timespans[o+1].checkout){var s=x()(a.checkin.time).diff(x()(this.workday.timespans[o+1].checkout.time))/1e3;s<900&&i&&(t-=s)}}}catch(c){n.e(c)}finally{n.f()}return t},showTimespanDetails:function(e){var t=this;this.isLoadingTimespan=e.id,this.timespanService.retrieve(e.id,new Map([["verbosity","detail"]])).then((function(){var i="/timespans/"+e.id+"/";t.$router.push({path:i}).then((function(){t.isLoadingTimespan=void 0}))}))},automaticRestDuration:function(){return this.computedRestDuration()-this.physicalRestDuration()},hasOpenTimespans:function(){return this.workday.timespans.some((function(e){return!e.checkout}))}}});Y.render=z;var X=Y,$=(i("a4d3"),i("e01a"),{class:"flex flex-col py-4"}),Q={class:"text-sm mb-2"},J={key:1},K=Object(n["h"])("Einstellungen öffnen"),ee={key:2,class:"opacity-40"},te={class:"text-sm"};function ie(e,t,i,r,o,a){var s=Object(n["z"])("zeit-button"),c=Object(n["z"])("ion-item");return e.available?Object(n["f"])("",!0):(Object(n["r"])(),Object(n["e"])(c,{key:0,color:"warning"},{default:Object(n["E"])((function(){return[Object(n["i"])("div",$,[Object(n["i"])("p",Q,Object(n["B"])(e.description),1),Object(n["f"])("",!0),e.enabled?(Object(n["r"])(),Object(n["e"])("div",J,[e.showCta()?(Object(n["r"])(),Object(n["e"])(s,{key:0,onClick:t[1]||(t[1]=function(t){return e.requestPermission()}),color:"dark",fill:"outline"},{default:Object(n["E"])((function(){return[Object(n["h"])(Object(n["B"])(e.cta),1)]})),_:1})):Object(n["f"])("",!0),e.showSettings()?(Object(n["r"])(),Object(n["e"])(s,{key:1,onClick:t[2]||(t[2]=function(t){return e.openAppSettings()}),color:"dark",fill:"outline"},{default:Object(n["E"])((function(){return[K]})),_:1})):Object(n["f"])("",!0)])):(Object(n["r"])(),Object(n["e"])("div",ee,[Object(n["i"])("p",te,Object(n["B"])(e.notEnabledDescription),1)]))])]})),_:1}))}i("96cf");var ne=i("1da1"),re=i("2972"),oe=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ae=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.permission={READ_CALENDAR:"READ_CALENDAR",WRITE_CALENDAR:"WRITE_CALENDAR",CAMERA:"CAMERA",READ_CONTACTS:"READ_CONTACTS",WRITE_CONTACTS:"WRITE_CONTACTS",GET_ACCOUNTS:"GET_ACCOUNTS",ACCESS_FINE_LOCATION:"ACCESS_FINE_LOCATION",ACCESS_COARSE_LOCATION:"ACCESS_COARSE_LOCATION",RECORD_AUDIO:"RECORD_AUDIO",READ_PHONE_STATE:"READ_PHONE_STATE",CALL_PHONE:"CALL_PHONE",ADD_VOICEMAIL:"ADD_VOICEMAIL",USE_SIP:"USE_SIP",PROCESS_OUTGOING_CALLS:"PROCESS_OUTGOING_CALLS",READ_CALL_LOG:"READ_CALL_LOG",WRITE_CALL_LOG:"WRITE_CALL_LOG",SEND_SMS:"SEND_SMS",RECEIVE_SMS:"RECEIVE_SMS",READ_SMS:"READ_SMS",RECEIVE_WAP_PUSH:"RECEIVE_WAP_PUSH",RECEIVE_MMS:"RECEIVE_MMS",WRITE_EXTERNAL_STORAGE:"WRITE_EXTERNAL_STORAGE",READ_EXTERNAL_STORAGE:"READ_EXTERNAL_STORAGE",BODY_SENSORS:"BODY_SENSORS"},t.locationAuthorizationMode={ALWAYS:"always",WHEN_IN_USE:"when_in_use"},t.permissionGroups={CALENDAR:["READ_CALENDAR","WRITE_CALENDAR"],CAMERA:["CAMERA"],CONTACTS:["READ_CONTACTS","WRITE_CONTACTS","GET_ACCOUNTS"],LOCATION:["ACCESS_FINE_LOCATION","ACCESS_COARSE_LOCATION"],MICROPHONE:["RECORD_AUDIO"],PHONE:["READ_PHONE_STATE","CALL_PHONE","ADD_VOICEMAIL","USE_SIP","PROCESS_OUTGOING_CALLS","READ_CALL_LOG","WRITE_CALL_LOG"],SENSORS:["BODY_SENSORS"],SMS:["SEND_SMS","RECEIVE_SMS","READ_SMS","RECEIVE_WAP_PUSH","RECEIVE_MMS"],STORAGE:["READ_EXTERNAL_STORAGE","WRITE_EXTERNAL_STORAGE"]},t.locationMode={HIGH_ACCURACY:"high_accuracy",DEVICE_ONLY:"device_only",BATTERY_SAVING:"battery_saving",LOCATION_OFF:"location_off"},t.bluetoothState={UNKNOWN:"unknown",RESETTING:"resetting",UNSUPPORTED:"unsupported",UNAUTHORIZED:"unauthorized",POWERED_OFF:"powered_off",POWERED_ON:"powered_on",POWERING_OFF:"powering_off",POWERING_ON:"powering_on"},t}return oe(t,e),t.prototype.isLocationAvailable=function(){return Object(g["b"])(this,"isLocationAvailable",{},arguments)},t.prototype.isWifiAvailable=function(){return Object(g["b"])(this,"isWifiAvailable",{},arguments)},t.prototype.isCameraAvailable=function(e){return Object(g["b"])(this,"isCameraAvailable",{callbackOrder:"reverse"},arguments)},t.prototype.isBluetoothAvailable=function(){return Object(g["b"])(this,"isBluetoothAvailable",{},arguments)},t.prototype.switchToLocationSettings=function(){return Object(g["b"])(this,"switchToLocationSettings",{sync:!0,platforms:["Android","Windows 10","iOS"]},arguments)},t.prototype.switchToMobileDataSettings=function(){return Object(g["b"])(this,"switchToMobileDataSettings",{sync:!0,platforms:["Android","Windows 10"]},arguments)},t.prototype.switchToBluetoothSettings=function(){return Object(g["b"])(this,"switchToBluetoothSettings",{sync:!0,platforms:["Android","Windows 10"]},arguments)},t.prototype.switchToWifiSettings=function(){return Object(g["b"])(this,"switchToWifiSettings",{sync:!0,platforms:["Android","Windows 10"]},arguments)},t.prototype.isWifiEnabled=function(){return Object(g["b"])(this,"isWifiEnabled",{platforms:["Android","Windows 10"]},arguments)},t.prototype.setWifiState=function(e){return Object(g["b"])(this,"setWifiState",{callbackOrder:"reverse",platforms:["Android","Windows 10"]},arguments)},t.prototype.setBluetoothState=function(e){return Object(g["b"])(this,"setBluetoothState",{callbackOrder:"reverse",platforms:["Android","Windows 10"]},arguments)},t.prototype.isLocationEnabled=function(){return Object(g["b"])(this,"isLocationEnabled",{platforms:["Android","iOS"]},arguments)},t.prototype.isLocationAuthorized=function(){return Object(g["b"])(this,"isLocationAuthorized",{},arguments)},t.prototype.getLocationAuthorizationStatus=function(){return Object(g["b"])(this,"getLocationAuthorizationStatus",{platforms:["Android","iOS"]},arguments)},t.prototype.requestLocationAuthorization=function(e){return Object(g["b"])(this,"requestLocationAuthorization",{platforms:["Android","iOS"],callbackOrder:"reverse"},arguments)},t.prototype.isCameraPresent=function(){return Object(g["b"])(this,"isCameraPresent",{platforms:["Android","iOS"]},arguments)},t.prototype.isCameraAuthorized=function(e){return Object(g["b"])(this,"isCameraAuthorized",{platforms:["Android","iOS"],callbackOrder:"reverse"},arguments)},t.prototype.getCameraAuthorizationStatus=function(e){return Object(g["b"])(this,"getCameraAuthorizationStatus",{platforms:["Android","iOS"],callbackOrder:"reverse"},arguments)},t.prototype.requestCameraAuthorization=function(e){return Object(g["b"])(this,"requestCameraAuthorization",{platforms:["Android","iOS"],callbackOrder:"reverse"},arguments)},t.prototype.isMicrophoneAuthorized=function(){return Object(g["b"])(this,"isMicrophoneAuthorized",{platforms:["Android","iOS"]},arguments)},t.prototype.getMicrophoneAuthorizationStatus=function(){return Object(g["b"])(this,"getMicrophoneAuthorizationStatus",{platforms:["Android","iOS"]},arguments)},t.prototype.requestMicrophoneAuthorization=function(){return Object(g["b"])(this,"requestMicrophoneAuthorization",{platforms:["Android","iOS"]},arguments)},t.prototype.isContactsAuthorized=function(){return Object(g["b"])(this,"isContactsAuthorized",{platforms:["Android","iOS"]},arguments)},t.prototype.getContactsAuthorizationStatus=function(){return Object(g["b"])(this,"getContactsAuthorizationStatus",{platforms:["Android","iOS"]},arguments)},t.prototype.requestContactsAuthorization=function(){return Object(g["b"])(this,"requestContactsAuthorization",{platforms:["Android","iOS"]},arguments)},t.prototype.isCalendarAuthorized=function(){return Object(g["b"])(this,"isCalendarAuthorized",{platforms:["Android","iOS"]},arguments)},t.prototype.getCalendarAuthorizationStatus=function(){return Object(g["b"])(this,"getCalendarAuthorizationStatus",{platforms:["Android","iOS"]},arguments)},t.prototype.requestCalendarAuthorization=function(){return Object(g["b"])(this,"requestCalendarAuthorization",{platforms:["Android","iOS"]},arguments)},t.prototype.switchToSettings=function(){return Object(g["b"])(this,"switchToSettings",{platforms:["Android","iOS"]},arguments)},t.prototype.getBluetoothState=function(){return Object(g["b"])(this,"getBluetoothState",{platforms:["Android","iOS"]},arguments)},t.prototype.registerBluetoothStateChangeHandler=function(e){return Object(g["b"])(this,"registerBluetoothStateChangeHandler",{platforms:["Android","iOS"],sync:!0},arguments)},t.prototype.registerLocationStateChangeHandler=function(e){return Object(g["b"])(this,"registerLocationStateChangeHandler",{platforms:["Android","iOS"],sync:!0},arguments)},t.prototype.isGpsLocationAvailable=function(){return Object(g["b"])(this,"isGpsLocationAvailable",{platforms:["Android"]},arguments)},t.prototype.isGpsLocationEnabled=function(){return Object(g["b"])(this,"isGpsLocationEnabled",{platforms:["Android"]},arguments)},t.prototype.isNetworkLocationAvailable=function(){return Object(g["b"])(this,"isNetworkLocationAvailable",{platforms:["Android"]},arguments)},t.prototype.isNetworkLocationEnabled=function(){return Object(g["b"])(this,"isNetworkLocationEnabled",{platforms:["Android"]},arguments)},t.prototype.getLocationMode=function(){return Object(g["b"])(this,"getLocationMode",{platforms:["Android"]},arguments)},t.prototype.getPermissionAuthorizationStatus=function(e){return Object(g["b"])(this,"getPermissionAuthorizationStatus",{platforms:["Android"],callbackOrder:"reverse"},arguments)},t.prototype.getPermissionsAuthorizationStatus=function(e){return Object(g["b"])(this,"getPermissionsAuthorizationStatus",{platforms:["Android"],callbackOrder:"reverse"},arguments)},t.prototype.requestRuntimePermission=function(e){return Object(g["b"])(this,"requestRuntimePermission",{platforms:["Android"],callbackOrder:"reverse"},arguments)},t.prototype.requestRuntimePermissions=function(e){return Object(g["b"])(this,"requestRuntimePermissions",{platforms:["Android"],callbackOrder:"reverse"},arguments)},t.prototype.isRequestingPermission=function(){return Object(g["b"])(this,"isRequestingPermission",{sync:!0},arguments)},t.prototype.registerPermissionRequestCompleteHandler=function(e){return Object(g["b"])(this,"registerPermissionRequestCompleteHandler",{sync:!0},arguments)},t.prototype.isBluetoothEnabled=function(){return Object(g["b"])(this,"isBluetoothEnabled",{platforms:["Android"]},arguments)},t.prototype.hasBluetoothSupport=function(){return Object(g["b"])(this,"hasBluetoothSupport",{platforms:["Android"]},arguments)},t.prototype.hasBluetoothLESupport=function(){return Object(g["b"])(this,"hasBluetoothLESupport",{platforms:["Android"]},arguments)},t.prototype.hasBluetoothLEPeripheralSupport=function(){return Object(g["b"])(this,"hasBluetoothLEPeripheralSupport",{platforms:["Android"]},arguments)},t.prototype.isExternalStorageAuthorized=function(){return Object(g["b"])(this,"isExternalStorageAuthorized",{platforms:["Android"]},arguments)},t.prototype.getExternalStorageAuthorizationStatus=function(){return Object(g["b"])(this,"getExternalStorageAuthorizationStatus",{platforms:["Android"]},arguments)},t.prototype.requestExternalStorageAuthorization=function(){return Object(g["b"])(this,"requestExternalStorageAuthorization",{platforms:["Android"]},arguments)},t.prototype.getExternalSdCardDetails=function(){return Object(g["b"])(this,"getExternalSdCardDetails",{platforms:["Android"]},arguments)},t.prototype.switchToWirelessSettings=function(){return Object(g["b"])(this,"switchToWirelessSettings",{platforms:["Android"],sync:!0},arguments)},t.prototype.switchToNFCSettings=function(){return Object(g["b"])(this,"switchToNFCSettings",{platforms:["Android"],sync:!0},arguments)},t.prototype.isNFCPresent=function(){return Object(g["b"])(this,"isNFCPresent",{platforms:["Android"]},arguments)},t.prototype.isNFCEnabled=function(){return Object(g["b"])(this,"isNFCEnabled",{platforms:["Android"]},arguments)},t.prototype.isNFCAvailable=function(){return Object(g["b"])(this,"isNFCAvailable",{platforms:["Android"]},arguments)},t.prototype.registerNFCStateChangeHandler=function(e){return Object(g["b"])(this,"registerNFCStateChangeHandler",{platforms:["Android"],sync:!0},arguments)},t.prototype.isDataRoamingEnabled=function(){return Object(g["b"])(this,"isDataRoamingEnabled",{platforms:["Android"]},arguments)},t.prototype.isADBModeEnabled=function(){return Object(g["b"])(this,"isADBModeEnabled",{platforms:["Android"]},arguments)},t.prototype.isDeviceRooted=function(){return Object(g["b"])(this,"isDeviceRooted",{platforms:["Android"]},arguments)},t.prototype.isCameraRollAuthorized=function(){return Object(g["b"])(this,"isCameraRollAuthorized",{platforms:["iOS"]},arguments)},t.prototype.getCameraRollAuthorizationStatus=function(){return Object(g["b"])(this,"getCameraRollAuthorizationStatus",{platforms:["iOS"]},arguments)},t.prototype.requestCameraRollAuthorization=function(){return Object(g["b"])(this,"requestCameraRollAuthorization",{platforms:["iOS"]},arguments)},t.prototype.isRemoteNotificationsEnabled=function(){return Object(g["b"])(this,"isRemoteNotificationsEnabled",{platforms:["iOS","Android"]},arguments)},t.prototype.isRegisteredForRemoteNotifications=function(){return Object(g["b"])(this,"isRegisteredForRemoteNotifications",{platforms:["iOS"]},arguments)},t.prototype.getRemoteNotificationsAuthorizationStatus=function(){return Object(g["b"])(this,"getRemoteNotificationsAuthorizationStatus",{platforms:["iOS"]},arguments)},t.prototype.requestRemoteNotificationsAuthorization=function(e,t){return Object(g["b"])(this,"requestRemoteNotificationsAuthorization",{platforms:["iOS"]},arguments)},t.prototype.getRemoteNotificationTypes=function(){return Object(g["b"])(this,"getRemoteNotificationTypes",{platforms:["iOS"]},arguments)},t.prototype.isRemindersAuthorized=function(){return Object(g["b"])(this,"isRemindersAuthorized",{platforms:["iOS"]},arguments)},t.prototype.getRemindersAuthorizationStatus=function(){return Object(g["b"])(this,"getRemindersAuthorizationStatus",{platforms:["iOS"]},arguments)},t.prototype.requestRemindersAuthorization=function(){return Object(g["b"])(this,"requestRemindersAuthorization",{platforms:["iOS"]},arguments)},t.prototype.isBackgroundRefreshAuthorized=function(){return Object(g["b"])(this,"isBackgroundRefreshAuthorized",{platforms:["iOS"]},arguments)},t.prototype.getBackgroundRefreshStatus=function(){return Object(g["b"])(this,"getBackgroundRefreshStatus",{platforms:["iOS"]},arguments)},t.prototype.requestBluetoothAuthorization=function(){return Object(g["b"])(this,"requestBluetoothAuthorization",{platforms:["iOS"]},arguments)},t.prototype.isMotionAvailable=function(){return Object(g["b"])(this,"isMotionAvailable",{platforms:["iOS"]},arguments)},t.prototype.isMotionRequestOutcomeAvailable=function(){return Object(g["b"])(this,"isMotionRequestOutcomeAvailable",{platforms:["iOS"]},arguments)},t.prototype.requestMotionAuthorization=function(){return Object(g["b"])(this,"requestMotionAuthorization",{platforms:["iOS"]},arguments)},t.prototype.getMotionAuthorizationStatus=function(){return Object(g["b"])(this,"getMotionAuthorizationStatus",{platforms:["iOS"]},arguments)},t.prototype.getLocationAccuracyAuthorization=function(){return Object(g["b"])(this,"getLocationAccuracyAuthorization",{platform:["iOS"]},arguments)},t.prototype.requestTemporaryFullAccuracyAuthorization=function(e){return Object(g["b"])(this,"requestTemporaryFullAccuracyAuthorization",{platforms:["iOS"]},arguments)},t.prototype.registerLocationAccuracyAuthorizationChangeHandler=function(e){return Object(g["b"])(this,"registerLocationAccuracyAuthorizationChangeHandler",{platforms:["iOS"],sync:!0},arguments)},Object.defineProperty(t.prototype,"permissionStatus",{get:function(){return Object(g["c"])(this,"permissionStatus")},set:function(e){Object(g["d"])(this,"permissionStatus",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"NFCState",{get:function(){return Object(g["c"])(this,"NFCState")},set:function(e){Object(g["d"])(this,"NFCState",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"motionStatus",{get:function(){return Object(g["c"])(this,"motionStatus")},set:function(e){Object(g["d"])(this,"motionStatus",e)},enumerable:!1,configurable:!0}),t.pluginName="Diagnostic",t.plugin="cordova.plugins.diagnostic",t.pluginRef="cordova.plugins.diagnostic",t.repo="https://github.com/dpa99c/cordova-diagnostic-plugin",t.platforms=["Android","iOS","Windows"],t}(g["a"]),se=new ae,ce={location:{authorizationStatus:function(){return se.getLocationAuthorizationStatus()},permissions:function(){return[se.isLocationEnabled(),se.isLocationAuthorized(),se.isLocationAvailable()]},requestPermission:function(){return se.requestLocationAuthorization()}}},ue=Object(n["j"])({components:{IonItem:O["n"],ZeitButton:re["a"]},data:function(){return{debug:"debug",authorizationStatus:void 0,enabled:void 0,authorized:void 0,available:void 0}},emits:["isAuthorized","isEnabled","isAvailable"],props:{description:String,notEnabledDescription:String,cta:String,feature:String},watch:{enabled:function(e){this.$emit("isEnabled",e)},authorized:function(e){this.$emit("isAuthorized",e)},available:function(e){this.$emit("isAvailable",e)}},methods:{showCta:function(){return"not_requested"==this.authorizationStatus||"not_determined"==this.authorizationStatus||!1},showSettings:function(){return"denied"==this.authorizationStatus||"denied_always"==this.authorizationStatus||!1},requestPermission:function(){var e=this;return Object(ne["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ce[e.feature].requestPermission();case 2:i=t.sent,console.log(i),e.updateAll();case 5:case"end":return t.stop()}}),t)})))()},updatePermissions:function(){var e=this;return Object(ne["a"])(regeneratorRuntime.mark((function t(){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=ce[e.feature].permissions(),t.next=3,Promise.all(i);case 3:return n=t.sent,console.log(n),e.enabled=n[0],e.authorized=n[1],e.available=n[2],t.abrupt("return",n);case 9:case"end":return t.stop()}}),t)})))()},updateAuthorizationStatus:function(){var e=this;return Object(ne["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ce[e.feature].authorizationStatus();case 2:return e.authorizationStatus=t.sent,t.abrupt("return",e.authorizationStatus);case 4:case"end":return t.stop()}}),t)})))()},openAppSettings:function(){se.switchToSettings()},updateAll:function(){return console.log("updateAll"),Promise.all([this.updatePermissions(),this.updateAuthorizationStatus()])}},mounted:function(){document.addEventListener("resume",this.updateAll),console.log("mounted"),this.updateAll()},beforeUnmount:function(){document.removeEventListener("resume",this.updateAll)}});ue.render=ie;var le=ue,de=i("ba82"),fe=i("d62b"),pe=i("d4ec"),be=i("bee2"),he=i("262e"),me=i("2caf"),Oe=i("df40"),ge=function(e){Object(he["a"])(i,e);var t=Object(me["a"])(i);function i(){return Object(pe["a"])(this,i),t.call(this,"/api/v2/tracking/employees/")}return Object(be["a"])(i,[{key:"addTwoTimestamps",value:function(e,t,i,n){return this._post(e+"/add-timestamps/",{description:t,project_id:i,next_project_id:n})}},{key:"addTimestamp",value:function(e,t,i,n){return this._post(e+"/add-timestamp/",{description:t,project_id:i,meta:n})}},{key:"updateComment",value:function(e,t,i){return this._post(e+"/update-comment/",{description:t,project_id:i})}},{key:"activeTimespan",value:function(e){return this._get(e+"/active-timespan/")}}]),i}(Oe["a"]),ve=new ge,je=function(e){Object(he["a"])(i,e);var t=Object(me["a"])(i);function i(){return Object(pe["a"])(this,i),t.call(this,"/api/v2/reports/employees/")}return Object(be["a"])(i,[{key:"workdayReports",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,n="?limit="+String(i)+"&offset="+String((t-1)*i);return this._get(e+"/"+n)}}]),i}(Oe["e"]),ye=new je,Ae=i("ab31"),Se=function(e){Object(he["a"])(i,e);var t=Object(me["a"])(i);function i(){var e;return Object(pe["a"])(this,i),e=t.call(this,"/api/v2/geo/addresses/"),e.cacheTimeout=86400,e}return Object(be["a"])(i,[{key:"resolveAddress",value:function(){var e=Object(ne["a"])(regeneratorRuntime.mark((function e(t,i){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._get("?lat="+String(t)+"&lng="+String(i));case 2:return n=e.sent,e.abrupt("return",n.data.address);case 4:case"end":return e.stop()}}),e,this)})));function t(t,i){return e.apply(this,arguments)}return t}()}]),i}(Oe["a"]),_e=new Se,Ee=i("d0ac"),ke=Object(n["j"])({components:{IonPage:O["w"],IonHeader:O["i"],IonButtons:O["d"],IonMenuButton:O["s"],IonTitle:O["N"],IonIcon:O["j"],IonLabel:O["o"],IonContent:O["g"],IonToolbar:O["P"],IonItem:O["n"],IonText:O["L"],IonSpinner:O["G"],ZeitWorkdayCard:X,ZeitPermissionRequest:le},data:function(){return{now:void 0,isLoaded:!1,accountService:de["a"],institutionService:fe["b"],trackingService:ve,employeeReportService:ye,employeeService:Ae["b"],addressService:_e,formatTime:N["f"],timeAgo:N["g"],formatLongDate:N["e"],calendar:N["a"],formatDifference:N["c"],branding:Ee["a"],playOutline:S["M"],logOutOutline:S["C"],account:void 0,institution:void 0,workdays:[],locationSetting:void 0,mountedFullPath:void 0,activeTimespan:void 0,isLoadingAddTimestamp:!1,timer:void 0,positionSubscription:void 0,coordinates:void 0,formattedAddress:void 0}},watch:{$route:function(e){this.mountedFullPath==e.fullPath&&this.loadWorkdayReports()},coordinates:function(e){var t=this;e?this.addressService.resolveAddress(e.latitude,e.longitude).then((function(e){e&&(e=e.replace(", Deutschland",""),e=e.replace(', Österreich"',""),e=e.replace(", Schweiz","")),t.formattedAddress=e})):this.formattedAddress=void 0}},methods:{updateWorkingStatus:function(){var e=this;return this.trackingService.activeTimespan(this.account.employee_id).then((function(t){""==t.data?e.activeTimespan=void 0:e.activeTimespan=t.data}))},getName:function(){return this.account&&this.account.full_name?this.account.full_name.split(" ")[0]:""},addTimestamp:function(){var e=this;if(!this.isLoadingAddTimestamp){var t={platforms:Object(O["S"])()};this.formattedAddress&&(t["location"]=this.formattedAddress),this.coordinates&&(t["coordinates"]=this.coordinates),this.isLoadingAddTimestamp=!0,this.trackingService.addTimestamp(this.account.employee_id,void 0,void 0,t).then((function(){e.updateWorkingStatus().then((function(){e.isLoadingAddTimestamp=!1,e.loadWorkdayReports()}))}))}},loadWorkdayReports:function(){var e=this;return this.employeeReportService.workdayReports(this.account.employee_id).then((function(t){e.workdays=t.data.results}))},getWorkdays:function(){return this.workdays.filter((function(e){return e.timespans.length>0}))},loadLocationSettings:function(){var e=this;return this.employeeService.retrieveSettingValue(this.account.employee_id,"employee_app_access","location_tracking").then((function(t){e.locationSetting=t}))},handleLocationPermissionChange:function(e){e&&this.startWatchingLocation()},startWatchingLocation:function(){var e=this,t=A.watchPosition({enableHighAccuracy:!0,timeout:1e4,maximumAge:2e3});this.positionSubscription=t.subscribe({next:function(t){t.coords&&(e.coordinates={accuracy:t.coords.accuracy,latitude:t.coords.latitude,longitude:t.coords.longitude})},error:function(e){return console.log(e)}})},showTrackingButton:function(){return"location_tracking_detailed"!=this.locationSetting||!!this.formattedAddress}},mounted:function(){var e=this;this.mountedFullPath=this.$route.fullPath,Promise.all([this.accountService.list().then((function(t){e.account=t.data.results[0]})),this.institutionService.list().then((function(t){e.institution=t.data.results[0]}))]).then((function(){Promise.all([e.updateWorkingStatus(),e.loadWorkdayReports(),e.loadLocationSettings()]).then((function(){e.isLoaded=!0}))})),this.timer=setInterval((function(){e.now=new Date}),1e3)},beforeUnmount:function(){clearInterval(this.timer),this.positionSubscription&&this.positionSubscription.unsubscribe()}});i("a4c2");ke.render=m;t["default"]=ke},a4c2:function(e,t,i){"use strict";i("fc99")},a9e3:function(e,t,i){"use strict";var n=i("83ab"),r=i("da84"),o=i("94ca"),a=i("6eeb"),s=i("5135"),c=i("c6b6"),u=i("7156"),l=i("c04e"),d=i("d039"),f=i("7c73"),p=i("241c").f,b=i("06cf").f,h=i("9bf2").f,m=i("58a8").trim,O="Number",g=r[O],v=g.prototype,j=c(f(v))==O,y=function(e){var t,i,n,r,o,a,s,c,u=l(e,!1);if("string"==typeof u&&u.length>2)if(u=m(u),t=u.charCodeAt(0),43===t||45===t){if(i=u.charCodeAt(2),88===i||120===i)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+u}for(o=u.slice(2),a=o.length,s=0;s<a;s++)if(c=o.charCodeAt(s),c<48||c>r)return NaN;return parseInt(o,n)}return+u};if(o(O,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var A,S=function(e){var t=arguments.length<1?0:e,i=this;return i instanceof S&&(j?d((function(){v.valueOf.call(i)})):c(i)!=O)?u(new g(y(t)),i,S):y(t)},_=n?p(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),E=0;_.length>E;E++)s(g,A=_[E])&&!s(S,A)&&h(S,A,b(g,A));S.prototype=v,v.constructor=S,a(r,O,S)}},ab31:function(e,t,i){"use strict";i.d(t,"b",(function(){return b}));i("99af"),i("a15b"),i("b0c0"),i("d3b7"),i("96cf");var n=i("1da1"),r=i("d4ec"),o=i("bee2"),a=i("262e"),s=i("2caf"),c=i("df40"),u=i("771a"),l=i("9e52"),d=i("d62b"),f=i("d0ac"),p=function(e){Object(a["a"])(i,e);var t=Object(s["a"])(i);function i(){var e;return Object(r["a"])(this,i),e=t.call(this,"/api/v2/employees/employees/"),e.formFields=[new c["c"]("first_name","Vorname",{autofocus:!0}),new c["c"]("last_name","Nachname"),new c["c"]("email","E-Mail-Adresse",{mobileType:"stacked"}),new c["c"]("employee_group_id","Abteilung",{type:"select",remoteSourceService:u["a"],remoteSourceAttribute:"name"}),new c["c"]("physical_token_id","Token-Nummer",{type:"select",description:"Die ausgewählte Token-Nummer kann zur Authentifizierung am Zeiterfassungs-Terminal verwendet werden. Nur nicht bereits zugewiesene Nummern werden angezeigt. <a target='_blank' href='/tokens/'>Token verwalten</a>",remoteSourceService:l["b"],remoteSourceListMethod:"listAvailable",remoteSourceAttribute:"id",listPageSize:1e3}),new c["c"]("accounting_number","Personalnummer",{mobileType:"stacked",description:"Die Personalnummer wird verwendet, um den Mitarbeiter im Buchhaltungsexport zu identifizieren."})],"orange"==f["a"].id&&e.formFields.push(new c["c"]("external_id","aQrate Benutzername",{mobileType:"stacked",description:"Der Benutzername wird verwendet, um diesen Zeitblick Mitarbeiter einem aQrate Mitarbeiter bei Authentifizierung am MFP zuzuordnen."})),e.formFields=e.formFields.concat([new c["c"]("username",f["a"].name+" Benutzername",{mobileType:"stacked",description:"Der Benutzername wird vom Mitarbeiter benötigt, um sich gegenüber der "+f["a"].name+" Smartphone App und dem Web-Login (https://"+f["a"].url+"/) zu authentifizieren.",isReadOnly:!0,showCreate:!1}),new c["c"]("initial_password","Vorläufiges Passwort",{mobileType:"stacked",isReadOnly:!0,showCreate:!1})]),e.archivedFormFields=[new c["c"]("first_name","Vorname",{isReadOnly:!0}),new c["c"]("last_name","Nachname",{isReadOnly:!0}),new c["c"]("email","E-Mail-Adresse",{isReadOnly:!0}),new c["c"]("employee_group_id","Abteilung",{type:"select",remoteSourceService:u["a"],remoteSourceAttribute:"name",isReadOnly:!0}),new c["c"]("accounting_id","Personalnummer",{description:"Die Personalnummer wird verwendet, um den Mitarbeiter im Buchhaltungsexport zu identifizieren.",isReadOnly:!0})],"orange"==f["a"].id&&e.archivedFormFields.push(new c["c"]("external_id","aQrate Benutzername",{description:"Der Benutzername wird verwendet, um diesen Zeitblick Mitarbeiter einem aQrate Mitarbeiter bei Authentifizierung am MFP zuzuordnen.",isReadOnly:!0})),e.filterAttributes=[new c["b"]("showArchived","Archivierte Mitarbeiter anzeigen","boolean",!1,{visible:e.listParams({showArchived:!0}).then((function(e){return e.data.count>0}))}),new c["b"]("employeeGroups","Abteilungen","select",void 0,{multiple:!0,remoteSourceService:u["a"],visible:u["a"].listParams({}).then((function(e){return e.data.count>0}))})],e.cacheTimeout=1209600,e}return Object(o["a"])(i,[{key:"titleAttribute",value:function(){return Promise.resolve((function(e){return e.first_name+" "+e.last_name}))}},{key:"newResourceTitle",value:function(e){return Promise.resolve("Mitarbeiter hinzufügen")}},{key:"newResourceConfirmation",value:function(e){return Promise.resolve("Mitarbeiter hinzugefügt")}},{key:"deleteResourceMethod",value:function(e){return e?this.retrieve(e).then((function(e){return e.data.can_be_deleted?Promise.resolve("delete"):e.data.archived_at?Promise.resolve(""):Promise.resolve("archive")})):Promise.resolve("")}},{key:"deleteResourceTitle",value:function(e){return e?this.retrieve(e).then((function(e){return e.data.can_be_deleted?Promise.resolve("Entfernen"):e.data.archived_at?Promise.resolve(""):Promise.resolve("Archivieren")})):Promise.resolve("Entfernen")}},{key:"deleteResourceConfirmation",value:function(e){return e?this.retrieve(e).then((function(e){return e.data.can_be_deleted?Promise.resolve("Mitarbeiter entfernt"):e.data.archived_at?Promise.resolve(""):Promise.resolve("Mitarbeiter archiviert")})):Promise.resolve("Mitarbeiter entfernt")}},{key:"retrieveSettingValue",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,i,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.retrieveSettings(t);case 2:if(r=e.sent.data,!(i in r)||!(n in r[i])){e.next=5;break}return e.abrupt("return",r[i][n]);case 5:return e.abrupt("return",d["b"].retrieveSettingValue(i,n));case 6:case"end":return e.stop()}}),e,this)})));function t(t,i,n){return e.apply(this,arguments)}return t}()},{key:"retrieveSettings",value:function(e){return this._get(e+"/settings/")}},{key:"updateSettings",value:function(e,t){return this._post(e+"/settings/",t)}},{key:"resetPassword",value:function(e){return this._post(e+"/reset-password/",{})}},{key:"list",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,o="?limit="+String(t)+"&offset="+String((e-1)*t)+"&q="+encodeURIComponent(String(i));return void 0!=n&&(o=o+"&employee_groups="+n),!0===r&&(o+="&archived"),this._get(o)}},{key:"listParams",value:function(e){var t=e.pagesize||50,i=e.page||1,n=e.query||"",r="?limit="+String(t)+"&offset="+String((i-1)*t)+"&q="+encodeURIComponent(String(n));return e.verbosity&&(r+="&verbosity="+e.verbosity),e.ids&&(r+="&ids="+e.ids.join("|")),e.employeeGroups&&(r+="&employee_groups="+e.employeeGroups.join("|")),!0===e.showArchived&&(r+="&archived"),e.minimumAbsenceCount&&(r=r+"&absence_count__gte="+String(e.minimumAbsenceCount)),e.absenceDaterange&&(r=r+"&absence_daterange="+e.absenceDaterange),this._get(r,!1!==e.useCache)}},{key:"archive",value:function(e){return this._post(e+"/archive/",{})}}]),i}(c["a"]),b=new p;t["a"]=b},e05b:function(e,t,i){},e7b7:function(e,t,i){"use strict";i.d(t,"b",(function(){return u}));i("a15b"),i("d3b7");var n=i("d4ec"),r=i("bee2"),o=i("262e"),a=i("2caf"),s=i("df40"),c=function(e){Object(o["a"])(i,e);var t=Object(a["a"])(i);function i(){var e;return Object(n["a"])(this,i),e=t.call(this,"/api/v2/projects/projects/"),e.formFields=[new s["c"]("name","Name",{autofocus:!0}),new s["c"]("code","Code",{}),new s["c"]("highlighted","Hervorgehoben",{type:"bool",description:"Hervorgehobene Projekte können schneller durch Mitarbeiter ausgewählt werden. Es können maximal 3 Projekte hervorgehoben werden."}),new s["c"]("color","Farbe",{type:"color"})],e.archivedFormFields=[new s["c"]("name","Name",{isReadOnly:!0}),new s["c"]("code","Code",{isReadOnly:!0}),new s["c"]("highlighted","Hervorgehoben",{type:"bool",isReadOnly:!0,description:"Hervorgehobene Projekte können schneller durch Mitarbeiter ausgewählt werden. Es können maximal 3 Projekte hervorgehoben werden."}),new s["c"]("color","Farbe",{type:"color",isReadOnly:!0})],e.cacheTimeout=300,e}return Object(r["a"])(i,[{key:"newResourceTitle",value:function(e){return Promise.resolve("Projekt hinzufügen")}},{key:"newResourceConfirmation",value:function(e){return Promise.resolve("Projekt hinzugefügt")}},{key:"deleteResourceMethod",value:function(e){return Promise.resolve("archive")}},{key:"deleteResourceTitle",value:function(e){return Promise.resolve("Archivieren")}},{key:"deleteResourceConfirmation",value:function(e){return Promise.resolve("Projekt archiviert")}},{key:"listParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3?arguments[3]:void 0;n=n||{};var r="?limit="+String(t)+"&offset="+String((e-1)*t)+"&q="+encodeURIComponent(String(i));return n.ids&&n.ids.length>0&&(r+="&ids="+n.ids.join("|")),(n.ids&&n.ids.length>0||n.includeArchived)&&(r+="&include-archived"),n.highlighted&&(r+="&highlighted"),this._get(r)}},{key:"archive",value:function(e){var t=this,i=this._post(e+"/archive/",{});return i.then((function(){t.clearCache()})),i}}]),i}(s["a"]),u=new c;t["a"]=u},ee82:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n=[{code:"4e79a7",text:"f9f9f9"},{code:"59a14f",text:"f9f9f9"},{code:"9c755f",text:"f9f9f9"},{code:"f28e2b",text:"f9f9f9"},{code:"edc948",text:"222222"},{code:"bab0ac",text:"222222"},{code:"e15759",text:"f9f9f9"},{code:"b07aa1",text:"f9f9f9"},{code:"76b7b2",text:"f9f9f9"},{code:"ff9da7",text:"222222"},{code:"eeeeee",text:"222222"}]},fc99:function(e,t,i){}}]);
//# sourceMappingURL=chunk-47f52a42.6124e7d1.js.map