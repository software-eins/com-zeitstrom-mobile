(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58329c84"],{"0b9c":function(e,t,r){"use strict";r.r(t);var i=r("7a23"),n={class:"py-4 text-sm"};function a(e,t,r,a,o,s){var u=Object(i["z"])("ion-item"),c=Object(i["z"])("zeit-detail");return e.isLoaded?(Object(i["r"])(),Object(i["e"])(c,{key:0,service:e.employeeService,extraActions:e.extraActions,isEditable:!e.employee||!e.employee.archived_at,ref:"employeeDetail"},Object(i["g"])({_:2},[e.employee&&e.employee.archived_at?{name:"before-form",fn:Object(i["E"])((function(){return[Object(i["i"])(u,{color:"warning"},{default:Object(i["E"])((function(){return[Object(i["i"])("div",n," Dieser Mitarbeiter wurde am "+Object(i["B"])(e.formatLongDate(e.employee.archived_at))+" archiviert. Nach Ablauf der Aufbewahrungsfrist von "+Object(i["B"])(e.employee.delete_after_archive_period)+" Jahren kann der Mitarbeiter gelöscht werden. ",1)]})),_:1})]}))}:void 0]),1032,["service","extraActions","isEditable"])):Object(i["f"])("",!0)}var o=r("ab31"),s=r("7e68"),u=r("8a30"),c=r("81c3"),l=c["a"].Clipboard,d=function(e){l.write({string:e}),u["U"].create({message:"Kopiert.",duration:2e3}).then((function(e){return e.present()}))},m=r("1e47"),v=Object(i["j"])({components:{IonItem:u["n"],ZeitDetail:s["b"]},data:function(){var e=this;return{formatLongDate:m["e"],employeeService:o["b"],employee:void 0,isLoaded:!1,extraActions:[new s["a"]("Zugangsdaten kopieren",(function(e){d(e.username+" "+e.initial_password)})),new s["a"]("Passwort zurücksetzen",(function(t){o["b"].resetPassword(t.id).then((function(){var t=e.$refs.employeeDetail,r=t.$refs.form;t.reloadRemoteResource().then((function(){return r.copyRemoteResource()}))}))}))]}},beforeMount:function(){var e=this;this.$route.params.id?this.employeeService.retrieve(this.$route.params.id).then((function(t){e.employee=t.data,e.employee.archived_at&&(e.extraActions=[]),e.isLoaded=!0})):this.isLoaded=!0}});v.render=a;t["default"]=v},"771a":function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));r("a15b"),r("d3b7");var i=r("d4ec"),n=r("bee2"),a=r("262e"),o=r("2caf"),s=r("df40"),u=function(e){Object(a["a"])(r,e);var t=Object(o["a"])(r);function r(){var e;return Object(i["a"])(this,r),e=t.call(this,"/api/v2/employees/groups/"),e.formFields=[new s["c"]("name","Abteilungsname",{autofocus:!0,mobileType:"stacked"})],e.cacheTimeout=1209600,e}return Object(n["a"])(r,[{key:"newResourceTitle",value:function(e){return Promise.resolve("Abteilung hinzufügen")}},{key:"newResourceConfirmation",value:function(e){return Promise.resolve("Abteilung hinzugefügt")}},{key:"deleteResourceMethod",value:function(e){return Promise.resolve("delete")}},{key:"deleteResourceTitle",value:function(e){return Promise.resolve("Entfernen")}},{key:"deleteResourceConfirmation",value:function(e){return Promise.resolve("Abteilung entfernt")}},{key:"listParams",value:function(e){var t=e.pagesize||50,r=e.page||1,i=e.query||"",n="?limit="+String(t)+"&offset="+String((r-1)*t)+"&q="+encodeURIComponent(String(i));return e.ids&&(n+="&ids="+e.ids.join("|")),this._get(n)}}]),r}(s["a"]),c=new u},"9e52":function(e,t,r){"use strict";r.d(t,"b",(function(){return c}));r("a15b");var i=r("d4ec"),n=r("bee2"),a=r("262e"),o=r("2caf"),s=r("df40"),u=function(e){Object(a["a"])(r,e);var t=Object(o["a"])(r);function r(){var e;return Object(i["a"])(this,r),e=t.call(this,"/api/v2/devices/physical-tokens/"),e.cacheTimeout=1209600,e}return Object(n["a"])(r,[{key:"list",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i="?limit="+String(t)+"&offset="+String((e-1)*t)+"&q="+encodeURIComponent(String(r));return this._get(i)}},{key:"listParams",value:function(e){e=e||{},e.pagesize=e.pagesize||1e3,e.page=e.page||1,e.query=e.query||"",e.fields=e.fields||["id"],e.ids=e.ids||[];var t="?limit="+String(e.pagesize)+"&offset="+String((e.page-1)*e.pagesize)+"&q="+encodeURIComponent(String(e.query))+"&fields="+e.fields.join("|")+"&ids="+e.ids.join("|");return this._get(t)}},{key:"listCreate",value:function(e){return this._post("",{ids:e})}},{key:"listDelete",value:function(e){return this._post("delete/",{ids:e})}},{key:"listAvailable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n="?limit="+String(t)+"&offset="+String((e-1)*t)+"&type=available&q="+encodeURIComponent(String(r))+"&additional="+String(i);return this._get(n)}}]),r}(s["a"]),c=new u;t["a"]=c},ab31:function(e,t,r){"use strict";r.d(t,"b",(function(){return h}));r("99af"),r("a15b"),r("b0c0"),r("d3b7"),r("96cf");var i=r("1da1"),n=r("d4ec"),a=r("bee2"),o=r("262e"),s=r("2caf"),u=r("df40"),c=r("771a"),l=r("9e52"),d=r("d62b"),m=r("d0ac"),v=function(e){Object(o["a"])(r,e);var t=Object(s["a"])(r);function r(){var e;return Object(n["a"])(this,r),e=t.call(this,"/api/v2/employees/employees/"),e.formFields=[new u["c"]("first_name","Vorname",{autofocus:!0}),new u["c"]("last_name","Nachname"),new u["c"]("email","E-Mail-Adresse",{mobileType:"stacked"}),new u["c"]("employee_group_id","Abteilung",{type:"select",remoteSourceService:c["a"],remoteSourceAttribute:"name"}),new u["c"]("physical_token_id","Token-Nummer",{type:"select",description:"Die ausgewählte Token-Nummer kann zur Authentifizierung am Zeiterfassungs-Terminal verwendet werden. Nur nicht bereits zugewiesene Nummern werden angezeigt. <a target='_blank' href='/tokens/'>Token verwalten</a>",remoteSourceService:l["b"],remoteSourceListMethod:"listAvailable",remoteSourceAttribute:"id",listPageSize:1e3}),new u["c"]("accounting_number","Personalnummer",{mobileType:"stacked",description:"Die Personalnummer wird verwendet, um den Mitarbeiter im Buchhaltungsexport zu identifizieren."})],"orange"==m["a"].id&&e.formFields.push(new u["c"]("external_id","aQrate Benutzername",{mobileType:"stacked",description:"Der Benutzername wird verwendet, um diesen Zeitblick Mitarbeiter einem aQrate Mitarbeiter bei Authentifizierung am MFP zuzuordnen."})),e.formFields=e.formFields.concat([new u["c"]("username",m["a"].name+" Benutzername",{mobileType:"stacked",description:"Der Benutzername wird vom Mitarbeiter benötigt, um sich gegenüber der "+m["a"].name+" Smartphone App und dem Web-Login (https://"+m["a"].url+"/) zu authentifizieren.",isReadOnly:!0,showCreate:!1}),new u["c"]("initial_password","Vorläufiges Passwort",{mobileType:"stacked",isReadOnly:!0,showCreate:!1})]),e.archivedFormFields=[new u["c"]("first_name","Vorname",{isReadOnly:!0}),new u["c"]("last_name","Nachname",{isReadOnly:!0}),new u["c"]("email","E-Mail-Adresse",{isReadOnly:!0}),new u["c"]("employee_group_id","Abteilung",{type:"select",remoteSourceService:c["a"],remoteSourceAttribute:"name",isReadOnly:!0}),new u["c"]("accounting_id","Personalnummer",{description:"Die Personalnummer wird verwendet, um den Mitarbeiter im Buchhaltungsexport zu identifizieren.",isReadOnly:!0})],"orange"==m["a"].id&&e.archivedFormFields.push(new u["c"]("external_id","aQrate Benutzername",{description:"Der Benutzername wird verwendet, um diesen Zeitblick Mitarbeiter einem aQrate Mitarbeiter bei Authentifizierung am MFP zuzuordnen.",isReadOnly:!0})),e.filterAttributes=[new u["b"]("showArchived","Archivierte Mitarbeiter anzeigen","boolean",!1,{visible:e.listParams({showArchived:!0}).then((function(e){return e.data.count>0}))}),new u["b"]("employeeGroups","Abteilungen","select",void 0,{multiple:!0,remoteSourceService:c["a"],visible:c["a"].listParams({}).then((function(e){return e.data.count>0}))})],e.cacheTimeout=1209600,e}return Object(a["a"])(r,[{key:"titleAttribute",value:function(){return Promise.resolve((function(e){return e.first_name+" "+e.last_name}))}},{key:"newResourceTitle",value:function(e){return Promise.resolve("Mitarbeiter hinzufügen")}},{key:"newResourceConfirmation",value:function(e){return Promise.resolve("Mitarbeiter hinzugefügt")}},{key:"deleteResourceMethod",value:function(e){return e?this.retrieve(e).then((function(e){return e.data.can_be_deleted?Promise.resolve("delete"):e.data.archived_at?Promise.resolve(""):Promise.resolve("archive")})):Promise.resolve("")}},{key:"deleteResourceTitle",value:function(e){return e?this.retrieve(e).then((function(e){return e.data.can_be_deleted?Promise.resolve("Entfernen"):e.data.archived_at?Promise.resolve(""):Promise.resolve("Archivieren")})):Promise.resolve("Entfernen")}},{key:"deleteResourceConfirmation",value:function(e){return e?this.retrieve(e).then((function(e){return e.data.can_be_deleted?Promise.resolve("Mitarbeiter entfernt"):e.data.archived_at?Promise.resolve(""):Promise.resolve("Mitarbeiter archiviert")})):Promise.resolve("Mitarbeiter entfernt")}},{key:"retrieveSettingValue",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,r,i){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.retrieveSettings(t);case 2:if(n=e.sent.data,!(r in n)||!(i in n[r])){e.next=5;break}return e.abrupt("return",n[r][i]);case 5:return e.abrupt("return",d["b"].retrieveSettingValue(r,i));case 6:case"end":return e.stop()}}),e,this)})));function t(t,r,i){return e.apply(this,arguments)}return t}()},{key:"retrieveSettings",value:function(e){return this._get(e+"/settings/")}},{key:"updateSettings",value:function(e,t){return this._post(e+"/settings/",t)}},{key:"resetPassword",value:function(e){return this._post(e+"/reset-password/",{})}},{key:"list",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0,a="?limit="+String(t)+"&offset="+String((e-1)*t)+"&q="+encodeURIComponent(String(r));return void 0!=i&&(a=a+"&employee_groups="+i),!0===n&&(a+="&archived"),this._get(a)}},{key:"listParams",value:function(e){var t=e.pagesize||50,r=e.page||1,i=e.query||"",n="?limit="+String(t)+"&offset="+String((r-1)*t)+"&q="+encodeURIComponent(String(i));return e.verbosity&&(n+="&verbosity="+e.verbosity),e.ids&&(n+="&ids="+e.ids.join("|")),e.employeeGroups&&(n+="&employee_groups="+e.employeeGroups.join("|")),!0===e.showArchived&&(n+="&archived"),e.minimumAbsenceCount&&(n=n+"&absence_count__gte="+String(e.minimumAbsenceCount)),e.absenceDaterange&&(n=n+"&absence_daterange="+e.absenceDaterange),this._get(n,!1!==e.useCache)}},{key:"archive",value:function(e){return this._post(e+"/archive/",{})}}]),r}(u["a"]),h=new v;t["a"]=h},d0ac:function(e,t,r){"use strict";r("4ec9"),r("d3b7"),r("3ca3"),r("ddb0");var i=Object({NODE_ENV:"production",VUE_APP_OAUTH_CLIENT_ID:"nyXOY94HtiiEgNCTaSJ8RSDjxXCc0kGJnPVBrPZi",VUE_APP_OAUTH_CLIENT_SECRET:"cZhCRsP1E2erEF6EJInRlWxBz6xu5ZiO2P5Fq5QUAZkYr99chWDmdWdZ2KDtUj8PuarEjyev9YoqR6NjUF6ZhAgu8YyMVZxna6pRbThLG0IyyleV6bkJgWYvIfJua2hR",VUE_APP_BASE_URL:"https://api.ta-zeitblick.de",VUE_APP_BASE_URL_HOME:"http://192.168.178.60:8000",VUE_APP_BASE_URL_OFFICE:"http://192.168.2.230:8000",VUE_APP_DEBUG:"true",BASE_URL:"/"}).VUE_APP_BRANDING,n=new Map;n.set("orange",{id:"orange",name:"TA Zeitblick",url:"ta-zeitblick.de",colors:{primary:"#FF8200",success:"#28C76F",danger:"#EA5455",warning:"#FF9F43",dark:"#1E1E1E"},isMobile:"true"==Object({NODE_ENV:"production",VUE_APP_OAUTH_CLIENT_ID:"nyXOY94HtiiEgNCTaSJ8RSDjxXCc0kGJnPVBrPZi",VUE_APP_OAUTH_CLIENT_SECRET:"cZhCRsP1E2erEF6EJInRlWxBz6xu5ZiO2P5Fq5QUAZkYr99chWDmdWdZ2KDtUj8PuarEjyev9YoqR6NjUF6ZhAgu8YyMVZxna6pRbThLG0IyyleV6bkJgWYvIfJua2hR",VUE_APP_BASE_URL:"https://api.ta-zeitblick.de",VUE_APP_BASE_URL_HOME:"http://192.168.178.60:8000",VUE_APP_BASE_URL_OFFICE:"http://192.168.2.230:8000",VUE_APP_DEBUG:"true",BASE_URL:"/"}).VUE_APP_IS_MOBILE,supportPhone:"+49 1806 456326",supportPhoneFootnote:"Mo-Do 7 – 17 Uhr, Fr 7 - 16 Uhr, 20 Cent aus dem deutschen Festnetz, Mobilfunkpreise können abweichen, maximal jedoch 60 Cent pro Anruf"}),n.set("red",{id:"red",name:"Zeitstrom",url:"app.zeitstrom.com",colors:{primary:"#DF4D44",success:"#28C76F",danger:"#EA5455",warning:"#FF9F43",dark:"#1E1E1E"},isMobile:"true"==Object({NODE_ENV:"production",VUE_APP_OAUTH_CLIENT_ID:"nyXOY94HtiiEgNCTaSJ8RSDjxXCc0kGJnPVBrPZi",VUE_APP_OAUTH_CLIENT_SECRET:"cZhCRsP1E2erEF6EJInRlWxBz6xu5ZiO2P5Fq5QUAZkYr99chWDmdWdZ2KDtUj8PuarEjyev9YoqR6NjUF6ZhAgu8YyMVZxna6pRbThLG0IyyleV6bkJgWYvIfJua2hR",VUE_APP_BASE_URL:"https://api.ta-zeitblick.de",VUE_APP_BASE_URL_HOME:"http://192.168.178.60:8000",VUE_APP_BASE_URL_OFFICE:"http://192.168.2.230:8000",VUE_APP_DEBUG:"true",BASE_URL:"/"}).VUE_APP_IS_MOBILE,supportPhone:void 0,supportPhoneFootnote:void 0}),t["a"]=n.get(i||"orange")}}]);
//# sourceMappingURL=chunk-58329c84.cf7e91f9.js.map