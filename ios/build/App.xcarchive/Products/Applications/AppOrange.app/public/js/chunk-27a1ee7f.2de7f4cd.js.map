{"version":3,"sources":["webpack:///./src/views/DevicesDetail.vue","webpack:///./src/views/DevicesDetail.vue?5dfa","webpack:///./src/views/DevicesDetail.vue?62d8","webpack:///./src/services/devices.ts"],"names":["service","deviceService","components","ZeitDetail","data","render","DeviceService","formFields","autofocus","showEdit","mobileType","isReadOnly","showCreate","default","type","remoteSourceService","remoteSourceAttribute","remoteSourceListMethod","isSelectedValueInOptionList","allowNull","conditions","cacheTimeout","resourceId","Promise","resolve","resource","human_readable_name","serial_number","page","pagesize","query","this","_getChoices","params","url","String","encodeURIComponent","_get"],"mappings":"6NACE,eAAwC,GAA1BA,QAAS,EAAAC,eAAa,oB,4BCIrB,iBAAgB,CAC7BC,WAAY,CACVC,aAAA,MAEFC,KAJ6B,WAK3B,MAAO,CACLH,cAAA,WCRR,EAAOI,OAASA,EAED,gB,4JC8BTC,E,wDACF,iDACI,cAAM,4BACN,EAAKC,WAAa,CACd,IAAI,OAAU,gBAAiB,eAAgB,CAAEC,WAAW,EAAMC,UAAU,IAC5E,IAAI,OAAU,sBAAuB,cAAe,CAAEC,WAAY,UAAWD,UAAU,IAEvF,IAAI,OAAU,gBAAiB,eAAgB,CAAEE,YAAY,EAAMC,YAAY,IAC/E,IAAI,OAAU,QAAS,WAAY,CAAED,YAAY,EAAMC,YAAY,EAAOC,QAAS,kBACnF,IAAI,OAAU,sBAAuB,cAAe,CAAEH,WAAY,UAAWF,WAAW,EAAMI,YAAY,IAE1G,IAAI,OAAU,sBAAuB,oBAAqB,CACtDE,KAAM,SACNC,oBAAqB,kBACrBC,sBAAuB,QACvBC,uBAAwB,0BACxBC,6BAA6B,EAC7BC,WAAW,EACXP,YAAY,EACZQ,WAAY,CACR,IAAI,OAAmB,QAAS,YAK5C,EAAKC,aAAe,IAxBxB,E,8DA2BeC,GACX,OAAOC,QAAQC,SAAQ,SAACC,GACpB,OAAIA,EAASC,oBAA4BD,EAASC,oBAC3CD,EAASE,mB,uCAGPL,GAAwC,OAAOC,QAAQC,QAAQ,yB,8CACxDF,GAAwC,OAAOC,QAAQC,QAAQ,0B,2CAClEF,GAAwC,OAAOC,QAAQC,QAAQ,Y,0CAChEF,GAAwC,OAAOC,QAAQC,QAAQ,e,iDACxDF,GAAwC,OAAOC,QAAQC,QAAQ,uB,gDAErC,IAA7BI,EAA6B,uDAAxB,EAAGC,EAAqB,uDAAZ,GAAIC,EAAQ,uDAAF,GAC/C,OAAOC,KAAKC,YAAY,wBAAyBJ,EAAMC,EAAUC,K,iCAG1DG,GACP,IAAMJ,EAAWI,EAAOJ,UAAY,GAC9BD,EAAOK,EAAOL,MAAQ,EACtBE,EAAQG,EAAOH,OAAS,GAExBI,EACF,UAAYC,OAAON,GACnB,WAAaM,QAAQP,EAAO,GAAKC,GACjC,MAAQO,mBAAmBD,OAAOL,IAEtC,OAAOC,KAAKM,KAAKH,O,GAtDG,QA0DtBjC,EAAgB,IAAIK,EAIX","file":"js/chunk-27a1ee7f.2de7f4cd.js","sourcesContent":["<template>\n  <zeit-detail :service=\"deviceService\" />\n</template>\n\n<script lang=\"ts\">\n  import { defineComponent } from 'vue'\n  import { deviceService } from '../services/devices';\n  import ZeitDetail from '../components/ui/ZeitDetail.vue';\n\n  export default defineComponent({\n    components: {\n      ZeitDetail,\n    },\n    data() {\n      return {\n        deviceService,\n      }\n    },\n  })\n</script>\n","\n  import { defineComponent } from 'vue'\n  import { deviceService } from '../services/devices';\n  import ZeitDetail from '../components/ui/ZeitDetail.vue';\n\n  export default defineComponent({\n    components: {\n      ZeitDetail,\n    },\n    data() {\n      return {\n        deviceService,\n      }\n    },\n  })\n","import { render } from \"./DevicesDetail.vue?vue&type=template&id=109c06ad\"\nimport script from \"./DevicesDetail.vue?vue&type=script&lang=ts\"\nexport * from \"./DevicesDetail.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","import { AxiosResponse } from 'axios';\nimport { BaseService, FormField, FormFieldCondition, ChoiceField, PaginatedResponse } from './_base';\n\n\ninterface NetworkConnectionDetail {\n    is_connected: boolean;\n    ip?: string;\n}\n\n\ninterface NetworkConnections {\n    wifi: NetworkConnectionDetail;\n    eth: NetworkConnectionDetail;\n}\n\n\ninterface Device {\n    id: string;\n    created_at: string;\n    modified_at: string;\n    model?: string;\n    serial_number: string;\n    human_readable_name: string;\n    authentication_mode: string;\n    is_online: boolean;\n    network_connections: NetworkConnections;\n}\n\ninterface DeviceListParams {\n    page?: number;\n    pagesize?: number;\n    query?: string;\n}\n\n\nclass DeviceService extends BaseService<Device> {\n    constructor() {\n        super(\"/api/v2/devices/devices/\");\n        this.formFields = [\n            new FormField(\"serial_number\", \"Seriennummer\", { autofocus: true, showEdit: false }),\n            new FormField(\"human_readable_name\", \"Bezeichnung\", { mobileType: 'stacked', showEdit: false }),\n\n            new FormField(\"serial_number\", \"Seriennummer\", { isReadOnly: true, showCreate: false }),\n            new FormField(\"model\", \"Baureihe\", { isReadOnly: true, showCreate: false, default: \"Token-Scanner\" }),\n            new FormField(\"human_readable_name\", \"Bezeichnung\", { mobileType: 'stacked', autofocus: true, showCreate: false }),\n\n            new FormField(\"authentication_mode\", \"Authentifizierung\", {\n                type: \"select\",\n                remoteSourceService: this,\n                remoteSourceAttribute: 'label',\n                remoteSourceListMethod: \"listAuthenticationModes\",\n                isSelectedValueInOptionList: true,\n                allowNull: false,\n                showCreate: false,\n                conditions: [\n                    new FormFieldCondition(\"model\", \"MFP*\"),\n                ],\n            }),\n        ];\n\n        this.cacheTimeout = 60 * 15;\n    }\n\n    titleAttribute(resourceId?: string): Promise<any> {\n        return Promise.resolve((resource: any) => {\n            if (resource.human_readable_name) return resource.human_readable_name;\n            return resource.serial_number;\n        });\n    }\n    newResourceTitle(resourceId?: string): Promise<string> { return Promise.resolve(\"Terminal hinzufügen\") }\n    newResourceConfirmation(resourceId?: string): Promise<string> { return Promise.resolve(\"Terminal hinzugefügt\") }\n    deleteResourceMethod(resourceId?: string): Promise<string> { return Promise.resolve(\"delete\") }\n    deleteResourceTitle(resourceId?: string): Promise<string> { return Promise.resolve(\"Entfernen\") }\n    deleteResourceConfirmation(resourceId?: string): Promise<string> { return Promise.resolve(\"Terminal entfernt\") }\n\n    listAuthenticationModes(page=1, pagesize=50, query=''): Promise<AxiosResponse<PaginatedResponse<ChoiceField>>> {\n        return this._getChoices('authentication-modes/', page, pagesize, query);\n    }\n\n    listParams(params: DeviceListParams) {\n        const pagesize = params.pagesize || 50;\n        const page = params.page || 1;\n        const query = params.query || '';\n\n        const url =\n            '?limit=' + String(pagesize) +\n            '&offset=' + String((page - 1) * pagesize) +\n            '&q=' + encodeURIComponent(String(query));\n\n        return this._get(url);\n    }\n}\n\nconst deviceService = new DeviceService();\n\nexport {deviceService, DeviceService, Device, NetworkConnectionDetail, NetworkConnections}\n\nexport default deviceService;\n"],"sourceRoot":""}