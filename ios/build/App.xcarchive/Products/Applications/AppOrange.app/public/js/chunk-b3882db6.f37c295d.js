(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b3882db6"],{"02cf":function(e,t,n){"use strict";n("e05b")},"159b":function(e,t,n){var i=n("da84"),l=n("fdbc"),c=n("17c2"),r=n("9112");for(var o in l){var a=i[o],u=a&&a.prototype;if(u&&u.forEach!==c)try{r(u,"forEach",c)}catch(s){u.forEach=c}}},"17c2":function(e,t,n){"use strict";var i=n("b727").forEach,l=n("a640"),c=n("ae40"),r=l("forEach"),o=c("forEach");e.exports=r&&o?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},3384:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));n("d3b7"),n("ddb0");var i=n("7a23"),l=Object(i["K"])("data-v-76a8b196");Object(i["z"])("data-v-76a8b196");var c=Object(i["i"])("Alle auswählen"),r=Object(i["i"])("Keine auswählen"),o=Object(i["i"])(" · "),a=Object(i["i"])("  "),u=Object(i["i"])(" · "),s={key:0,class:"mx-2 my-4 flex justify-center text-gray-500"},b={key:0},d={key:1},f={key:1,class:"mx-2 my-4 flex justify-center text-gray-500"};Object(i["x"])();var j=l((function(e,t,n,j,O,h){var p=Object(i["E"])("ion-refresher-content"),g=Object(i["E"])("ion-refresher"),m=Object(i["E"])("ion-button"),v=Object(i["E"])("ion-item"),y=Object(i["E"])("ion-checkbox"),S=Object(i["E"])("ion-icon"),w=Object(i["E"])("zeit-promise-solver"),E=Object(i["E"])("ion-label"),k=Object(i["E"])("ion-spinner"),P=Object(i["E"])("ion-list"),C=Object(i["E"])("ion-infinite-scroll-content"),F=Object(i["E"])("ion-infinite-scroll"),I=Object(i["E"])("ion-skeleton-text");return Object(i["w"])(),Object(i["e"])("div",null,[e.isLoadingEntries?Object(i["f"])("",!0):(Object(i["w"])(),Object(i["e"])(i["a"],{key:0},[Object(i["j"])(g,{slot:"fixed",onIonRefresh:t[1]||(t[1]=function(t){return e.reloadEntries(!1,!0)}),disabled:!e.refreshEnabled},{default:l((function(){return[Object(i["j"])(p)]})),_:1},8,["disabled"]),Object(i["j"])(P,null,{default:l((function(){return[e.selectable?(Object(i["w"])(),Object(i["e"])(v,{key:0,lines:"none"},{default:l((function(){return[Object(i["j"])(m,{fill:"outline",color:"medium",onClick:t[2]||(t[2]=function(t){return e.localSelection=void 0}),disabled:void 0===e.localSelection},{default:l((function(){return[c]})),_:1},8,["disabled"]),Object(i["j"])(m,{fill:"outline",color:"medium",onClick:t[3]||(t[3]=function(t){return e.localSelection=[]}),disabled:void 0!==e.localSelection&&0==e.localSelection.length},{default:l((function(){return[r]})),_:1},8,["disabled"])]})),_:1})):Object(i["f"])("",!0),(Object(i["w"])(!0),Object(i["e"])(i["a"],null,Object(i["C"])(e.entries,(function(t){return Object(i["w"])(),Object(i["e"])(v,{key:t.id,detail:e.isLoadingEntry!=t.id&&e.showDetail,button:"",onClick:function(n){return e.handleItemClick(t)},style:e.getBorderStyle(t)},{default:l((function(){return[e.selectable?(Object(i["w"])(),Object(i["e"])(y,{key:0,slot:"start",color:"medium",class:["no-pointer-events",{"opacity-25":void 0===e.localSelection}],checked:e.isChecked(t)},null,8,["class","checked"])):Object(i["f"])("",!0),t.$virtual?Object(i["f"])("",!0):(Object(i["w"])(),Object(i["e"])(E,{key:1},{default:l((function(){return[Object(i["j"])("h2",null,[(Object(i["w"])(!0),Object(i["e"])(i["a"],null,Object(i["C"])(e.getMobileColumns("h2"),(function(n,l){return Object(i["w"])(),Object(i["e"])(i["a"],null,[Object(i["i"])(Object(i["G"])(e.getCellValue(t,n)),1),l<e.getMobileColumns("h2").length-1?(Object(i["w"])(),Object(i["e"])(i["a"],{key:0},[o],64)):Object(i["f"])("",!0)],64)})),256)),(Object(i["w"])(!0),Object(i["e"])(i["a"],null,Object(i["C"])(e.getMobileColumns("h2-icons"),(function(n,l){return Object(i["w"])(),Object(i["e"])(i["a"],{key:l},[a,e.getCellValue(t,n)?(Object(i["w"])(),Object(i["e"])(S,{key:0,color:e.getCellValue(t,n).color,style:{position:"absolute",top:"11px"},ios:e.getCellValue(t,n).icon,md:e.getCellValue(t,n).icon},null,8,["color","ios","md"])):Object(i["f"])("",!0)],64)})),128))]),Object(i["j"])("p",null,[(Object(i["w"])(!0),Object(i["e"])(i["a"],null,Object(i["C"])(e.getMobileColumns("p"),(function(n,l){return Object(i["w"])(),Object(i["e"])("span",{key:l},[n.promise?Object(i["f"])("",!0):(Object(i["w"])(),Object(i["e"])(i["a"],{key:0},[Object(i["i"])(Object(i["G"])(e.getCellValue(t,n)),1)],64)),n.promise?(Object(i["w"])(),Object(i["e"])(w,{key:1,promise:n.promise(t)},null,8,["promise"])):Object(i["f"])("",!0),l<e.getMobileColumns("p").length-1?(Object(i["w"])(),Object(i["e"])(i["a"],{key:2},[u],64)):Object(i["f"])("",!0)])})),128))])]})),_:2},1024)),t.$virtual?(Object(i["w"])(),Object(i["e"])(E,{key:2},{default:l((function(){return[Object(i["j"])("h2",null,Object(i["G"])(t.$display),1)]})),_:2},1024)):Object(i["f"])("",!0),e.isLoadingEntry==t.id?(Object(i["w"])(),Object(i["e"])(k,{key:3,slot:"end"})):Object(i["f"])("",!0)]})),_:2},1032,["detail","onClick","style"])})),128))]})),_:1}),e.entries.length>0&&e.pagination.total<=e.entries.length?(Object(i["w"])(),Object(i["e"])("div",s,[Object(i["i"])(Object(i["G"])(e.entries.length)+" ",1),1==e.entries.length?(Object(i["w"])(),Object(i["e"])("span",b,"Eintrag")):(Object(i["w"])(),Object(i["e"])("span",d,"Einträge"))])):Object(i["f"])("",!0),0==e.pagination.total?(Object(i["w"])(),Object(i["e"])("div",f," Keine Ergebnisse ")):Object(i["f"])("",!0),Object(i["j"])(F,{onIonInfinite:t[4]||(t[4]=function(t){return e.appendNextPage(t)}),threshold:"100px",disabled:e.entries.length>0&&e.pagination.total==e.nonVirtualEntries().length},{default:l((function(){return[Object(i["j"])(C,{class:"mt-4","loading-text":"Lade weitere "+e.pagination.pageSize+" Einträge…"},null,8,["loading-text"])]})),_:1},8,["disabled"])],64)),e.isLoadingEntries?(Object(i["w"])(),Object(i["e"])(P,{key:1},{default:l((function(){return[(Object(i["w"])(),Object(i["e"])(i["a"],null,Object(i["C"])(19,(function(e){return Object(i["j"])(v,{detail:!0,key:e},{default:l((function(){return[Object(i["j"])(E,null,{default:l((function(){return[Object(i["j"])("h2",null,[Object(i["j"])(I,{animated:"",class:"inline-block",style:{width:"50%"}})]),Object(i["j"])("p",null,[Object(i["j"])(I,{animated:"",class:"inline-block",style:{width:"70%"}})])]})),_:1})]})),_:2},1024)})),64))]})),_:1})):Object(i["f"])("",!0)])})),O=(n("99af"),n("4de4"),n("c975"),n("d81d"),n("a434"),n("3ca3"),n("b85c")),h=n("2909"),p=n("5530"),g=n("d4ec"),m=n("8a30"),v=n("9ba5"),y=function e(t,n){Object(g["a"])(this,e),this.icon=t,this.color=n||"primary"},S=Object(i["k"])({components:{IonButton:m["c"],IonList:m["q"],IonItem:m["o"],IonLabel:m["p"],IonIcon:m["k"],IonInfiniteScroll:m["l"],IonCheckbox:m["f"],IonInfiniteScrollContent:m["m"],IonSpinner:m["H"],ZeitPromiseSolver:v["a"],IonRefresher:m["y"],IonRefresherContent:m["z"],IonSkeletonText:m["G"]},props:{service:Object,listMethod:{type:String,default:"list"},searchQuery:{type:String,default:""},columns:{type:Array},listParameters:{type:Object},basePath:{type:String},showDetail:{type:Boolean,default:!0},selectable:{type:Boolean,default:!1},selection:{type:Array,default:void 0},nullSelectable:{type:Boolean,default:!1},nullLabel:{type:String,default:"Keine Auswahl"},refreshEnabled:{type:Boolean,default:!0}},data:function(){return{entries:[],localSelection:void 0,mountedFullPath:void 0,pagination:{total:null,currentPage:1,pageSize:50},actionsLoading:{},isLoadingEntries:!0,isLoadingEntry:void 0}},watch:{searchQuery:function(){this.pagination.currentPage=1,this.reloadEntries()},$route:function(e){this.mountedFullPath==e.fullPath&&this.reloadEntries()},listParameters:{deep:!0,handler:function(e,t){JSON.stringify(e)!=JSON.stringify(t)&&(this.pagination.currentPage=1,this.reloadEntries())}},localSelection:{deep:!0,handler:function(e){this.$emit("update:selection",e)}}},methods:{reloadEntries:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(void 0===this.service)return Promise.resolve([]);n&&this.service.clearCache();var i=this.service[this.listMethod].bind(this.service),l=Object(p["a"])({page:this.pagination.currentPage,pagesize:this.pagination.pageSize,query:this.searchQuery},this.listParameters);t||(this.isLoadingEntries=!0);var c=[];return t||void 0===this.localSelection||0==this.localSelection.length?c.push(new Promise((function(e){e([])}))):c.push(i(Object(p["a"])(Object(p["a"])({},l),{},{ids:this.localSelection,limit:1e3})).then((function(e){return e.data.results}))),c.push(i(l).then((function(n){var i;return e.pagination.total=n.data.count,i=t?e.entries.concat(n.data.results):n.data.results,i=i.filter((function(e){return!e.$virtual})),i}))),Promise.all(c).then((function(t){var n=t[0],i=n.map((function(e){return e.id})),l=t[1];l=l.filter((function(e){return-1==i.indexOf(e.id)}));var c=[];return e.nullSelectable&&c.push({id:"null",$virtual:!0,$display:e.nullLabel}),e.entries=[].concat(c,Object(h["a"])(n),Object(h["a"])(l)),e.isLoadingEntries=!1,e.entries}))},appendNextPage:function(e){this.pagination.currentPage+=1,this.reloadEntries(!0).then((function(){e.target.complete()}))},nonVirtualEntries:function(){return this.entries.filter((function(e){return!e.$virtual}))},getMobileColumns:function(e){return this.columns?this.columns.filter((function(t){return t.mobileLevel==e})):[]},getCellValue:function(e,t){return t.formatter?t.formatter(e):e[t.id]||t.default},showDetails:function(e){var t=this;this.service&&this.service.retrieve(e.id).then((function(){var n=t.basePath;void 0===n&&(n=t.$route.fullPath);var i=n+e.id+"/";t.$router.push({path:i}).then((function(){t.isLoadingEntry=void 0}))}))},_allElementsSelected:function(){return void 0===this.localSelection||this.pagination.total&&this.localSelection.length==this.pagination.total},_toggleSelection:function(e){if(void 0!==this.localSelection){var t=this.localSelection.indexOf(e.id);t>-1?this.localSelection.splice(t,1):(this.localSelection.push(e.id),this._allElementsSelected()&&(this.localSelection=void 0))}else this.localSelection=[e.id]},_showActionMenu:function(e){this.isLoadingEntry=e.id,this.showDetails(e)},handleItemClick:function(e){this.selectable?this._toggleSelection(e):this.showDetail&&this._showActionMenu(e)},getBorderStyle:function(e){var t,n=this.columns||[],i=Object(O["a"])(n.filter((function(e){return"colorborder"==e.mobileLevel})));try{for(i.s();!(t=i.n()).done;){var l=t.value;return{"border-left-width":"10px","border-left-color":"#"+e[l.id]}}}catch(c){i.e(c)}finally{i.f()}return{}},isChecked:function(e){return void 0===this.localSelection||this.localSelection.indexOf(e.id)>-1}},beforeMount:function(){void 0!==this.selection&&(this.localSelection=JSON.parse(JSON.stringify(this.selection))),this.reloadEntries()},mounted:function(){this.mountedFullPath=this.$route.fullPath}});n("5546");S.render=j,S.__scopeId="data-v-76a8b196";t["b"]=S},4160:function(e,t,n){"use strict";var i=n("23e7"),l=n("17c2");i({target:"Array",proto:!0,forced:[].forEach!=l},{forEach:l})},"4de4":function(e,t,n){"use strict";var i=n("23e7"),l=n("b727").filter,c=n("1dde"),r=n("ae40"),o=c("filter"),a=r("filter");i({target:"Array",proto:!0,forced:!o||!a},{filter:function(e){return l(this,e,arguments.length>1?arguments[1]:void 0)}})},5530:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b");function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},5546:function(e,t,n){"use strict";n("da40")},"83e5":function(e,t,n){"use strict";var i=n("7a23"),l={key:0},c=Object(i["j"])("br",null,null,-1),r=Object(i["j"])("br",null,null,-1);function o(e,t,n,o,a,u){var s=Object(i["E"])("zeit-list-filter"),b=Object(i["E"])("ion-modal"),d=Object(i["E"])("ion-menu-button"),f=Object(i["E"])("ion-buttons"),j=Object(i["E"])("ion-title"),O=Object(i["E"])("ion-segment-button"),h=Object(i["E"])("ion-segment"),p=Object(i["E"])("ion-icon"),g=Object(i["E"])("ion-button"),m=Object(i["E"])("ion-toolbar"),v=Object(i["E"])("ion-header"),y=Object(i["E"])("ion-searchbar"),S=Object(i["E"])("ion-text"),w=Object(i["E"])("zeit-grid"),E=Object(i["E"])("ion-content"),k=Object(i["E"])("ion-page");return Object(i["w"])(),Object(i["e"])(k,null,{default:Object(i["J"])((function(){return[void 0!==e.isFilterOpenRef?(Object(i["w"])(),Object(i["e"])(b,{key:0,"is-open":e.isFilterOpenRef,onOnDidDismiss:t[2]||(t[2]=function(t){return e.setFilterDialogState(!1)}),swipeToClose:!0},{default:Object(i["J"])((function(){return[Object(i["j"])(s,{service:e.service,filters:e.gridParameters,excludeFilters:e.getExclusionFilters(),onOnFilterUpdate:t[1]||(t[1]=function(t){return e.updateGridParameters(t)})},null,8,["service","filters","excludeFilters"])]})),_:1},8,["is-open"])):Object(i["f"])("",!0),Object(i["j"])(v,{translucent:!0},{default:Object(i["J"])((function(){return[Object(i["j"])(m,null,{default:Object(i["J"])((function(){return[Object(i["j"])(f,{slot:"start"},{default:Object(i["J"])((function(){return[Object(i["j"])(d,{color:"primary"})]})),_:1}),e.segmentFilter?Object(i["f"])("",!0):(Object(i["w"])(),Object(i["e"])(j,{key:0},{default:Object(i["J"])((function(){return[Object(i["i"])(Object(i["G"])(e.resourceType),1)]})),_:1})),e.segmentFilter?(Object(i["w"])(),Object(i["e"])(h,{key:1,value:e.segmentFilterValue},{default:Object(i["J"])((function(){return[(Object(i["w"])(!0),Object(i["e"])(i["a"],null,Object(i["C"])(e.segmentFilter.options,(function(t){return Object(i["w"])(),Object(i["e"])(O,{key:t.value,value:t.value,onClick:function(n){return e.filterSegmenChanged(t.value)}},{default:Object(i["J"])((function(){return[Object(i["i"])(Object(i["G"])(t.label),1)]})),_:2},1032,["value","onClick"])})),128))]})),_:1},8,["value"])):Object(i["f"])("",!0),Object(i["j"])(f,{slot:"end"},{default:Object(i["J"])((function(){return[e.hasAddPermission()?(Object(i["w"])(),Object(i["e"])(g,{key:0,"router-link":e.basePath+"add/"},{default:Object(i["J"])((function(){return[Object(i["j"])(p,{slot:"icon-only",icon:e.add},null,8,["icon"])]})),_:1},8,["router-link"])):Object(i["f"])("",!0)]})),_:1})]})),_:1})]})),_:1}),Object(i["j"])(E,{fullscreen:!0},{default:Object(i["J"])((function(){return[Object(i["j"])(v,{collapse:"condense"},{default:Object(i["J"])((function(){return[Object(i["j"])(m,null,{default:Object(i["J"])((function(){return[Object(i["j"])(j,{size:"large"},{default:Object(i["J"])((function(){return[Object(i["i"])(Object(i["G"])(e.resourceType),1)]})),_:1})]})),_:1}),e.showSearch&&e.totalResultCount>0?(Object(i["w"])(),Object(i["e"])(m,{key:0},{default:Object(i["J"])((function(){return[Object(i["j"])(y,{placeholder:e.searchPlaceholder,animated:"",onIonChange:e.searchQueryChange},null,8,["placeholder","onIonChange"]),Object(i["j"])(f,{slot:"end"},{default:Object(i["J"])((function(){return[e.filterAttributes&&e.filterAttributes.length>0?(Object(i["w"])(),Object(i["e"])(g,{key:0,onClick:t[3]||(t[3]=function(t){return e.setFilterDialogState(!0)})},{default:Object(i["J"])((function(){return[Object(i["j"])(p,{slot:"icon-only",icon:0==e.appliedFilterCount()?e.funnelOutline:e.funnel,style:{width:"24px"}},null,8,["icon"])]})),_:1})):Object(i["f"])("",!0)]})),_:1})]})),_:1})):Object(i["f"])("",!0),0==e.totalResultCount?(Object(i["w"])(),Object(i["e"])(m,{key:1,class:"px-3 pb-4"},{default:Object(i["J"])((function(){return[Object(i["j"])(S,{color:"medium"},{default:Object(i["J"])((function(){return[Object(i["D"])(e.$slots,"no-results"),e.hasAddPermission()?(Object(i["w"])(),Object(i["e"])("span",l,[c,r,Object(i["D"])(e.$slots,"no-results-add")])):Object(i["f"])("",!0)]})),_:3})]})),_:1})):Object(i["f"])("",!0)]})),_:1}),e.totalResultCount>0?(Object(i["w"])(),Object(i["e"])(w,{key:0,service:e.service,listMethod:e.listMethod,columns:e.fields,searchQuery:e.gridSearchQuery,listParameters:e.getListParameters(),basePath:e.basePath,showDetail:e.showDetail},null,8,["service","listMethod","columns","searchQuery","listParameters","basePath","showDetail"])):Object(i["f"])("",!0)]})),_:1})]})),_:1})}n("4de4"),n("c975"),n("d81d"),n("d3b7"),n("3ca3"),n("ddb0");var a=n("b85c"),u=n("5530"),s=n("ff79"),b=n("8a30"),d=n("3384"),f=Object(i["i"])("Zurücksetzen"),j=Object(i["i"])("Fertig"),O=Object(i["i"])("Filter"),h=Object(i["i"])("Alle"),p=Object(i["i"])("Keine");function g(e,t,n,l,c,r){var o=Object(i["E"])("ion-button"),a=Object(i["E"])("ion-buttons"),u=Object(i["E"])("ion-title"),s=Object(i["E"])("ion-toolbar"),b=Object(i["E"])("ion-header"),d=Object(i["E"])("ion-label"),g=Object(i["E"])("ion-toggle"),m=Object(i["E"])("ion-item"),v=Object(i["E"])("ion-note"),y=Object(i["E"])("zeit-select"),S=Object(i["E"])("ion-modal"),w=Object(i["E"])("ion-list"),E=Object(i["E"])("ion-content"),k=Object(i["E"])("ion-page");return Object(i["w"])(),Object(i["e"])(k,null,{default:Object(i["J"])((function(){return[Object(i["j"])(b,{translucent:!0},{default:Object(i["J"])((function(){return[Object(i["j"])(s,null,{default:Object(i["J"])((function(){return[Object(i["j"])(a,{slot:"start"},{default:Object(i["J"])((function(){return[Object(i["j"])(o,{color:"primary",onClick:t[1]||(t[1]=function(t){return e.resetFiltersAndCloseModal()})},{default:Object(i["J"])((function(){return[f]})),_:1})]})),_:1}),Object(i["j"])(a,{slot:"end"},{default:Object(i["J"])((function(){return[Object(i["j"])(o,{color:"primary",onClick:t[2]||(t[2]=function(t){return e.closeModal()})},{default:Object(i["J"])((function(){return[j]})),_:1})]})),_:1}),Object(i["j"])(u,null,{default:Object(i["J"])((function(){return[O]})),_:1})]})),_:1})]})),_:1}),e.localFilters?(Object(i["w"])(),Object(i["e"])(E,{key:0,fullscreen:!0},{default:Object(i["J"])((function(){return[Object(i["j"])(w,null,{default:Object(i["J"])((function(){return[(Object(i["w"])(!0),Object(i["e"])(i["a"],null,Object(i["C"])(e.cleanFilterAttributes,(function(t){return Object(i["w"])(),Object(i["e"])("div",{key:t.id},["boolean"==t.type?(Object(i["w"])(),Object(i["e"])(m,{key:0,lines:"full"},{default:Object(i["J"])((function(){return[Object(i["j"])(d,null,{default:Object(i["J"])((function(){return[Object(i["i"])(Object(i["G"])(t.label),1)]})),_:2},1024),Object(i["j"])(g,{onIonChange:function(n){return e.updateFilter(t,n.srcElement.checked)},checked:e.localFilters[t.id]},null,8,["onIonChange","checked"])]})),_:2},1024)):Object(i["f"])("",!0),"select"==t.type?(Object(i["w"])(),Object(i["e"])(m,{key:1,onClick:function(n){return e.openSelectModal(t)},lines:"full",detail:!0},{default:Object(i["J"])((function(){return[Object(i["j"])(d,null,{default:Object(i["J"])((function(){return[Object(i["i"])(Object(i["G"])(t.label),1)]})),_:2},1024),void 0===e.localFilters[t.id]?(Object(i["w"])(),Object(i["e"])(v,{key:0,slot:"end"},{default:Object(i["J"])((function(){return[h]})),_:1})):0==e.localFilters[t.id].length?(Object(i["w"])(),Object(i["e"])(v,{key:1,slot:"end"},{default:Object(i["J"])((function(){return[p]})),_:1})):(Object(i["w"])(),Object(i["e"])(v,{key:2,slot:"end"},{default:Object(i["J"])((function(){return[Object(i["i"])(Object(i["G"])(e.localFilters[t.id].length),1)]})),_:2},1024)),Object(i["j"])(S,{"is-open":e.selectModals[t.id],onOnDidDismiss:function(n){return e.selectModals[t.id]=!1}},{default:Object(i["J"])((function(){return[Object(i["j"])(y,{title:t.label,remoteService:t.remoteSourceService,selection:e.localFilters[t.id],multiple:t.multiple,nullSelectable:t.nullSelectable,nullLabel:t.nullLabel,"onUpdate:selection":function(n){return e.updateFilter(t,n,!0)}},null,8,["title","remoteService","selection","multiple","nullSelectable","nullLabel","onUpdate:selection"])]})),_:2},1032,["is-open","onOnDidDismiss"])]})),_:2},1032,["onClick"])):Object(i["f"])("",!0)])})),128))]})),_:1})]})),_:1})):Object(i["f"])("",!0)]})),_:1})}var m=Object(i["i"])("Fertig");function v(e,t,n,l,c,r){var o=Object(i["E"])("ion-button"),a=Object(i["E"])("ion-buttons"),u=Object(i["E"])("ion-title"),s=Object(i["E"])("ion-toolbar"),b=Object(i["E"])("ion-searchbar"),d=Object(i["E"])("ion-header"),f=Object(i["E"])("zeit-grid"),j=Object(i["E"])("ion-content"),O=Object(i["E"])("ion-page");return Object(i["w"])(),Object(i["e"])(O,null,{default:Object(i["J"])((function(){return[Object(i["j"])(d,{translucent:!0},{default:Object(i["J"])((function(){return[Object(i["j"])(s,null,{default:Object(i["J"])((function(){return[Object(i["j"])(a,{slot:"end"},{default:Object(i["J"])((function(){return[Object(i["j"])(o,{color:"primary",onClick:t[1]||(t[1]=function(t){return e.submitLocalSelection()})},{default:Object(i["J"])((function(){return[m]})),_:1})]})),_:1}),Object(i["j"])(u,null,{default:Object(i["J"])((function(){return[Object(i["i"])(Object(i["G"])(e.title),1)]})),_:1})]})),_:1}),Object(i["j"])(s,null,{default:Object(i["J"])((function(){return[Object(i["j"])(b,{placeholder:e.searchPlaceholder,animated:"",onIonChange:e.searchQueryChange},null,8,["placeholder","onIonChange"])]})),_:1})]})),_:1}),Object(i["j"])(j,{fullscreen:!0},{default:Object(i["J"])((function(){return[Object(i["j"])(f,{service:e.remoteService,listMethod:"listParams",columns:e.fields,searchQuery:e.searchQuery,listParameters:{},showDetail:!1,selectable:!0,nullSelectable:e.nullSelectable,nullLabel:e.nullLabel,selection:e.localSelection,refreshEnabled:!1,"onUpdate:selection":t[2]||(t[2]=function(t){return e.updateLocalSelection(t)})},null,8,["service","columns","searchQuery","nullSelectable","nullLabel","selection"])]})),_:1})]})),_:1})}var y=Object(i["k"])({components:{IonSearchbar:b["B"],IonPage:b["x"],IonHeader:b["j"],IonToolbar:b["Q"],IonButtons:b["d"],IonButton:b["c"],IonTitle:b["O"],IonContent:b["g"],ZeitGrid:d["b"]},props:{title:String,remoteService:Object,multiple:{type:Boolean,default:!1},selection:{type:Object,default:void 0},searchPlaceholder:{type:String,default:"Suche"},nullSelectable:{type:Boolean,default:!1},nullLabel:{type:String,default:"Keine Auswahl"},updateSelection:Object},computed:{fields:function(){return[{id:"name",label:"Name",mobileLevel:"h2"}]}},data:function(){return{searchQuery:"",localSelection:void 0}},methods:{searchQueryChange:function(e){this.searchQuery=e.detail.value},submitLocalSelection:function(){this.$emit("update:selection",this.localSelection)},updateLocalSelection:function(e){this.localSelection=e}},beforeMount:function(){void 0!==this.selection&&(this.localSelection=JSON.parse(JSON.stringify(this.selection)))}});y.render=v;var S=y,w=Object(i["k"])({components:{IonModal:b["v"],IonNote:b["w"],IonPage:b["x"],IonHeader:b["j"],IonToolbar:b["Q"],IonButtons:b["d"],IonButton:b["c"],IonTitle:b["O"],IonContent:b["g"],IonList:b["q"],IonItem:b["o"],IonLabel:b["p"],IonToggle:b["P"],ZeitSelect:S},props:{service:Object,filters:Object,excludeFilters:{type:Array,default:function(){return[]}}},data:function(){return{localFilters:void 0,selectModals:{},cleanFilterAttributes:[]}},methods:{closeModal:function(){b["U"].dismiss()},resetFilters:function(){var e,t=Object(a["a"])(this.cleanFilterAttributes);try{for(t.s();!(e=t.n()).done;){var n=e.value,i=n.defaultValue;i&&(i=JSON.parse(JSON.stringify(i))),this.localFilters[n.id]=i}}catch(l){t.e(l)}finally{t.f()}},resetFiltersAndCloseModal:function(){this.resetFilters(),this.$emit("onFilterUpdate",this.localFilters),this.closeModal()},updateFilter:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n&&(this.selectModals[e.id]=!1),this.localFilters[e.id]=t,this.$emit("onFilterUpdate",this.localFilters)},openSelectModal:function(e){e.id in this.selectModals||(this.selectModals[e.id]=Object(i["B"])(!1)),this.selectModals[e.id]=!0},updateFilterAttributes:function(){var e=this,t=this.service.filterAttributes;return Promise.all(t.map((function(e){return e.visible}))).then((function(n){var i=t.filter((function(e,t){return n[t]}));i=i.filter((function(t){return-1==e.excludeFilters.indexOf(t.id)})),e.cleanFilterAttributes=i}))}},mounted:function(){this.localFilters=JSON.parse(JSON.stringify(this.filters)),this.updateFilterAttributes()}});w.render=g;var E=w,k=n("ba82"),P=Object(i["k"])({components:{IonButtons:b["d"],IonButton:b["c"],IonIcon:b["k"],IonContent:b["g"],IonHeader:b["j"],IonMenuButton:b["t"],IonPage:b["x"],IonTitle:b["O"],IonToolbar:b["Q"],IonSearchbar:b["B"],IonModal:b["v"],IonText:b["M"],IonSegment:b["C"],IonSegmentButton:b["D"],ZeitGrid:d["b"],ZeitListFilter:E},props:{resourceType:String,basePath:String,searchPlaceholder:String,service:Object,fields:Array,totalResultCountPromise:{type:Function,default:void 0},listParameters:{type:Object,default:function(){return{}}},segmentFilter:Object,showSearch:{type:Boolean,default:!0},showDetail:{type:Boolean,default:!0}},data:function(){return{accountService:k["a"],add:s["a"],funnel:s["y"],funnelOutline:s["z"],gridSearchQuery:"",gridParameters:{},mountedFullPath:void 0,listMethod:"listParams",account:void 0,filterAttributes:void 0,segmentFilterValue:void 0,totalResultCount:void 0}},watch:{$route:function(e){this.mountedFullPath==e.fullPath&&this.updateTotalResultCount()}},methods:{hasAddPermission:function(){var e=this.$route.meta.permissionSpace+":add";return void 0!==this.account&&this.account.permissions.indexOf(e)>-1},searchQueryChange:function(e){this.gridSearchQuery=e.detail.value},getListParameters:function(){return Object(u["a"])(Object(u["a"])({},this.gridParameters),this.listParameters)},updateGridParameters:function(e){this.gridParameters=Object(u["a"])(Object(u["a"])({},this.gridParameters),e)},appliedFilterCount:function(){var e,t=0,n=this.getExclusionFilters(),i=this.filterAttributes.filter((function(e){return-1==n.indexOf(e.id)})),l=Object(a["a"])(i);try{for(l.s();!(e=l.n()).done;){var c=e.value;JSON.stringify(this.gridParameters[c.id])!=JSON.stringify(c.defaultValue)&&(t+=1)}}catch(r){l.e(r)}finally{l.f()}return t},updateTotalResultCount:function(){var e=this;return this.totalResultCountPromise?this.totalResultCountPromise().then((function(t){return e.totalResultCount=t,e.totalResultCount})):this.service[this.listMethod](this.listParameters).then((function(t){return e.totalResultCount=t.data.count,e.totalResultCount}))},filterSegmenChanged:function(e){this.segmentFilterValue=e,this.gridParameters[this.segmentFilter.filterAttributeId]=e},getExclusionFilters:function(){var e=[];return this.segmentFilter&&e.push(this.segmentFilter.filterAttributeId),e},updateFilterAttributes:function(){var e=this,t=this.service.filterAttributes;return Promise.all(t.map((function(e){return e.visible}))).then((function(n){e.filterAttributes=t.filter((function(e,t){return n[t]}))}))}},setup:function(){var e=Object(i["B"])(!1),t=function(t){e.value=t};return{isFilterOpenRef:e,setFilterDialogState:t}},beforeMount:function(){var e=this;this.updateFilterAttributes().then((function(){var t,n=Object(a["a"])(e.filterAttributes);try{for(n.s();!(t=n.n()).done;){var i=t.value;e.gridParameters[i.id]=e.gridParameters[i.id]||i.defaultValue}}catch(l){n.e(l)}finally{n.f()}})),this.segmentFilter&&(this.segmentFilterValue=this.segmentFilter.default),this.accountService.list().then((function(t){e.account=t.data.results[0]})),this.updateTotalResultCount()},mounted:function(){this.mountedFullPath=this.$route.fullPath}});P.render=o;t["a"]=P},"9ba5":function(e,t,n){"use strict";var i=n("7a23"),l=Object(i["K"])("data-v-edc77cd2"),c=l((function(e,t,n,l,c,r){var o=Object(i["E"])("ion-skeleton-text");return Object(i["w"])(),Object(i["e"])("span",null,[e.isSolved?Object(i["f"])("",!0):(Object(i["w"])(),Object(i["e"])(o,{key:0,style:e.getPlaceholderStyle(),animated:""},null,8,["style"])),Object(i["i"])(" "+Object(i["G"])(e.value),1)])})),r=n("8a30"),o=Object(i["k"])({components:{IonSkeletonText:r["G"]},props:{promise:Object,width:{type:String,default:"40px"}},data:function(){return{isSolved:!1,value:void 0}},methods:{getPlaceholderStyle:function(){return{width:this.width,display:"inline-block"}}},mounted:function(){var e=this;this.promise.then((function(t){e.value=t,e.isSolved=!0}))}});n("02cf");o.render=c,o.__scopeId="data-v-edc77cd2";t["a"]=o},a434:function(e,t,n){"use strict";var i=n("23e7"),l=n("23cb"),c=n("a691"),r=n("50c4"),o=n("7b0b"),a=n("65f0"),u=n("8418"),s=n("1dde"),b=n("ae40"),d=s("splice"),f=b("splice",{ACCESSORS:!0,0:0,1:2}),j=Math.max,O=Math.min,h=9007199254740991,p="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!d||!f},{splice:function(e,t){var n,i,s,b,d,f,g=o(this),m=r(g.length),v=l(e,m),y=arguments.length;if(0===y?n=i=0:1===y?(n=0,i=m-v):(n=y-2,i=O(j(c(t),0),m-v)),m+n-i>h)throw TypeError(p);for(s=a(g,i),b=0;b<i;b++)d=v+b,d in g&&u(s,b,g[d]);if(s.length=i,n<i){for(b=v;b<m-i;b++)d=b+i,f=b+n,d in g?g[f]=g[d]:delete g[f];for(b=m;b>m-i+n;b--)delete g[b-1]}else if(n>i)for(b=m-i;b>v;b--)d=b+i-1,f=b+n-1,d in g?g[f]=g[d]:delete g[f];for(b=0;b<n;b++)g[b+v]=arguments[b+2];return g.length=m-i+n,s}})},b64b:function(e,t,n){var i=n("23e7"),l=n("7b0b"),c=n("df75"),r=n("d039"),o=r((function(){c(1)}));i({target:"Object",stat:!0,forced:o},{keys:function(e){return c(l(e))}})},da40:function(e,t,n){},dbb4:function(e,t,n){var i=n("23e7"),l=n("83ab"),c=n("56ef"),r=n("fc6a"),o=n("06cf"),a=n("8418");i({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(e){var t,n,i=r(e),l=o.f,u=c(i),s={},b=0;while(u.length>b)n=l(i,t=u[b++]),void 0!==n&&a(s,t,n);return s}})},e05b:function(e,t,n){},e439:function(e,t,n){var i=n("23e7"),l=n("d039"),c=n("fc6a"),r=n("06cf").f,o=n("83ab"),a=l((function(){r(1)})),u=!o||a;i({target:"Object",stat:!0,forced:u,sham:!o},{getOwnPropertyDescriptor:function(e,t){return r(c(e),t)}})}}]);
//# sourceMappingURL=chunk-b3882db6.f37c295d.js.map