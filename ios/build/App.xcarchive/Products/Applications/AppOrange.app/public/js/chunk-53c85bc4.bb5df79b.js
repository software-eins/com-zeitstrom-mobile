(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-53c85bc4"],{"4de4":function(t,e,i){"use strict";var o=i("23e7"),n=i("b727").filter,r=i("1dde"),a=i("ae40"),s=r("filter"),c=a("filter");o({target:"Array",proto:!0,forced:!s||!c},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},"879f":function(t,e,i){},"8e9f":function(t,e,i){"use strict";i("879f")},a0d0:function(t,e,i){"use strict";i.r(e);var o=i("7a23"),n=Object(o["j"])("div",{class:"dot-active mr-2"},null,-1),r=Object(o["i"])(" Angemeldet"),a=Object(o["i"])("Abgemeldet"),s=Object(o["i"])("Du bist momentan nicht angemeldet. Deine Arbeitszeit wird nicht aufgezeichnet."),c=Object(o["i"])(" Erfassung beenden "),u=Object(o["j"])("div",{class:"dot-active"},null,-1),d={class:"text-sm"},l={key:0},p={key:1},b={key:2},f=Object(o["j"])("h2",null,"Erfassung starten",-1),O={key:0},h={key:1},A={key:2};function m(t,e,i,m,j,S){Object(o["E"])("ion-menu-button"),Object(o["E"])("ion-buttons");var g=Object(o["E"])("ion-skeleton-text"),E=Object(o["E"])("ion-title"),y=Object(o["E"])("ion-toolbar"),_=Object(o["E"])("ion-header"),v=Object(o["E"])("ion-refresher-content"),C=Object(o["E"])("ion-refresher"),R=Object(o["E"])("ion-text"),w=Object(o["E"])("zeit-permission-request"),T=Object(o["E"])("ion-label"),L=Object(o["E"])("ion-icon"),z=Object(o["E"])("ion-spinner"),k=Object(o["E"])("ion-item"),N=Object(o["E"])("zeit-workday-card"),I=Object(o["E"])("ion-content"),D=Object(o["E"])("ion-page");return Object(o["w"])(),Object(o["e"])(D,null,{default:Object(o["J"])((function(){return[Object(o["j"])(_,{translucent:!0},{default:Object(o["J"])((function(){return[Object(o["j"])(y,null,{default:Object(o["J"])((function(){return[Object(o["f"])("",!0),Object(o["j"])(E,null,{default:Object(o["J"])((function(){return[t.activeTimespan?(Object(o["w"])(),Object(o["e"])(o["a"],{key:0},[n,r],64)):t.isLoaded?(Object(o["w"])(),Object(o["e"])(o["a"],{key:1},[a],64)):(Object(o["w"])(),Object(o["e"])(g,{key:2,animated:""}))]})),_:1})]})),_:1})]})),_:1}),Object(o["j"])(I,{fullscreen:!0},{default:Object(o["J"])((function(){return[Object(o["j"])(C,{slot:"fixed",onIonRefresh:e[1]||(e[1]=function(e){return t.loadData(e)})},{default:Object(o["J"])((function(){return[Object(o["j"])(v)]})),_:1}),Object(o["j"])(_,{collapse:"condense"},{default:Object(o["J"])((function(){return[Object(o["j"])(y,null,{default:Object(o["J"])((function(){return[Object(o["j"])(E,{size:"large"},{default:Object(o["J"])((function(){return[Object(o["i"])("Hallo "+Object(o["G"])(t.getName()),1)]})),_:1})]})),_:1}),Object(o["j"])(y,{class:"px-3 pb-4"},{default:Object(o["J"])((function(){return[Object(o["j"])(R,{color:"medium"},{default:Object(o["J"])((function(){return[t.activeTimespan?(Object(o["w"])(),Object(o["e"])(o["a"],{key:0},[Object(o["i"])("Du bist seit "+Object(o["G"])(t.formatTime(t.activeTimespan.checkin.time))+" Uhr angemeldet. Deine Arbeitszeit wird aufgezeichnet.",1)],64)):t.isLoaded?(Object(o["w"])(),Object(o["e"])(o["a"],{key:1},[s],64)):(Object(o["w"])(),Object(o["e"])(o["a"],{key:2},[Object(o["j"])(g,{animated:"",class:"mb-3"}),Object(o["j"])(g,{animated:"",class:"mb-3 w-1/2"})],64))]})),_:1})]})),_:1})]})),_:1}),"location_tracking_detailed"==t.locationSetting?(Object(o["w"])(),Object(o["e"])(w,{key:0,feature:"location",description:"Dein Arbeitgeber benötigt den genauen Standort zur Erfassung von Arbeitszeiten.",notEnabledDescription:"Leider unterstützt dein Gerät keine Standortfreigabe. Du kannst daher keine Zeiten erfassen.",cta:"Standort jetzt freigeben",onIsAvailable:e[2]||(e[2]=function(e){return t.handleLocationPermissionChange(e)})})):Object(o["f"])("",!0),t.isLoaded?(Object(o["w"])(),Object(o["e"])(k,{key:1,lines:"full",class:"hero-cta mb-4",onClick:e[3]||(e[3]=function(e){return t.addTimestamp()})},{default:Object(o["J"])((function(){return[t.activeTimespan?(Object(o["w"])(),Object(o["e"])(T,{key:0},{default:Object(o["J"])((function(){return[Object(o["j"])("h2",null,[c,u,Object(o["j"])(R,{color:"success",class:"ml-2",key:t.now},{default:Object(o["J"])((function(){return[Object(o["j"])("span",d,Object(o["G"])(t.timeAgo(t.activeTimespan.checkin.time)),1)]})),_:1})]),t.formattedAddress?(Object(o["w"])(),Object(o["e"])("p",l,Object(o["G"])(t.formattedAddress),1)):t.waitingForAddress()?(Object(o["w"])(),Object(o["e"])("p",p,"Dein Standort wird ermittelt")):(Object(o["w"])(),Object(o["e"])("p",b,"Pausiere oder beende deinen Arbeitstag"))]})),_:1})):(Object(o["w"])(),Object(o["e"])(T,{key:1},{default:Object(o["J"])((function(){return[f,t.formattedAddress?(Object(o["w"])(),Object(o["e"])("p",O,Object(o["G"])(t.formattedAddress),1)):t.waitingForAddress()?(Object(o["w"])(),Object(o["e"])("p",h,"Dein Standort wird ermittelt")):(Object(o["w"])(),Object(o["e"])("p",A,"Beginne einen neuen Arbeitstag"))]})),_:1})),t.isLoadingAddTimestamp||!t.activeTimespan||t.waitingForAddress()?t.isLoadingAddTimestamp||t.waitingForAddress()?(Object(o["w"])(),Object(o["e"])(z,{key:4,slot:"end"})):(Object(o["w"])(),Object(o["e"])(L,{key:3,icon:t.playOutline,slot:"end",size:"large"},null,8,["icon"])):(Object(o["w"])(),Object(o["e"])(L,{key:2,icon:t.logOutOutline,slot:"end",size:"large"},null,8,["icon"]))]})),_:1})):(Object(o["w"])(),Object(o["e"])(k,{key:2,lines:"full",class:"hero-cta mb-4"},{default:Object(o["J"])((function(){return[Object(o["j"])(T,null,{default:Object(o["J"])((function(){return[Object(o["j"])("h2",null,[Object(o["j"])(g,{animated:"",class:"w-60"})]),Object(o["j"])("p",null,[Object(o["j"])(g,{animated:"",class:"w-40"})])]})),_:1})]})),_:1})),t.isLoaded?(Object(o["w"])(!0),Object(o["e"])(o["a"],{key:3},Object(o["C"])(t.getWorkdays(),(function(e){return Object(o["w"])(),Object(o["e"])(N,{activeTimespanId:t.activeTimespan?t.activeTimespan.id:void 0,key:e.id,workday:e},null,8,["activeTimespanId","workday"])})),128)):Object(o["f"])("",!0)]})),_:1})]})),_:1})}i("4de4"),i("d3b7"),i("ac1f"),i("3ca3"),i("5319"),i("1276"),i("ddb0"),i("96cf");var j=i("1da1"),S=i("8a30"),g=i("6b70"),E=i("e9b9"),y=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return y(e,t),e.prototype.getCurrentPosition=function(t){return Object(g["b"])(this,"getCurrentPosition",{callbackOrder:"reverse"},arguments)},e.prototype.watchPosition=function(t){return new E["a"]((function(e){var i=navigator.geolocation.watchPosition(e.next.bind(e),e.next.bind(e),t);return function(){return navigator.geolocation.clearWatch(i)}}))},e.pluginName="Geolocation",e.plugin="cordova-plugin-geolocation",e.pluginRef="navigator.geolocation",e.repo="https://github.com/apache/cordova-plugin-geolocation",e.install='ionic cordova plugin add cordova-plugin-geolocation --variable GEOLOCATION_USAGE_DESCRIPTION="To locate you"',e.installVariables=["GEOLOCATION_USAGE_DESCRIPTION"],e.platforms=["Amazon Fire OS","Android","Browser","iOS","Windows"],e}(g["a"]),v=new _,C=i("ff79"),R=i("402a"),w=(i("a4d3"),i("e01a"),{class:"flex flex-col py-4"}),T={class:"text-sm mb-2"},L={key:0},z=Object(o["i"])("Einstellungen öffnen"),k={key:1,class:"opacity-40"},N={class:"text-sm"};function I(t,e,i,n,r,a){var s=Object(o["E"])("zeit-button"),c=Object(o["E"])("ion-item");return 0==t.available?(Object(o["w"])(),Object(o["e"])(c,{key:0,color:"warning"},{default:Object(o["J"])((function(){return[Object(o["j"])("div",w,[Object(o["j"])("p",T,Object(o["G"])(t.description),1),t.enabled?(Object(o["w"])(),Object(o["e"])("div",L,[t.showCta()?(Object(o["w"])(),Object(o["e"])(s,{key:0,onClick:e[1]||(e[1]=function(e){return t.requestPermission()}),color:"dark",fill:"outline"},{default:Object(o["J"])((function(){return[Object(o["i"])(Object(o["G"])(t.cta),1)]})),_:1})):Object(o["f"])("",!0),t.showSettings()?(Object(o["w"])(),Object(o["e"])(s,{key:1,onClick:e[2]||(e[2]=function(e){return t.openAppSettings()}),color:"dark",fill:"outline"},{default:Object(o["J"])((function(){return[z]})),_:1})):Object(o["f"])("",!0)])):(Object(o["w"])(),Object(o["e"])("div",k,[Object(o["j"])("p",N,Object(o["G"])(t.notEnabledDescription),1)]))])]})),_:1})):Object(o["f"])("",!0)}var D=i("2972"),P=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),W=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.permission={READ_CALENDAR:"READ_CALENDAR",WRITE_CALENDAR:"WRITE_CALENDAR",CAMERA:"CAMERA",READ_CONTACTS:"READ_CONTACTS",WRITE_CONTACTS:"WRITE_CONTACTS",GET_ACCOUNTS:"GET_ACCOUNTS",ACCESS_FINE_LOCATION:"ACCESS_FINE_LOCATION",ACCESS_COARSE_LOCATION:"ACCESS_COARSE_LOCATION",RECORD_AUDIO:"RECORD_AUDIO",READ_PHONE_STATE:"READ_PHONE_STATE",CALL_PHONE:"CALL_PHONE",ADD_VOICEMAIL:"ADD_VOICEMAIL",USE_SIP:"USE_SIP",PROCESS_OUTGOING_CALLS:"PROCESS_OUTGOING_CALLS",READ_CALL_LOG:"READ_CALL_LOG",WRITE_CALL_LOG:"WRITE_CALL_LOG",SEND_SMS:"SEND_SMS",RECEIVE_SMS:"RECEIVE_SMS",READ_SMS:"READ_SMS",RECEIVE_WAP_PUSH:"RECEIVE_WAP_PUSH",RECEIVE_MMS:"RECEIVE_MMS",WRITE_EXTERNAL_STORAGE:"WRITE_EXTERNAL_STORAGE",READ_EXTERNAL_STORAGE:"READ_EXTERNAL_STORAGE",BODY_SENSORS:"BODY_SENSORS"},e.locationAuthorizationMode={ALWAYS:"always",WHEN_IN_USE:"when_in_use"},e.permissionGroups={CALENDAR:["READ_CALENDAR","WRITE_CALENDAR"],CAMERA:["CAMERA"],CONTACTS:["READ_CONTACTS","WRITE_CONTACTS","GET_ACCOUNTS"],LOCATION:["ACCESS_FINE_LOCATION","ACCESS_COARSE_LOCATION"],MICROPHONE:["RECORD_AUDIO"],PHONE:["READ_PHONE_STATE","CALL_PHONE","ADD_VOICEMAIL","USE_SIP","PROCESS_OUTGOING_CALLS","READ_CALL_LOG","WRITE_CALL_LOG"],SENSORS:["BODY_SENSORS"],SMS:["SEND_SMS","RECEIVE_SMS","READ_SMS","RECEIVE_WAP_PUSH","RECEIVE_MMS"],STORAGE:["READ_EXTERNAL_STORAGE","WRITE_EXTERNAL_STORAGE"]},e.locationMode={HIGH_ACCURACY:"high_accuracy",DEVICE_ONLY:"device_only",BATTERY_SAVING:"battery_saving",LOCATION_OFF:"location_off"},e.bluetoothState={UNKNOWN:"unknown",RESETTING:"resetting",UNSUPPORTED:"unsupported",UNAUTHORIZED:"unauthorized",POWERED_OFF:"powered_off",POWERED_ON:"powered_on",POWERING_OFF:"powering_off",POWERING_ON:"powering_on"},e}return P(e,t),e.prototype.isLocationAvailable=function(){return Object(g["b"])(this,"isLocationAvailable",{},arguments)},e.prototype.isWifiAvailable=function(){return Object(g["b"])(this,"isWifiAvailable",{},arguments)},e.prototype.isCameraAvailable=function(t){return Object(g["b"])(this,"isCameraAvailable",{callbackOrder:"reverse"},arguments)},e.prototype.isBluetoothAvailable=function(){return Object(g["b"])(this,"isBluetoothAvailable",{},arguments)},e.prototype.switchToLocationSettings=function(){return Object(g["b"])(this,"switchToLocationSettings",{sync:!0,platforms:["Android","Windows 10","iOS"]},arguments)},e.prototype.switchToMobileDataSettings=function(){return Object(g["b"])(this,"switchToMobileDataSettings",{sync:!0,platforms:["Android","Windows 10"]},arguments)},e.prototype.switchToBluetoothSettings=function(){return Object(g["b"])(this,"switchToBluetoothSettings",{sync:!0,platforms:["Android","Windows 10"]},arguments)},e.prototype.switchToWifiSettings=function(){return Object(g["b"])(this,"switchToWifiSettings",{sync:!0,platforms:["Android","Windows 10"]},arguments)},e.prototype.isWifiEnabled=function(){return Object(g["b"])(this,"isWifiEnabled",{platforms:["Android","Windows 10"]},arguments)},e.prototype.setWifiState=function(t){return Object(g["b"])(this,"setWifiState",{callbackOrder:"reverse",platforms:["Android","Windows 10"]},arguments)},e.prototype.setBluetoothState=function(t){return Object(g["b"])(this,"setBluetoothState",{callbackOrder:"reverse",platforms:["Android","Windows 10"]},arguments)},e.prototype.isLocationEnabled=function(){return Object(g["b"])(this,"isLocationEnabled",{platforms:["Android","iOS"]},arguments)},e.prototype.isLocationAuthorized=function(){return Object(g["b"])(this,"isLocationAuthorized",{},arguments)},e.prototype.getLocationAuthorizationStatus=function(){return Object(g["b"])(this,"getLocationAuthorizationStatus",{platforms:["Android","iOS"]},arguments)},e.prototype.requestLocationAuthorization=function(t){return Object(g["b"])(this,"requestLocationAuthorization",{platforms:["Android","iOS"],callbackOrder:"reverse"},arguments)},e.prototype.isCameraPresent=function(){return Object(g["b"])(this,"isCameraPresent",{platforms:["Android","iOS"]},arguments)},e.prototype.isCameraAuthorized=function(t){return Object(g["b"])(this,"isCameraAuthorized",{platforms:["Android","iOS"],callbackOrder:"reverse"},arguments)},e.prototype.getCameraAuthorizationStatus=function(t){return Object(g["b"])(this,"getCameraAuthorizationStatus",{platforms:["Android","iOS"],callbackOrder:"reverse"},arguments)},e.prototype.requestCameraAuthorization=function(t){return Object(g["b"])(this,"requestCameraAuthorization",{platforms:["Android","iOS"],callbackOrder:"reverse"},arguments)},e.prototype.isMicrophoneAuthorized=function(){return Object(g["b"])(this,"isMicrophoneAuthorized",{platforms:["Android","iOS"]},arguments)},e.prototype.getMicrophoneAuthorizationStatus=function(){return Object(g["b"])(this,"getMicrophoneAuthorizationStatus",{platforms:["Android","iOS"]},arguments)},e.prototype.requestMicrophoneAuthorization=function(){return Object(g["b"])(this,"requestMicrophoneAuthorization",{platforms:["Android","iOS"]},arguments)},e.prototype.isContactsAuthorized=function(){return Object(g["b"])(this,"isContactsAuthorized",{platforms:["Android","iOS"]},arguments)},e.prototype.getContactsAuthorizationStatus=function(){return Object(g["b"])(this,"getContactsAuthorizationStatus",{platforms:["Android","iOS"]},arguments)},e.prototype.requestContactsAuthorization=function(){return Object(g["b"])(this,"requestContactsAuthorization",{platforms:["Android","iOS"]},arguments)},e.prototype.isCalendarAuthorized=function(){return Object(g["b"])(this,"isCalendarAuthorized",{platforms:["Android","iOS"]},arguments)},e.prototype.getCalendarAuthorizationStatus=function(){return Object(g["b"])(this,"getCalendarAuthorizationStatus",{platforms:["Android","iOS"]},arguments)},e.prototype.requestCalendarAuthorization=function(){return Object(g["b"])(this,"requestCalendarAuthorization",{platforms:["Android","iOS"]},arguments)},e.prototype.switchToSettings=function(){return Object(g["b"])(this,"switchToSettings",{platforms:["Android","iOS"]},arguments)},e.prototype.getBluetoothState=function(){return Object(g["b"])(this,"getBluetoothState",{platforms:["Android","iOS"]},arguments)},e.prototype.registerBluetoothStateChangeHandler=function(t){return Object(g["b"])(this,"registerBluetoothStateChangeHandler",{platforms:["Android","iOS"],sync:!0},arguments)},e.prototype.registerLocationStateChangeHandler=function(t){return Object(g["b"])(this,"registerLocationStateChangeHandler",{platforms:["Android","iOS"],sync:!0},arguments)},e.prototype.isGpsLocationAvailable=function(){return Object(g["b"])(this,"isGpsLocationAvailable",{platforms:["Android"]},arguments)},e.prototype.isGpsLocationEnabled=function(){return Object(g["b"])(this,"isGpsLocationEnabled",{platforms:["Android"]},arguments)},e.prototype.isNetworkLocationAvailable=function(){return Object(g["b"])(this,"isNetworkLocationAvailable",{platforms:["Android"]},arguments)},e.prototype.isNetworkLocationEnabled=function(){return Object(g["b"])(this,"isNetworkLocationEnabled",{platforms:["Android"]},arguments)},e.prototype.getLocationMode=function(){return Object(g["b"])(this,"getLocationMode",{platforms:["Android"]},arguments)},e.prototype.getPermissionAuthorizationStatus=function(t){return Object(g["b"])(this,"getPermissionAuthorizationStatus",{platforms:["Android"],callbackOrder:"reverse"},arguments)},e.prototype.getPermissionsAuthorizationStatus=function(t){return Object(g["b"])(this,"getPermissionsAuthorizationStatus",{platforms:["Android"],callbackOrder:"reverse"},arguments)},e.prototype.requestRuntimePermission=function(t){return Object(g["b"])(this,"requestRuntimePermission",{platforms:["Android"],callbackOrder:"reverse"},arguments)},e.prototype.requestRuntimePermissions=function(t){return Object(g["b"])(this,"requestRuntimePermissions",{platforms:["Android"],callbackOrder:"reverse"},arguments)},e.prototype.isRequestingPermission=function(){return Object(g["b"])(this,"isRequestingPermission",{sync:!0},arguments)},e.prototype.registerPermissionRequestCompleteHandler=function(t){return Object(g["b"])(this,"registerPermissionRequestCompleteHandler",{sync:!0},arguments)},e.prototype.isBluetoothEnabled=function(){return Object(g["b"])(this,"isBluetoothEnabled",{platforms:["Android"]},arguments)},e.prototype.hasBluetoothSupport=function(){return Object(g["b"])(this,"hasBluetoothSupport",{platforms:["Android"]},arguments)},e.prototype.hasBluetoothLESupport=function(){return Object(g["b"])(this,"hasBluetoothLESupport",{platforms:["Android"]},arguments)},e.prototype.hasBluetoothLEPeripheralSupport=function(){return Object(g["b"])(this,"hasBluetoothLEPeripheralSupport",{platforms:["Android"]},arguments)},e.prototype.isExternalStorageAuthorized=function(){return Object(g["b"])(this,"isExternalStorageAuthorized",{platforms:["Android"]},arguments)},e.prototype.getExternalStorageAuthorizationStatus=function(){return Object(g["b"])(this,"getExternalStorageAuthorizationStatus",{platforms:["Android"]},arguments)},e.prototype.requestExternalStorageAuthorization=function(){return Object(g["b"])(this,"requestExternalStorageAuthorization",{platforms:["Android"]},arguments)},e.prototype.getExternalSdCardDetails=function(){return Object(g["b"])(this,"getExternalSdCardDetails",{platforms:["Android"]},arguments)},e.prototype.switchToWirelessSettings=function(){return Object(g["b"])(this,"switchToWirelessSettings",{platforms:["Android"],sync:!0},arguments)},e.prototype.switchToNFCSettings=function(){return Object(g["b"])(this,"switchToNFCSettings",{platforms:["Android"],sync:!0},arguments)},e.prototype.isNFCPresent=function(){return Object(g["b"])(this,"isNFCPresent",{platforms:["Android"]},arguments)},e.prototype.isNFCEnabled=function(){return Object(g["b"])(this,"isNFCEnabled",{platforms:["Android"]},arguments)},e.prototype.isNFCAvailable=function(){return Object(g["b"])(this,"isNFCAvailable",{platforms:["Android"]},arguments)},e.prototype.registerNFCStateChangeHandler=function(t){return Object(g["b"])(this,"registerNFCStateChangeHandler",{platforms:["Android"],sync:!0},arguments)},e.prototype.isDataRoamingEnabled=function(){return Object(g["b"])(this,"isDataRoamingEnabled",{platforms:["Android"]},arguments)},e.prototype.isADBModeEnabled=function(){return Object(g["b"])(this,"isADBModeEnabled",{platforms:["Android"]},arguments)},e.prototype.isDeviceRooted=function(){return Object(g["b"])(this,"isDeviceRooted",{platforms:["Android"]},arguments)},e.prototype.isCameraRollAuthorized=function(){return Object(g["b"])(this,"isCameraRollAuthorized",{platforms:["iOS"]},arguments)},e.prototype.getCameraRollAuthorizationStatus=function(){return Object(g["b"])(this,"getCameraRollAuthorizationStatus",{platforms:["iOS"]},arguments)},e.prototype.requestCameraRollAuthorization=function(){return Object(g["b"])(this,"requestCameraRollAuthorization",{platforms:["iOS"]},arguments)},e.prototype.isRemoteNotificationsEnabled=function(){return Object(g["b"])(this,"isRemoteNotificationsEnabled",{platforms:["iOS","Android"]},arguments)},e.prototype.isRegisteredForRemoteNotifications=function(){return Object(g["b"])(this,"isRegisteredForRemoteNotifications",{platforms:["iOS"]},arguments)},e.prototype.getRemoteNotificationsAuthorizationStatus=function(){return Object(g["b"])(this,"getRemoteNotificationsAuthorizationStatus",{platforms:["iOS"]},arguments)},e.prototype.requestRemoteNotificationsAuthorization=function(t,e){return Object(g["b"])(this,"requestRemoteNotificationsAuthorization",{platforms:["iOS"]},arguments)},e.prototype.getRemoteNotificationTypes=function(){return Object(g["b"])(this,"getRemoteNotificationTypes",{platforms:["iOS"]},arguments)},e.prototype.isRemindersAuthorized=function(){return Object(g["b"])(this,"isRemindersAuthorized",{platforms:["iOS"]},arguments)},e.prototype.getRemindersAuthorizationStatus=function(){return Object(g["b"])(this,"getRemindersAuthorizationStatus",{platforms:["iOS"]},arguments)},e.prototype.requestRemindersAuthorization=function(){return Object(g["b"])(this,"requestRemindersAuthorization",{platforms:["iOS"]},arguments)},e.prototype.isBackgroundRefreshAuthorized=function(){return Object(g["b"])(this,"isBackgroundRefreshAuthorized",{platforms:["iOS"]},arguments)},e.prototype.getBackgroundRefreshStatus=function(){return Object(g["b"])(this,"getBackgroundRefreshStatus",{platforms:["iOS"]},arguments)},e.prototype.requestBluetoothAuthorization=function(){return Object(g["b"])(this,"requestBluetoothAuthorization",{platforms:["iOS"]},arguments)},e.prototype.isMotionAvailable=function(){return Object(g["b"])(this,"isMotionAvailable",{platforms:["iOS"]},arguments)},e.prototype.isMotionRequestOutcomeAvailable=function(){return Object(g["b"])(this,"isMotionRequestOutcomeAvailable",{platforms:["iOS"]},arguments)},e.prototype.requestMotionAuthorization=function(){return Object(g["b"])(this,"requestMotionAuthorization",{platforms:["iOS"]},arguments)},e.prototype.getMotionAuthorizationStatus=function(){return Object(g["b"])(this,"getMotionAuthorizationStatus",{platforms:["iOS"]},arguments)},e.prototype.getLocationAccuracyAuthorization=function(){return Object(g["b"])(this,"getLocationAccuracyAuthorization",{platform:["iOS"]},arguments)},e.prototype.requestTemporaryFullAccuracyAuthorization=function(t){return Object(g["b"])(this,"requestTemporaryFullAccuracyAuthorization",{platforms:["iOS"]},arguments)},e.prototype.registerLocationAccuracyAuthorizationChangeHandler=function(t){return Object(g["b"])(this,"registerLocationAccuracyAuthorizationChangeHandler",{platforms:["iOS"],sync:!0},arguments)},Object.defineProperty(e.prototype,"permissionStatus",{get:function(){return Object(g["c"])(this,"permissionStatus")},set:function(t){Object(g["d"])(this,"permissionStatus",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"NFCState",{get:function(){return Object(g["c"])(this,"NFCState")},set:function(t){Object(g["d"])(this,"NFCState",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"motionStatus",{get:function(){return Object(g["c"])(this,"motionStatus")},set:function(t){Object(g["d"])(this,"motionStatus",t)},enumerable:!1,configurable:!0}),e.pluginName="Diagnostic",e.plugin="cordova.plugins.diagnostic",e.pluginRef="cordova.plugins.diagnostic",e.repo="https://github.com/dpa99c/cordova-diagnostic-plugin",e.platforms=["Android","iOS","Windows"],e}(g["a"]),M=new W,G={location:{authorizationStatus:function(){return M.getLocationAuthorizationStatus()},permissions:function(){return[M.isLocationEnabled(),M.isLocationAuthorized(),M.isLocationAvailable()]},requestPermission:function(){return M.requestLocationAuthorization()}}},q=Object(o["k"])({components:{IonItem:S["o"],ZeitButton:D["a"]},data:function(){return{debug:"debug",authorizationStatus:void 0,enabled:void 0,authorized:void 0,available:void 0}},emits:["isAuthorized","isEnabled","isAvailable"],props:{description:String,notEnabledDescription:String,cta:String,feature:String},watch:{enabled:function(t){this.$emit("isEnabled",t)},authorized:function(t){this.$emit("isAuthorized",t)},available:function(t){this.$emit("isAvailable",t)}},methods:{showCta:function(){return"not_requested"==this.authorizationStatus||"not_determined"==this.authorizationStatus||!1},showSettings:function(){return"denied"==this.authorizationStatus||"denied_always"==this.authorizationStatus||!1},requestPermission:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.feature){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,G[t.feature].requestPermission();case 4:t.updateAll();case 5:case"end":return e.stop()}}),e)})))()},updatePermissions:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){var i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.feature){e.next=2;break}return e.abrupt("return");case 2:return i=G[t.feature].permissions(),e.next=5,Promise.all(i);case 5:return o=e.sent,t.enabled=o[0],t.authorized=o[1],t.available=o[2],e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))()},updateAuthorizationStatus:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.feature){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,G[t.feature].authorizationStatus();case 4:return t.authorizationStatus=e.sent,e.abrupt("return",t.authorizationStatus);case 6:case"end":return e.stop()}}),e)})))()},openAppSettings:function(){M.switchToSettings()},updateAll:function(){return Promise.all([this.updatePermissions(),this.updateAuthorizationStatus()])}},mounted:function(){document.addEventListener("resume",this.updateAll),this.updateAll()},beforeUnmount:function(){document.removeEventListener("resume",this.updateAll)}});q.render=I;var x=q,F=i("ba82"),B=i("d62b"),H=i("d4ec"),U=i("bee2"),J=i("262e"),V=i("2caf"),Y=i("df40"),X=function(t){Object(J["a"])(i,t);var e=Object(V["a"])(i);function i(){return Object(H["a"])(this,i),e.call(this,"/api/v2/tracking/employees/")}return Object(U["a"])(i,[{key:"addTwoTimestamps",value:function(t,e,i,o){return this._post(t+"/add-timestamps/",{description:e,project_id:i,next_project_id:o})}},{key:"addTimestamp",value:function(t,e,i,o){return this._post(t+"/add-timestamp/",{description:e,project_id:i,meta:o})}},{key:"updateComment",value:function(t,e,i){return this._post(t+"/update-comment/",{description:e,project_id:i})}},{key:"activeTimespan",value:function(t){return this._get(t+"/active-timespan/")}}]),i}(Y["a"]),Z=new X,$=i("c174"),K=i("ab31"),Q=function(t){Object(J["a"])(i,t);var e=Object(V["a"])(i);function i(){var t;return Object(H["a"])(this,i),t=e.call(this,"/api/v2/geo/addresses/"),t.cacheTimeout=86400,t}return Object(U["a"])(i,[{key:"resolveAddress",value:function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(e,i){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._get("?lat="+String(e)+"&lng="+String(i));case 2:return o=t.sent,t.abrupt("return",o.data.address);case 4:case"end":return t.stop()}}),t,this)})));function e(e,i){return t.apply(this,arguments)}return e}()}]),i}(Y["a"]),tt=new Q,et=i("d0ac"),it=i("1e47"),ot=Object(o["k"])({components:{IonPage:S["x"],IonHeader:S["j"],IonButtons:S["d"],IonMenuButton:S["t"],IonTitle:S["O"],IonIcon:S["k"],IonLabel:S["p"],IonContent:S["g"],IonToolbar:S["Q"],IonItem:S["o"],IonText:S["M"],IonSpinner:S["H"],IonSkeletonText:S["G"],IonRefresher:S["y"],IonRefresherContent:S["z"],ZeitWorkdayCard:R["a"],ZeitPermissionRequest:x},data:function(){return{now:void 0,isLoaded:!1,accountService:F["a"],institutionService:B["b"],trackingService:Z,employeeReportService:$["a"],employeeService:K["b"],addressService:tt,formatTime:it["f"],timeAgo:it["g"],formatLongDate:it["e"],calendar:it["a"],formatDifference:it["c"],branding:et["a"],playOutline:C["O"],logOutOutline:C["E"],account:void 0,institution:void 0,workdays:[],locationSetting:void 0,mountedFullPath:void 0,activeTimespan:void 0,isLoadingAddTimestamp:!1,timer:void 0,positionSubscription:void 0,coordinates:void 0,formattedAddress:void 0}},watch:{$route:function(t){this.mountedFullPath==t.fullPath&&this.loadWorkdayReports()},coordinates:function(t){var e=this;t?this.addressService.resolveAddress(t.latitude,t.longitude).then((function(t){t&&(t=t.replace(", Deutschland",""),t=t.replace(', Österreich"',""),t=t.replace(", Schweiz","")),e.formattedAddress=t})):this.formattedAddress=void 0}},methods:{updateWorkingStatus:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){var i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0!==t.account){e.next=2;break}return e.abrupt("return");case 2:if(void 0!==t.account.employee_id){e.next=4;break}return e.abrupt("return");case 4:return i=t.account.employee_id,e.next=7,t.trackingService.activeTimespan(i);case 7:return o=e.sent,""==o.data?t.activeTimespan=void 0:t.activeTimespan=o.data,e.abrupt("return",t.activeTimespan);case 10:case"end":return e.stop()}}),e)})))()},getName:function(){return this.account&&this.account.full_name?this.account.full_name.split(" ")[0]:""},addTimestamp:function(){var t=this;if(!this.isLoadingAddTimestamp&&!this.waitingForAddress()&&void 0!==this.account&&void 0!==this.account.employee_id){var e=this.account.employee_id,i={platforms:Object(S["T"])()};this.formattedAddress&&(i["location"]=this.formattedAddress),this.coordinates&&(i["coordinates"]=this.coordinates),this.isLoadingAddTimestamp=!0,this.trackingService.addTimestamp(e,void 0,void 0,i).then((function(){t.updateWorkingStatus().then((function(){t.isLoadingAddTimestamp=!1,t.loadWorkdayReports()}))}))}},loadWorkdayReports:function(){var t=this;if(void 0!==this.account&&void 0!==this.account.employee_id){var e=this.account.employee_id;return this.employeeReportService.workdayReports(e).then((function(e){t.workdays=e.data.results}))}},getWorkdays:function(){return this.workdays.filter((function(t){return t.timespans.length>0}))},loadLocationSettings:function(){var t=this;if(void 0!==this.account&&void 0!==this.account.employee_id){var e=this.account.employee_id;return this.employeeService.retrieveSettingValue(e,"employee_app_access","location_tracking").then((function(e){t.locationSetting=e}))}},handleLocationPermissionChange:function(t){t&&this.startWatchingLocation()},startWatchingLocation:function(){var t=this,e=v.watchPosition({enableHighAccuracy:!0,timeout:1e4,maximumAge:2e3});this.positionSubscription=e.subscribe({next:function(e){e.coords&&(t.coordinates={accuracy:e.coords.accuracy,latitude:e.coords.latitude,longitude:e.coords.longitude})},error:function(t){return console.log(t)}})},waitingForAddress:function(){return"location_tracking_detailed"==this.locationSetting&&!this.formattedAddress},loadData:function(t){var e=this;t&&(this.accountService.clearCache(),this.institutionService.clearCache()),Promise.all([this.accountService.list().then((function(t){e.account=t.data.results[0]})),this.institutionService.list().then((function(t){e.institution=t.data.results[0]}))]).then((function(){Promise.all([e.updateWorkingStatus(),e.loadWorkdayReports(),e.loadLocationSettings()]).then((function(){e.isLoaded=!0,t&&t.target&&t.target.complete&&t.target.complete()}))}))}},mounted:function(){var t=this;this.mountedFullPath=this.$route.fullPath,this.loadData(),this.timer=setInterval((function(){t.now=new Date}),1e3)},beforeUnmount:function(){clearInterval(this.timer),this.positionSubscription&&this.positionSubscription.unsubscribe()}});i("8e9f");ot.render=m;e["default"]=ot}}]);
//# sourceMappingURL=chunk-53c85bc4.bb5df79b.js.map