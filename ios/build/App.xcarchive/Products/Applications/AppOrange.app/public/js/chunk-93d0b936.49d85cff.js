(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-93d0b936"],{3119:function(e,t,n){"use strict";n("4543")},3835:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return u}));n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0");function i(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done);r=!0)if(n.push(o.value),t&&n.length===t)break}catch(c){i=!0,a=c}finally{try{r||null==u["return"]||u["return"]()}finally{if(i)throw a}}return n}}var a=n("06c5");function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){return r(e)||i(e,t)||Object(a["a"])(e,t)||o()}},4543:function(e,t,n){},"771a":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n("a15b"),n("d3b7");var r=n("d4ec"),i=n("bee2"),a=n("262e"),o=n("2caf"),u=n("df40"),c=function(e){Object(a["a"])(n,e);var t=Object(o["a"])(n);function n(){var e;return Object(r["a"])(this,n),e=t.call(this,"/api/v2/employees/groups/"),e.formFields=[new u["c"]("name","Abteilungsname",{autofocus:!0,mobileType:"stacked"})],e.cacheTimeout=1209600,e}return Object(i["a"])(n,[{key:"newResourceTitle",value:function(e){return Promise.resolve("Abteilung hinzufügen")}},{key:"newResourceConfirmation",value:function(e){return Promise.resolve("Abteilung hinzugefügt")}},{key:"deleteResourceMethod",value:function(e){return Promise.resolve("delete")}},{key:"deleteResourceTitle",value:function(e){return Promise.resolve("Entfernen")}},{key:"deleteResourceConfirmation",value:function(e){return Promise.resolve("Abteilung entfernt")}},{key:"listParams",value:function(e){var t=e.pagesize||50,n=e.page||1,r=e.query||"",i="?limit="+String(t)+"&offset="+String((n-1)*t)+"&q="+encodeURIComponent(String(r));return e.ids&&(i+="&ids="+e.ids.join("|")),this._get(i)}}]),n}(u["a"]),l=new c},"9e52":function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));n("a15b");var r=n("d4ec"),i=n("bee2"),a=n("262e"),o=n("2caf"),u=n("df40"),c=function(e){Object(a["a"])(n,e);var t=Object(o["a"])(n);function n(){var e;return Object(r["a"])(this,n),e=t.call(this,"/api/v2/devices/physical-tokens/"),e.cacheTimeout=1209600,e}return Object(i["a"])(n,[{key:"list",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="?limit="+String(t)+"&offset="+String((e-1)*t)+"&q="+encodeURIComponent(String(n));return this._get(r)}},{key:"listParams",value:function(e){e=e||{},e.pagesize=e.pagesize||1e3,e.page=e.page||1,e.query=e.query||"",e.fields=e.fields||["id"],e.ids=e.ids||[];var t="?limit="+String(e.pagesize)+"&offset="+String((e.page-1)*e.pagesize)+"&q="+encodeURIComponent(String(e.query))+"&fields="+e.fields.join("|")+"&ids="+e.ids.join("|");return this._get(t)}},{key:"listCreate",value:function(e){return this._post("",{ids:e})}},{key:"listDelete",value:function(e){return this._post("delete/",{ids:e})}},{key:"listAvailable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i="?limit="+String(t)+"&offset="+String((e-1)*t)+"&type=available&q="+encodeURIComponent(String(n))+"&additional="+String(r);return this._get(i)}}]),n}(u["a"]),l=new c;t["a"]=l},ab31:function(e,t,n){"use strict";n.d(t,"b",(function(){return f}));n("99af"),n("a15b"),n("b0c0"),n("d3b7"),n("96cf");var r=n("1da1"),i=n("d4ec"),a=n("bee2"),o=n("262e"),u=n("2caf"),c=n("df40"),l=n("771a"),s=n("9e52"),d=n("d62b"),b=n("d0ac"),m=function(e){Object(o["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.call(this,"/api/v2/employees/employees/"),e.formFields=[new c["c"]("first_name","Vorname",{autofocus:!0}),new c["c"]("last_name","Nachname"),new c["c"]("email","E-Mail-Adresse",{mobileType:"stacked"}),new c["c"]("employee_group_id","Abteilung",{type:"select",remoteSourceService:l["a"],remoteSourceAttribute:"name"}),new c["c"]("physical_token_id","Token-Nummer",{type:"select",description:"Die ausgewählte Token-Nummer kann zur Authentifizierung am Zeiterfassungs-Terminal verwendet werden. Nur nicht bereits zugewiesene Nummern werden angezeigt. <a target='_blank' href='/tokens/'>Token verwalten</a>",remoteSourceService:s["b"],remoteSourceListMethod:"listAvailable",remoteSourceAttribute:"id",listPageSize:1e3}),new c["c"]("accounting_number","Personalnummer",{mobileType:"stacked",description:"Die Personalnummer wird verwendet, um den Mitarbeiter im Buchhaltungsexport zu identifizieren."})],"orange"==b["a"].id&&e.formFields.push(new c["c"]("external_id","aQrate Benutzername",{mobileType:"stacked",description:"Der Benutzername wird verwendet, um diesen Zeitblick Mitarbeiter einem aQrate Mitarbeiter bei Authentifizierung am MFP zuzuordnen."})),e.formFields=e.formFields.concat([new c["c"]("username",b["a"].name+" Benutzername",{mobileType:"stacked",description:"Der Benutzername wird vom Mitarbeiter benötigt, um sich gegenüber der "+b["a"].name+" Smartphone App und dem Web-Login (https://"+b["a"].url+"/) zu authentifizieren.",isReadOnly:!0,showCreate:!1}),new c["c"]("initial_password","Vorläufiges Passwort",{mobileType:"stacked",isReadOnly:!0,showCreate:!1})]),e.archivedFormFields=[new c["c"]("first_name","Vorname",{isReadOnly:!0}),new c["c"]("last_name","Nachname",{isReadOnly:!0}),new c["c"]("email","E-Mail-Adresse",{isReadOnly:!0}),new c["c"]("employee_group_id","Abteilung",{type:"select",remoteSourceService:l["a"],remoteSourceAttribute:"name",isReadOnly:!0}),new c["c"]("accounting_id","Personalnummer",{description:"Die Personalnummer wird verwendet, um den Mitarbeiter im Buchhaltungsexport zu identifizieren.",isReadOnly:!0})],"orange"==b["a"].id&&e.archivedFormFields.push(new c["c"]("external_id","aQrate Benutzername",{description:"Der Benutzername wird verwendet, um diesen Zeitblick Mitarbeiter einem aQrate Mitarbeiter bei Authentifizierung am MFP zuzuordnen.",isReadOnly:!0})),e.filterAttributes=[new c["b"]("showArchived","Archivierte Mitarbeiter anzeigen","boolean",!1,{visible:e.listParams({showArchived:!0}).then((function(e){return e.data.count>0}))}),new c["b"]("employeeGroups","Abteilungen","select",void 0,{multiple:!0,remoteSourceService:l["a"],visible:l["a"].listParams({}).then((function(e){return e.data.count>0}))})],e.cacheTimeout=1209600,e}return Object(a["a"])(n,[{key:"titleAttribute",value:function(){return Promise.resolve((function(e){return e.first_name+" "+e.last_name}))}},{key:"newResourceTitle",value:function(e){return Promise.resolve("Mitarbeiter hinzufügen")}},{key:"newResourceConfirmation",value:function(e){return Promise.resolve("Mitarbeiter hinzugefügt")}},{key:"deleteResourceMethod",value:function(e){return e?this.retrieve(e).then((function(e){return e.data.can_be_deleted?Promise.resolve("delete"):e.data.archived_at?Promise.resolve(""):Promise.resolve("archive")})):Promise.resolve("")}},{key:"deleteResourceTitle",value:function(e){return e?this.retrieve(e).then((function(e){return e.data.can_be_deleted?Promise.resolve("Entfernen"):e.data.archived_at?Promise.resolve(""):Promise.resolve("Archivieren")})):Promise.resolve("Entfernen")}},{key:"deleteResourceConfirmation",value:function(e){return e?this.retrieve(e).then((function(e){return e.data.can_be_deleted?Promise.resolve("Mitarbeiter entfernt"):e.data.archived_at?Promise.resolve(""):Promise.resolve("Mitarbeiter archiviert")})):Promise.resolve("Mitarbeiter entfernt")}},{key:"retrieveSettingValue",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.retrieveSettings(t);case 2:if(i=e.sent.data,!(n in i)||!(r in i[n])){e.next=5;break}return e.abrupt("return",i[n][r]);case 5:return e.abrupt("return",d["b"].retrieveSettingValue(n,r));case 6:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"retrieveSettings",value:function(e){return this._get(e+"/settings/")}},{key:"updateSettings",value:function(e,t){return this._post(e+"/settings/",t)}},{key:"resetPassword",value:function(e){return this._post(e+"/reset-password/",{})}},{key:"list",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a="?limit="+String(t)+"&offset="+String((e-1)*t)+"&q="+encodeURIComponent(String(n));return void 0!=r&&(a=a+"&employee_groups="+r),!0===i&&(a+="&archived"),this._get(a)}},{key:"listParams",value:function(e){var t=e.pagesize||50,n=e.page||1,r=e.query||"",i="?limit="+String(t)+"&offset="+String((n-1)*t)+"&q="+encodeURIComponent(String(r));return e.verbosity&&(i+="&verbosity="+e.verbosity),e.ids&&(i+="&ids="+e.ids.join("|")),e.employeeGroups&&(i+="&employee_groups="+e.employeeGroups.join("|")),!0===e.showArchived&&(i+="&archived"),e.minimumAbsenceCount&&(i=i+"&absence_count__gte="+String(e.minimumAbsenceCount)),e.absenceDaterange&&(i=i+"&absence_daterange="+e.absenceDaterange),this._get(i,!1!==e.useCache)}},{key:"archive",value:function(e){return this._post(e+"/archive/",{})}}]),n}(c["a"]),f=new m;t["a"]=f},b95a:function(e,t,n){"use strict";n.r(t);n("b0c0");var r=n("7a23"),i=Object(r["K"])("data-v-670760dd");Object(r["z"])("data-v-670760dd");var a=Object(r["i"])("Dein Konto"),o=Object(r["i"])("Dein Konto"),u=Object(r["i"])(" Folgende Daten sind zu deiner Person gespeichert. Bitte kontaktiere für Änderungen deinen Vorgesetzten. "),c=Object(r["i"])("Benutzer abmelden"),l={class:"w-full flex items-center justify-center mt-8"};Object(r["x"])();var s=i((function(e,t,n,s,d,b){var m=Object(r["E"])("ion-title"),f=Object(r["E"])("ion-toolbar"),v=Object(r["E"])("ion-header"),p=Object(r["E"])("ion-refresher-content"),g=Object(r["E"])("ion-refresher"),j=Object(r["E"])("ion-text"),h=Object(r["E"])("zeit-simple-item"),y=Object(r["E"])("ion-list"),O=Object(r["E"])("ion-item"),w=Object(r["E"])("ion-label"),_=Object(r["E"])("ion-spinner"),k=Object(r["E"])("ion-content"),S=Object(r["E"])("ion-page");return Object(r["w"])(),Object(r["e"])(S,null,{default:i((function(){return[Object(r["j"])(v,{translucent:!0},{default:i((function(){return[Object(r["j"])(f,null,{default:i((function(){return[Object(r["j"])(m,null,{default:i((function(){return[a]})),_:1})]})),_:1})]})),_:1}),Object(r["j"])(k,{fullscreen:!0},{default:i((function(){return[Object(r["j"])(g,{slot:"fixed",onIonRefresh:t[1]||(t[1]=function(t){return e.loadData(t)})},{default:i((function(){return[Object(r["j"])(p)]})),_:1}),Object(r["j"])(v,{collapse:"condense"},{default:i((function(){return[Object(r["j"])(f,null,{default:i((function(){return[Object(r["j"])(m,{size:"large"},{default:i((function(){return[o]})),_:1})]})),_:1}),Object(r["j"])(f,{class:"px-3 pb-4"},{default:i((function(){return[Object(r["j"])(j,{color:"medium"},{default:i((function(){return[u]})),_:1})]})),_:1})]})),_:1}),e.isLoaded?(Object(r["w"])(),Object(r["e"])(r["a"],{key:0},[Object(r["j"])(y,null,{default:i((function(){return[Object(r["j"])(h,{label:"Vorname",value:e.employee.first_name},null,8,["value"]),Object(r["j"])(h,{label:"Nachname",value:e.employee.last_name},null,8,["value"]),e.employee.email?(Object(r["w"])(),Object(r["e"])(h,{key:0,label:"Email",value:e.employee.email},null,8,["value"])):Object(r["f"])("",!0),Object(r["j"])(h,{label:"Unternehmen",value:e.institution.name,lines:"full"},null,8,["value"])]})),_:1}),Object(r["j"])(O,{lines:"full",class:"transparent-bg"}),Object(r["j"])(y,null,{default:i((function(){return[e.employee?(Object(r["w"])(),Object(r["e"])(h,{key:0,label:"Kartennummer",value:e.employee.physical_token_id},null,8,["value"])):Object(r["f"])("",!0),e.employeeGroup?(Object(r["w"])(),Object(r["e"])(h,{key:1,label:"Abteilung",value:e.employeeGroup.name},null,8,["value"])):Object(r["f"])("",!0),Object(r["j"])(h,{label:"Wochenarbeitszeit",value:e.weeklyWorkingTime+" Stunden"},null,8,["value"]),Object(r["j"])(h,{label:"Arbeitstage",value:e.workingDays,lines:"full"},null,8,["value"])]})),_:1}),Object(r["j"])(O,{lines:"full",class:"transparent-bg"}),Object(r["j"])(O,{lines:"full",button:"",onClick:t[2]||(t[2]=function(t){return e.logout()})},{default:i((function(){return[Object(r["j"])(w,{color:"danger"},{default:i((function(){return[c]})),_:1})]})),_:1}),Object(r["j"])(O,{lines:"none",class:"transparent-bg"})],64)):Object(r["f"])("",!0),e.isLoaded?Object(r["f"])("",!0):(Object(r["w"])(),Object(r["e"])(O,{key:1,lines:"none",class:"transparent-bg"},{default:i((function(){return[Object(r["j"])("div",l,[Object(r["j"])(_)])]})),_:1}))]})),_:1})]})),_:1})})),d=(n("a15b"),n("d3b7"),n("ac1f"),n("3ca3"),n("5319"),n("ddb0"),n("3835")),b=(n("96cf"),n("1da1")),m=n("8a30"),f=n("ba82"),v=n("d62b"),p=n("ab31"),g=n("d0ac"),j=n("771a");function h(e,t,n,i,a,o){var u=Object(r["E"])("ion-label"),c=Object(r["E"])("ion-input"),l=Object(r["E"])("ion-skeleton-text"),s=Object(r["E"])("ion-item");return Object(r["w"])(),Object(r["e"])(s,{lines:e.lines},{default:Object(r["J"])((function(){return[Object(r["j"])(u,{position:"stacked"},{default:Object(r["J"])((function(){return[Object(r["i"])(Object(r["G"])(e.label),1)]})),_:1}),e.isLoading?Object(r["f"])("",!0):(Object(r["w"])(),Object(r["e"])(c,{key:0,disabled:""},{default:Object(r["J"])((function(){return[Object(r["i"])(Object(r["G"])(e.value),1)]})),_:1})),e.isLoading?(Object(r["w"])(),Object(r["e"])(c,{key:1,disabled:""},{default:Object(r["J"])((function(){return[Object(r["j"])(l)]})),_:1})):Object(r["f"])("",!0)]})),_:1},8,["lines"])}var y=Object(r["k"])({props:{label:String,value:String,lines:String,isLoading:{type:Boolean,default:!1}},components:{IonItem:m["o"],IonLabel:m["p"],IonInput:m["n"],IonSkeletonText:m["G"]}});y.render=h;var O=y,w=Object(r["k"])({components:{IonPage:m["x"],IonHeader:m["j"],IonTitle:m["O"],IonLabel:m["p"],IonSpinner:m["H"],IonContent:m["g"],IonToolbar:m["Q"],IonItem:m["o"],IonText:m["M"],IonList:m["q"],IonRefresher:m["y"],IonRefresherContent:m["z"],ZeitSimpleItem:O},data:function(){return{now:void 0,isLoaded:!1,accountService:f["a"],employeeService:p["b"],institutionService:v["b"],employeeGroupService:j["a"],branding:g["a"],account:void 0,institution:void 0,employee:void 0,employeeGroup:void 0,weeklyWorkingTime:void 0,workingDays:void 0}},methods:{logout:function(){this.accountService.logout(),this.$router.replace({name:"authentication:login"})},loadData:function(e){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function n(){var r,i,a,o,u,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e&&(t.accountService.clearCache(),t.institutionService.clearCache(),t.employeeService.clearCache(),t.employeeGroupService.clearCache()),n.next=3,Promise.all([t.accountService.list(),t.institutionService.list()]);case 3:if(r=n.sent,i=Object(d["a"])(r,2),a=i[0],o=i[1],t.account=a.data.results[0],t.institution=o.data.results[0],!t.account.employee_id){n.next=13;break}return n.next=12,t.employeeService.retrieve(t.account.employee_id);case 12:t.employee=n.sent.data;case 13:if(!t.employee||!t.employee.employee_group_id){n.next=17;break}return n.next=16,t.employeeGroupService.retrieve(t.employee.employee_group_id);case 16:t.employeeGroup=n.sent.data;case 17:if(!t.employee){n.next=24;break}return n.next=20,Promise.all([t.employeeService.retrieveSettingValue(t.employee.id,"working_session","weekly_working_time"),t.employeeService.retrieveSettingValue(t.employee.id,"working_session","working_days").then((function(e){var t=[];return e.Mon&&t.push("Mo"),e.Tue&&t.push("Di"),e.Wed&&t.push("Mi"),e.Thu&&t.push("Do"),e.Fri&&t.push("Fr"),e.Sat&&t.push("Sa"),e.Sun&&t.push("So"),t.join(", ")}))]);case 20:u=n.sent,c=Object(d["a"])(u,2),t.weeklyWorkingTime=c[0],t.workingDays=c[1];case 24:e&&e.target&&e.target.complete&&e.target.complete(),t.isLoaded=!0;case 26:case"end":return n.stop()}}),n)})))()}},beforeMount:function(){this.isLoaded=!1,this.loadData()}});n("3119");w.render=s,w.__scopeId="data-v-670760dd";t["default"]=w}}]);
//# sourceMappingURL=chunk-93d0b936.49d85cff.js.map