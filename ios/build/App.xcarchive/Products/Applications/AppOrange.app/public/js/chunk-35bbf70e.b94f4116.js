(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-35bbf70e"],{"1a82":function(e,t,n){"use strict";n.r(t);var i=n("7a23"),r=Object(i["i"])("Mitarbeiter anzeigen");function a(e,t,n,a,o,s){var u=Object(i["E"])("ion-label"),c=Object(i["E"])("ion-spinner"),l=Object(i["E"])("ion-item"),d=Object(i["E"])("zeit-detail");return Object(i["w"])(),Object(i["e"])(d,{service:e.employeeGroupService},Object(i["g"])({_:2},[e.$route.params.id?{name:"after-form",fn:Object(i["J"])((function(){return[Object(i["j"])(l,{button:"",detail:!e.isLoadingEmployees,onClick:t[1]||(t[1]=function(t){return e.showEmployees()})},{default:Object(i["J"])((function(){return[Object(i["j"])(u,null,{default:Object(i["J"])((function(){return[r]})),_:1}),e.isLoadingEmployees?(Object(i["w"])(),Object(i["e"])(c,{key:0,slot:"end"})):Object(i["f"])("",!0)]})),_:1},8,["detail"])]}))}:void 0]),1032,["service"])}var o=n("771a"),s=n("ab31"),u=n("7e68"),c=n("8a30"),l=Object(i["k"])({components:{ZeitDetail:u["b"],IonSpinner:c["H"],IonItem:c["o"],IonLabel:c["p"]},data:function(){return{employeeGroupService:o["a"],employeeService:s["b"],isLoadingEmployees:!1}},methods:{showEmployees:function(){var e=this;this.isLoadingEmployees=!0,this.employeeService.listParams({employeeGroups:[this.$route.params.id]}).then((function(){var t=e.$route.fullPath+"employees/";e.$router.push({path:t}).then((function(){e.isLoadingEmployees=!1}))}))}}});l.render=a;t["default"]=l},"771a":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n("a15b"),n("d3b7");var i=n("d4ec"),r=n("bee2"),a=n("262e"),o=n("2caf"),s=n("df40"),u=function(e){Object(a["a"])(n,e);var t=Object(o["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.call(this,"/api/v2/employees/groups/"),e.formFields=[new s["c"]("name","Abteilungsname",{autofocus:!0,mobileType:"stacked"})],e.cacheTimeout=1209600,e}return Object(r["a"])(n,[{key:"newResourceTitle",value:function(e){return Promise.resolve("Abteilung hinzufügen")}},{key:"newResourceConfirmation",value:function(e){return Promise.resolve("Abteilung hinzugefügt")}},{key:"deleteResourceMethod",value:function(e){return Promise.resolve("delete")}},{key:"deleteResourceTitle",value:function(e){return Promise.resolve("Entfernen")}},{key:"deleteResourceConfirmation",value:function(e){return Promise.resolve("Abteilung entfernt")}},{key:"listParams",value:function(e){var t=e.pagesize||50,n=e.page||1,i=e.query||"",r="?limit="+String(t)+"&offset="+String((n-1)*t)+"&q="+encodeURIComponent(String(i));return e.ids&&(r+="&ids="+e.ids.join("|")),this._get(r)}}]),n}(s["a"]),c=new u},"9e52":function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));n("a15b");var i=n("d4ec"),r=n("bee2"),a=n("262e"),o=n("2caf"),s=n("df40"),u=function(e){Object(a["a"])(n,e);var t=Object(o["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.call(this,"/api/v2/devices/physical-tokens/"),e.cacheTimeout=1209600,e}return Object(r["a"])(n,[{key:"list",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i="?limit="+String(t)+"&offset="+String((e-1)*t)+"&q="+encodeURIComponent(String(n));return this._get(i)}},{key:"listParams",value:function(e){e=e||{},e.pagesize=e.pagesize||1e3,e.page=e.page||1,e.query=e.query||"",e.fields=e.fields||["id"],e.ids=e.ids||[];var t="?limit="+String(e.pagesize)+"&offset="+String((e.page-1)*e.pagesize)+"&q="+encodeURIComponent(String(e.query))+"&fields="+e.fields.join("|")+"&ids="+e.ids.join("|");return this._get(t)}},{key:"listCreate",value:function(e){return this._post("",{ids:e})}},{key:"listDelete",value:function(e){return this._post("delete/",{ids:e})}},{key:"listAvailable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r="?limit="+String(t)+"&offset="+String((e-1)*t)+"&type=available&q="+encodeURIComponent(String(n))+"&additional="+String(i);return this._get(r)}}]),n}(s["a"]),c=new u;t["a"]=c},ab31:function(e,t,n){"use strict";n.d(t,"b",(function(){return f}));n("99af"),n("a15b"),n("b0c0"),n("d3b7"),n("96cf");var i=n("1da1"),r=n("d4ec"),a=n("bee2"),o=n("262e"),s=n("2caf"),u=n("df40"),c=n("771a"),l=n("9e52"),d=n("d62b"),m=n("d0ac"),v=function(e){Object(o["a"])(n,e);var t=Object(s["a"])(n);function n(){var e;return Object(r["a"])(this,n),e=t.call(this,"/api/v2/employees/employees/"),e.formFields=[new u["c"]("first_name","Vorname",{autofocus:!0}),new u["c"]("last_name","Nachname"),new u["c"]("email","E-Mail-Adresse",{mobileType:"stacked"}),new u["c"]("employee_group_id","Abteilung",{type:"select",remoteSourceService:c["a"],remoteSourceAttribute:"name"}),new u["c"]("physical_token_id","Token-Nummer",{type:"select",description:"Die ausgewählte Token-Nummer kann zur Authentifizierung am Zeiterfassungs-Terminal verwendet werden. Nur nicht bereits zugewiesene Nummern werden angezeigt. <a target='_blank' href='/tokens/'>Token verwalten</a>",remoteSourceService:l["b"],remoteSourceListMethod:"listAvailable",remoteSourceAttribute:"id",listPageSize:1e3}),new u["c"]("accounting_number","Personalnummer",{mobileType:"stacked",description:"Die Personalnummer wird verwendet, um den Mitarbeiter im Buchhaltungsexport zu identifizieren."})],"orange"==m["a"].id&&e.formFields.push(new u["c"]("external_id","aQrate Benutzername",{mobileType:"stacked",description:"Der Benutzername wird verwendet, um diesen Zeitblick Mitarbeiter einem aQrate Mitarbeiter bei Authentifizierung am MFP zuzuordnen."})),e.formFields=e.formFields.concat([new u["c"]("username",m["a"].name+" Benutzername",{mobileType:"stacked",description:"Der Benutzername wird vom Mitarbeiter benötigt, um sich gegenüber der "+m["a"].name+" Smartphone App und dem Web-Login (https://"+m["a"].url+"/) zu authentifizieren.",isReadOnly:!0,showCreate:!1}),new u["c"]("initial_password","Vorläufiges Passwort",{mobileType:"stacked",isReadOnly:!0,showCreate:!1})]),e.archivedFormFields=[new u["c"]("first_name","Vorname",{isReadOnly:!0}),new u["c"]("last_name","Nachname",{isReadOnly:!0}),new u["c"]("email","E-Mail-Adresse",{isReadOnly:!0}),new u["c"]("employee_group_id","Abteilung",{type:"select",remoteSourceService:c["a"],remoteSourceAttribute:"name",isReadOnly:!0}),new u["c"]("accounting_id","Personalnummer",{description:"Die Personalnummer wird verwendet, um den Mitarbeiter im Buchhaltungsexport zu identifizieren.",isReadOnly:!0})],"orange"==m["a"].id&&e.archivedFormFields.push(new u["c"]("external_id","aQrate Benutzername",{description:"Der Benutzername wird verwendet, um diesen Zeitblick Mitarbeiter einem aQrate Mitarbeiter bei Authentifizierung am MFP zuzuordnen.",isReadOnly:!0})),e.filterAttributes=[new u["b"]("showArchived","Archivierte Mitarbeiter anzeigen","boolean",!1,{visible:e.listParams({showArchived:!0}).then((function(e){return e.data.count>0}))}),new u["b"]("employeeGroups","Abteilungen","select",void 0,{multiple:!0,remoteSourceService:c["a"],visible:c["a"].listParams({}).then((function(e){return e.data.count>0}))})],e.cacheTimeout=1209600,e}return Object(a["a"])(n,[{key:"titleAttribute",value:function(){return Promise.resolve((function(e){return e.first_name+" "+e.last_name}))}},{key:"newResourceTitle",value:function(e){return Promise.resolve("Mitarbeiter hinzufügen")}},{key:"newResourceConfirmation",value:function(e){return Promise.resolve("Mitarbeiter hinzugefügt")}},{key:"deleteResourceMethod",value:function(e){return e?this.retrieve(e).then((function(e){return e.data.can_be_deleted?Promise.resolve("delete"):e.data.archived_at?Promise.resolve(""):Promise.resolve("archive")})):Promise.resolve("")}},{key:"deleteResourceTitle",value:function(e){return e?this.retrieve(e).then((function(e){return e.data.can_be_deleted?Promise.resolve("Entfernen"):e.data.archived_at?Promise.resolve(""):Promise.resolve("Archivieren")})):Promise.resolve("Entfernen")}},{key:"deleteResourceConfirmation",value:function(e){return e?this.retrieve(e).then((function(e){return e.data.can_be_deleted?Promise.resolve("Mitarbeiter entfernt"):e.data.archived_at?Promise.resolve(""):Promise.resolve("Mitarbeiter archiviert")})):Promise.resolve("Mitarbeiter entfernt")}},{key:"retrieveSettingValue",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,n,i){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.retrieveSettings(t);case 2:if(r=e.sent.data,!(n in r)||!(i in r[n])){e.next=5;break}return e.abrupt("return",r[n][i]);case 5:return e.abrupt("return",d["b"].retrieveSettingValue(n,i));case 6:case"end":return e.stop()}}),e,this)})));function t(t,n,i){return e.apply(this,arguments)}return t}()},{key:"retrieveSettings",value:function(e){return this._get(e+"/settings/")}},{key:"updateSettings",value:function(e,t){return this._post(e+"/settings/",t)}},{key:"resetPassword",value:function(e){return this._post(e+"/reset-password/",{})}},{key:"list",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,a="?limit="+String(t)+"&offset="+String((e-1)*t)+"&q="+encodeURIComponent(String(n));return void 0!=i&&(a=a+"&employee_groups="+i),!0===r&&(a+="&archived"),this._get(a)}},{key:"listParams",value:function(e){var t=e.pagesize||50,n=e.page||1,i=e.query||"",r="?limit="+String(t)+"&offset="+String((n-1)*t)+"&q="+encodeURIComponent(String(i));return e.verbosity&&(r+="&verbosity="+e.verbosity),e.ids&&(r+="&ids="+e.ids.join("|")),e.employeeGroups&&(r+="&employee_groups="+e.employeeGroups.join("|")),!0===e.showArchived&&(r+="&archived"),e.minimumAbsenceCount&&(r=r+"&absence_count__gte="+String(e.minimumAbsenceCount)),e.absenceDaterange&&(r=r+"&absence_daterange="+e.absenceDaterange),this._get(r,!1!==e.useCache)}},{key:"archive",value:function(e){return this._post(e+"/archive/",{})}}]),n}(u["a"]),f=new v;t["a"]=f}}]);
//# sourceMappingURL=chunk-35bbf70e.b94f4116.js.map